2026-02-07 09:20:11.449 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2026-02-07 09:20:12.102 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2026-02-07 09:20:12.105 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2026-02-07 09:20:12.360 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:20:12.549 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:20:12.613 +02:00 [DBG] Created DbConnection. (61ms).
2026-02-07 09:20:12.619 +02:00 [DBG] Migrating using database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:12.634 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:13.746 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:13.752 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2026-02-07 09:20:13.761 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2026-02-07 09:20:13.766 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (14ms).
2026-02-07 09:20:13.776 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:20:13.944 +02:00 [INF] Executed DbCommand (159ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:20:13.950 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:13.961 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (5ms).
2026-02-07 09:20:13.963 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:13.967 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:13.971 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-07 09:20:13.977 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2026-02-07 09:20:13.979 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2026-02-07 09:20:13.981 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2026-02-07 09:20:13.984 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-07 09:20:14.137 +02:00 [INF] Executed DbCommand (154ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-07 09:20:14.201 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2026-02-07 09:20:14.202 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2026-02-07 09:20:14.204 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2026-02-07 09:20:14.205 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-07 09:20:14.339 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-07 09:20:14.345 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:20:14.469 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:20:14.472 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2026-02-07 09:20:14.473 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2026-02-07 09:20:14.475 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2026-02-07 09:20:14.476 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:20:14.618 +02:00 [INF] Executed DbCommand (142ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:20:14.622 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2026-02-07 09:20:14.623 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2026-02-07 09:20:14.624 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2026-02-07 09:20:14.625 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-07 09:20:14.758 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-07 09:20:14.766 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:14.768 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:14.769 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:14.770 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-07 09:20:14.919 +02:00 [INF] Executed DbCommand (149ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-07 09:20:14.922 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:14.926 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 3ms reading results.
2026-02-07 09:20:14.936 +02:00 [INF] No migrations were applied. The database is already up to date.
2026-02-07 09:20:14.939 +02:00 [DBG] Committing transaction.
2026-02-07 09:20:15.069 +02:00 [DBG] Committed transaction.
2026-02-07 09:20:15.070 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2026-02-07 09:20:15.071 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2026-02-07 09:20:15.071 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2026-02-07 09:20:15.072 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-07 09:20:15.208 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-07 09:20:15.210 +02:00 [DBG] Disposing transaction.
2026-02-07 09:20:15.211 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:15.212 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:15.230 +02:00 [INF] User profile is available. Using 'C:\Users\mohammed\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-07 09:20:15.303 +02:00 [DBG] Compiling query expression: 
'DbSet<ApplicationRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2026-02-07 09:20:15.545 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationRole>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApplicationRole>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationRole.ConcurrencyStamp (string) Concurrency, 1], [Property: ApplicationRole.Description (string), 2], [Property: ApplicationRole.Name (string) MaxLength(256), 3], [Property: ApplicationRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Description, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationRole.ConcurrencyStamp (string) Concurrency, 1], [Property: ApplicationRole.Description (string), 2], [Property: ApplicationRole.Name (string) MaxLength(256), 3], [Property: ApplicationRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Description, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApplicationRole entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApplicationRole instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApplicationRole);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApplicationRole.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApplicationRole)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApplicationRole | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApplicationRole | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole")]: 
                            {
                                return 
                                {
                                    ApplicationRole instance;
                                    instance = new ApplicationRole();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Name>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<NormalizedName>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApplicationRole | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApplicationRole)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:20:15.591 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:15.594 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:15.595 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:15.596 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:15.598 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2026-02-07 09:20:15.600 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:20:15.763 +02:00 [INF] Executed DbCommand (164ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:20:15.800 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:15.815 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:15.818 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 53ms reading results.
2026-02-07 09:20:15.822 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:15.823 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:15.829 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:15.830 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:15.831 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:15.832 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:15.833 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:15.834 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:20:15.959 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:20:15.962 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:15.963 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:15.964 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:20:15.965 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:15.967 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:15.968 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:15.969 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:15.970 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:15.971 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:15.972 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:15.973 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:20:16.098 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:20:16.101 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:16.102 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.103 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:20:16.104 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.105 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:16.107 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.108 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.109 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:16.110 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:16.111 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:16.112 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:20:16.250 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:20:16.252 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:16.253 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.253 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:16.254 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.255 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:16.256 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.257 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.258 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:16.258 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:16.260 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:16.260 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:20:16.390 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:20:16.392 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:16.394 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.396 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 3ms reading results.
2026-02-07 09:20:16.398 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.399 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:16.413 +02:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2026-02-07 09:20:16.422 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApplicationUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.CreatedAt (DateTime) Required, 3], [Property: ApplicationUser.DisplayName (string) Required, 4], [Property: ApplicationUser.Email (string) MaxLength(256), 5], [Property: ApplicationUser.EmailConfirmed (bool) Required, 6], [Property: ApplicationUser.IsActive (bool) Required, 7], [Property: ApplicationUser.LastLoginAt (DateTime?), 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.RefreshToken (string), 16], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 17], [Property: ApplicationUser.SecurityStamp (string), 18], [Property: ApplicationUser.TenantId (Guid?) FK Index, 19], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 20], [Property: ApplicationUser.UserName (string) MaxLength(256), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.CreatedAt (DateTime) Required, 3], [Property: ApplicationUser.DisplayName (string) Required, 4], [Property: ApplicationUser.Email (string) MaxLength(256), 5], [Property: ApplicationUser.EmailConfirmed (bool) Required, 6], [Property: ApplicationUser.IsActive (bool) Required, 7], [Property: ApplicationUser.LastLoginAt (DateTime?), 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.RefreshToken (string), 16], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 17], [Property: ApplicationUser.SecurityStamp (string), 18], [Property: ApplicationUser.TenantId (Guid?) FK Index, 19], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 20], [Property: ApplicationUser.UserName (string) MaxLength(256), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApplicationUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApplicationUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApplicationUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApplicationUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApplicationUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]: 
                            {
                                return 
                                {
                                    ApplicationUser instance;
                                    instance = new ApplicationUser();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<DisplayName>k__BackingField = dataReader.GetString(4);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(6);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(7);
                                    instance.<LastLoginAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(9);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(10) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(10);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(15);
                                    instance.<RefreshToken>k__BackingField = dataReader.IsDBNull(16) ? default(string) : dataReader.GetString(16);
                                    instance.<RefreshTokenExpiry>k__BackingField = dataReader.IsDBNull(17) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(17);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                    instance.<TenantId>k__BackingField = dataReader.IsDBNull(19) ? default(Guid?) : (Guid?)dataReader.GetGuid(19);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(20);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApplicationUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:20:16.438 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.439 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.440 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:16.441 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:16.442 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:16.444 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:16.580 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:16.620 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:16.690 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.692 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 106ms reading results.
2026-02-07 09:20:16.694 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.695 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:16.700 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .Any(t => t.Slug == "demo-clinic")'
2026-02-07 09:20:16.707 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Tenants AS t
                WHERE t.Slug == N'demo-clinic')) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Tenants AS t
                WHERE t.Slug == N'demo-clinic'), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:20:16.725 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.727 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.728 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:16.729 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:16.730 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:16.731 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tenants] AS [t]
        WHERE [t].[Slug] = N'demo-clinic') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:20:16.859 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tenants] AS [t]
        WHERE [t].[Slug] = N'demo-clinic') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:20:16.862 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.863 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:20:16.864 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.865 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:16.877 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .Where(t => !(t.IsDeleted))
    .Where(t => !(DbSet<ClinicSettings>()
        .IgnoreQueryFilters()
        .Any(cs => cs.TenantId == t.Id && !(cs.IsDeleted))))'
2026-02-07 09:20:16.894 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Tenant>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
        SELECT t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
        FROM Tenants AS t
        WHERE Not(t.IsDeleted) && Not(EXISTS (
            SELECT 1
            FROM ClinicSettings AS c
            WHERE (c.TenantId == t.Id) && Not(c.IsDeleted)))) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
        SELECT t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
        FROM Tenants AS t
        WHERE Not(t.IsDeleted) && Not(EXISTS (
            SELECT 1
            FROM ClinicSettings AS c
            WHERE (c.TenantId == t.Id) && Not(c.IsDeleted))), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Tenant entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Tenant instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Tenant);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Tenant.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Tenant)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]: 
                        {
                            return 
                            {
                                Tenant instance;
                                instance = new Tenant();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ContactPhone>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                instance.<LogoUrl>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<Name>k__BackingField = dataReader.GetString(7);
                                instance.<Slug>k__BackingField = dataReader.GetString(8);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<TenantStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Tenant.Status (TenantStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(9));
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(10);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Tenant)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-02-07 09:20:16.902 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.903 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:16.904 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:16.905 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:16.906 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:16.907 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit) AND NOT EXISTS (
    SELECT 1
    FROM [ClinicSettings] AS [c]
    WHERE [c].[TenantId] = [t].[Id] AND [c].[IsDeleted] = CAST(0 AS bit))
2026-02-07 09:20:17.049 +02:00 [INF] Executed DbCommand (142ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit) AND NOT EXISTS (
    SELECT 1
    FROM [ClinicSettings] AS [c]
    WHERE [c].[TenantId] = [t].[Id] AND [c].[IsDeleted] = CAST(0 AS bit))
2026-02-07 09:20:17.054 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.056 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 3ms reading results.
2026-02-07 09:20:17.058 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.059 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:17.068 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .IgnoreQueryFilters()
    .FirstOrDefault(t => t.Slug == "demo-clinic" && !(t.IsDeleted))'
2026-02-07 09:20:17.079 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tenant>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Tenant>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
            SELECT TOP(1) t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
            FROM Tenants AS t
            WHERE (t.Slug == N'demo-clinic') && Not(t.IsDeleted)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
            SELECT TOP(1) t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
            FROM Tenants AS t
            WHERE (t.Slug == N'demo-clinic') && Not(t.IsDeleted), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Tenant entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Tenant instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Tenant);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Tenant.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Tenant)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]: 
                            {
                                return 
                                {
                                    Tenant instance;
                                    instance = new Tenant();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ContactPhone>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LogoUrl>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Name>k__BackingField = dataReader.GetString(7);
                                    instance.<Slug>k__BackingField = dataReader.GetString(8);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<TenantStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Tenant.Status (TenantStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(9));
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Tenant)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:20:17.087 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.088 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.090 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:17.091 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:17.092 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:17.093 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = N'demo-clinic' AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:20:17.218 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = N'demo-clinic' AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:20:17.241 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:17.273 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.275 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 54ms reading results.
2026-02-07 09:20:17.276 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.277 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:17.280 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .IgnoreQueryFilters()
    .Any()'
2026-02-07 09:20:17.282 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Patients AS p)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Patients AS p), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:20:17.289 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.290 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.293 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:17.294 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:17.295 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:17.297 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Patients] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:20:17.409 +02:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Patients] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:20:17.413 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.414 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:17.417 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.418 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:17.423 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.424 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.425 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:17.426 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:17.427 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:17.427 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:17.558 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:17.567 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:17.569 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.569 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 9ms reading results.
2026-02-07 09:20:17.570 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.571 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:17.583 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.584 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.585 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:17.586 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:17.587 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:17.588 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:17.718 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:17.720 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.721 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:17.722 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.722 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:17.737 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:17.741 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:17.774 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:17.777 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:17.780 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:17.782 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:17.827 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.828 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:17.831 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:17.832 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:17.834 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2026-02-07 09:20:17.836 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:17.988 +02:00 [INF] Executed DbCommand (152ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:18.000 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.002 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 10ms reading results.
2026-02-07 09:20:18.004 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.006 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:18.009 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:18.019 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:18.127 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.129 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.130 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:18.131 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:18.133 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:18.134 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:18.258 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:18.260 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.261 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:18.262 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.264 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:18.265 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:18.266 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:18.267 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:18.268 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:18.270 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:18.271 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:18.273 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.274 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.276 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:18.277 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:18.280 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2026-02-07 09:20:18.282 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:18.419 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:18.423 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.424 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:18.426 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.427 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:18.428 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:18.430 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:18.433 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.434 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.436 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:18.436 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:18.437 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:18.438 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:18.581 +02:00 [INF] Executed DbCommand (142ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:18.585 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:18.586 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.587 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:20:18.588 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.590 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:18.592 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.594 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.595 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:18.596 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:18.597 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:18.599 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:18.739 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:18.743 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.745 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:18.746 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.747 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:18.749 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:18.751 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:18.753 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:18.754 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:18.755 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:18.756 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:18.758 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.760 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.761 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:18.762 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:18.763 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:18.765 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:18.898 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:18.900 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.901 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:18.902 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.903 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:18.904 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:18.905 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:18.979 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.981 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:18.982 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:18.983 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:18.983 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:18.984 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:19.119 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:19.123 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.125 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:20:19.127 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.129 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (2ms).
2026-02-07 09:20:19.132 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:19.134 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:19.135 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:19.136 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:19.137 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:19.138 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:19.139 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.140 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.141 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:19.142 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:19.143 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:19.144 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:19.268 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:19.272 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.273 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:19.274 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.275 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:19.277 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:19.279 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:19.282 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .IgnoreQueryFilters()
    .Any(e => e.UserId == __staff1_Id_0)'
2026-02-07 09:20:19.286 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Employees AS e
                WHERE e.UserId == @__staff1_Id_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Employees AS e
                WHERE e.UserId == @__staff1_Id_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:20:19.289 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.290 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.291 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:19.292 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:19.292 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:19.293 +02:00 [DBG] Executing DbCommand [Parameters=[@__staff1_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[UserId] = @__staff1_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:20:19.428 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__staff1_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[UserId] = @__staff1_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:20:19.430 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.431 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:19.432 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.432 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:19.434 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.434 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.435 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:19.436 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:19.436 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:19.437 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:19.558 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:19.560 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:19.561 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.562 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:20:19.563 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.564 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:19.565 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.566 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.567 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:19.568 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:19.569 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:19.572 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:19.719 +02:00 [INF] Executed DbCommand (147ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:19.722 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.724 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:19.725 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.726 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:19.728 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:19.730 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:19.731 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:19.732 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:19.732 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:19.733 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:19.735 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.736 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.737 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:19.737 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:19.739 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:19.740 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:19.888 +02:00 [INF] Executed DbCommand (149ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:19.890 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.891 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:19.892 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.893 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:19.895 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:19.896 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:19.974 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.975 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:19.976 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:19.977 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:19.978 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:19.980 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:20.108 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:20.111 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.112 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:20.113 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.114 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:20.115 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:20.116 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:20.117 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:20.118 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:20.119 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:20.120 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:20.121 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.122 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.123 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:20.124 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:20.124 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:20.125 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:20.260 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:20.262 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.263 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:20.264 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.265 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:20.266 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:20.267 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:20.269 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .IgnoreQueryFilters()
    .Any(e => e.UserId == __staff2_Id_0)'
2026-02-07 09:20:20.274 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Employees AS e
                WHERE e.UserId == @__staff2_Id_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Employees AS e
                WHERE e.UserId == @__staff2_Id_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:20:20.277 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.278 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.280 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:20.281 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:20.282 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:20.282 +02:00 [DBG] Executing DbCommand [Parameters=[@__staff2_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[UserId] = @__staff2_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:20:20.418 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[@__staff2_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[UserId] = @__staff2_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:20:20.422 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.423 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:20.425 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.426 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:20.427 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.428 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.430 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:20.431 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:20.431 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:20.432 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:20.578 +02:00 [INF] Executed DbCommand (146ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:20.580 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:20.581 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.582 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:20:20.583 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.584 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:20.586 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.587 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.588 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:20.588 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:20.589 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:20.590 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:20.732 +02:00 [INF] Executed DbCommand (141ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:20.734 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.735 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:20.736 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.738 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (2ms).
2026-02-07 09:20:20.742 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:20.743 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:20.745 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:20.746 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:20.746 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:20.748 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:20.750 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.752 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.753 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:20.754 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:20.755 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:20.757 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:20.868 +02:00 [INF] Executed DbCommand (111ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:20.871 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.872 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:20.874 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.875 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:20.876 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:20.878 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:20.952 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.953 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:20.954 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:20.955 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:20.956 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:20.957 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:21.088 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:21.090 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.091 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:21.092 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.093 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:21.094 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:21.095 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:21.096 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:21.097 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:21.097 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:21.098 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:21.100 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.100 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.101 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:21.102 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:21.103 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:21.104 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:21.228 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:21.232 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.233 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:21.235 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.236 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:21.237 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:21.238 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:21.240 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .IgnoreQueryFilters()
    .Any(d => d.UserId == __doc1User_Id_0)'
2026-02-07 09:20:21.244 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Doctors AS d
                WHERE d.UserId == @__doc1User_Id_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Doctors AS d
                WHERE d.UserId == @__doc1User_Id_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:20:21.246 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.248 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.249 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:21.249 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:21.250 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:21.251 +02:00 [DBG] Executing DbCommand [Parameters=[@__doc1User_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[UserId] = @__doc1User_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:20:21.380 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__doc1User_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[UserId] = @__doc1User_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:20:21.381 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.383 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:21.384 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.385 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:21.387 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.389 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.390 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:21.391 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:21.392 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:21.393 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:21.528 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:21.531 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:21.533 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.534 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:20:21.535 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.536 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:21.538 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.539 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.540 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:21.541 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:21.542 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:21.542 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:21.669 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:21.672 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.673 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:21.675 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.676 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:21.677 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:21.678 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:21.680 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:21.680 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:21.681 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:21.682 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:21.683 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.684 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.685 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:21.686 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:21.687 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:21.688 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:21.818 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:21.821 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.822 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:21.824 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.825 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:21.826 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:21.827 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:21.914 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.915 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:21.916 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:21.917 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:21.918 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:21.919 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:22.053 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:22.057 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.057 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:22.058 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.059 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:22.060 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:22.061 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:22.062 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:22.062 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:22.063 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:22.064 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:22.065 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.066 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.066 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:22.068 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:22.069 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:22.071 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:22.209 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:22.211 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.213 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:22.214 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.215 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:22.218 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:22.220 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:22.222 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .IgnoreQueryFilters()
    .Any(d => d.UserId == __doc2User_Id_0)'
2026-02-07 09:20:22.227 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Doctors AS d
                WHERE d.UserId == @__doc2User_Id_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Doctors AS d
                WHERE d.UserId == @__doc2User_Id_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:20:22.229 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.230 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.231 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:22.232 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:22.233 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:22.234 +02:00 [DBG] Executing DbCommand [Parameters=[@__doc2User_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[UserId] = @__doc2User_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:20:22.378 +02:00 [INF] Executed DbCommand (144ms) [Parameters=[@__doc2User_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[UserId] = @__doc2User_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:20:22.380 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.381 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:22.382 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.383 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:22.384 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:22.385 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:22.386 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:22.387 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:22.388 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:22.388 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 0 entities written to the database.
2026-02-07 09:20:22.390 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.391 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.391 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:22.392 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:22.393 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:22.394 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:22.540 +02:00 [INF] Executed DbCommand (146ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:22.542 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:22.543 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.544 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:20:22.545 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.546 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:22.548 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.549 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.550 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:22.551 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:22.552 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:22.552 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:22.691 +02:00 [INF] Executed DbCommand (139ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:22.693 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.694 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:22.695 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.696 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:22.697 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:22.698 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:22.699 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:22.699 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:22.700 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:22.701 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:22.702 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.703 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.704 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:22.704 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:22.705 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:22.706 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:22.846 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:22.848 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.849 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:22.849 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.850 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:22.851 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:22.852 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:22.920 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.922 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:22.924 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:22.924 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:22.925 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:22.926 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:23.068 +02:00 [INF] Executed DbCommand (142ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:23.071 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.072 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:23.073 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.074 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:23.076 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:23.077 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:23.079 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:23.080 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:23.081 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:23.082 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:23.083 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.084 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.085 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:23.086 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:23.087 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:23.088 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:23.228 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:23.230 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.231 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:23.232 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.233 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:23.234 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:23.236 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:23.273 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:23.276 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:23.279 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.280 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.281 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:23.282 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:23.283 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:23.284 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:23.419 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:23.422 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:23.423 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.424 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:20:23.425 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.426 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:23.427 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.428 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.429 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:23.430 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:23.430 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:23.431 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:23.568 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:23.571 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.572 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:23.573 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.573 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:23.575 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:23.576 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:23.585 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:23.675 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:23.676 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:23.677 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:23.679 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:20:23.681 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:20:23.687 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:23.700 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:20:23.702 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.703 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:23.704 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:20:23.853 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:20:23.854 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:23.855 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:23.858 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2026-02-07 09:20:23.859 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:20:24.008 +02:00 [INF] Executed DbCommand (149ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:20:24.010 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.011 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:24.013 +02:00 [DBG] Committing transaction.
2026-02-07 09:20:24.159 +02:00 [DBG] Committed transaction.
2026-02-07 09:20:24.162 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.164 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (2ms).
2026-02-07 09:20:24.167 +02:00 [DBG] Disposing transaction.
2026-02-07 09:20:24.169 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:24.171 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:24.174 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:24.175 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:20:24.268 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.271 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.273 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:24.275 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:24.278 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2026-02-07 09:20:24.281 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:24.418 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:24.422 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.423 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:24.425 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.426 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:24.427 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:24.429 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:24.430 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:24.431 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:24.432 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:24.433 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:24.434 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.435 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.436 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:24.437 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:24.437 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:24.438 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:24.579 +02:00 [INF] Executed DbCommand (141ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:24.581 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.582 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:24.583 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.584 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:24.585 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:24.586 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:24.588 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:24.589 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:24.590 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.591 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.592 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:24.592 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:24.593 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:24.594 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:24.725 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:24.727 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:24.728 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.729 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:20:24.730 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.730 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:24.733 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.733 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.735 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:24.735 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:24.736 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:24.738 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:24.871 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:24.872 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.873 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:24.874 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.875 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:24.876 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:24.880 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:24.881 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:24.882 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:24.882 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:24.883 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:24.884 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:20:24.885 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:20:24.885 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:24.887 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:20:24.888 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.889 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:24.889 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:20:25.008 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:20:25.009 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:25.010 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:25.010 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:25.011 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:20:25.148 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:20:25.150 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.151 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:25.152 +02:00 [DBG] Committing transaction.
2026-02-07 09:20:25.278 +02:00 [DBG] Committed transaction.
2026-02-07 09:20:25.279 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.281 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:25.282 +02:00 [DBG] Disposing transaction.
2026-02-07 09:20:25.283 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:25.285 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:25.286 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:25.288 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:20:25.368 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.369 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.371 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:25.371 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:25.372 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:25.373 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:25.509 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:25.511 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.511 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:25.512 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.513 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:25.514 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:25.515 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:25.515 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:25.516 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:25.517 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:25.517 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:25.518 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.519 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.520 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:25.521 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:25.521 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:25.522 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:25.658 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:25.661 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.662 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:25.663 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.664 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:25.667 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:25.669 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:25.670 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:25.672 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:25.673 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.674 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.675 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:25.676 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:25.677 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:25.678 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:25.809 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:25.810 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:25.811 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.812 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:25.813 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.814 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:25.815 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.816 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.817 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:25.819 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:25.820 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:25.820 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:25.958 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:25.960 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.962 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:25.963 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.964 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:25.965 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:25.967 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:25.968 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:25.970 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:25.972 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:25.973 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:25.974 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:20:25.974 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:20:25.975 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:25.977 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:20:25.977 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.980 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:25.981 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:20:26.114 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:20:26.115 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:26.116 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:26.117 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:26.118 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:20:26.238 +02:00 [INF] Executed DbCommand (120ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:20:26.242 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.243 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:26.245 +02:00 [DBG] Committing transaction.
2026-02-07 09:20:26.378 +02:00 [DBG] Committed transaction.
2026-02-07 09:20:26.378 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.379 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:26.380 +02:00 [DBG] Disposing transaction.
2026-02-07 09:20:26.381 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:26.382 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:26.383 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:26.384 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:20:26.463 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.465 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.466 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:26.467 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:26.468 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:26.469 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:26.607 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:26.608 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.609 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:26.610 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.610 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:26.611 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:26.612 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:26.613 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:26.614 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:26.614 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:26.615 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:26.617 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.619 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.621 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:26.622 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:26.625 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2026-02-07 09:20:26.627 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:26.763 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:26.765 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.766 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:26.767 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.768 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:26.769 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:26.770 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:26.771 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:26.772 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:26.773 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.774 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.775 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:26.776 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:26.778 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:26.779 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:26.908 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:26.910 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:26.911 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.912 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:20:26.913 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.914 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:26.916 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.917 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:26.918 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:26.921 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:26.922 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2026-02-07 09:20:26.923 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:27.048 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:27.050 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.051 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:27.053 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.053 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:27.055 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:27.056 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:27.057 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:27.058 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:27.058 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:27.059 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:27.060 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:20:27.061 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:20:27.062 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:27.062 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:20:27.063 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.064 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.065 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:20:27.198 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:20:27.200 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:27.201 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:27.202 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:27.203 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:20:27.340 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:20:27.342 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.343 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:27.344 +02:00 [DBG] Committing transaction.
2026-02-07 09:20:27.478 +02:00 [DBG] Committed transaction.
2026-02-07 09:20:27.479 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.479 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:27.480 +02:00 [DBG] Disposing transaction.
2026-02-07 09:20:27.481 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:27.482 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:27.483 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:27.484 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:20:27.549 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.550 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.552 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:27.553 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:27.554 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:27.555 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:27.688 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:27.691 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.692 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:27.693 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.695 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:27.696 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:27.697 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:27.698 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:27.699 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:27.700 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:27.701 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:27.702 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.703 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.704 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:27.705 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:27.706 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:27.708 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:27.838 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:27.841 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.842 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:27.842 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.843 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:27.844 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:27.846 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:27.847 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:27.848 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:27.849 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.850 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.851 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:27.852 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:27.853 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:27.854 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:27.989 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:27.994 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:27.995 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:27.996 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:20:27.999 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:28.000 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:28.002 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:28.003 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:28.004 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:28.005 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:28.006 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:28.007 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:28.158 +02:00 [INF] Executed DbCommand (150ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:28.161 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:28.161 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:28.162 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:28.163 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:28.164 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:28.166 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:28.168 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:28.170 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:28.172 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:28.173 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:28.174 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:20:28.175 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:20:28.176 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:28.177 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:20:28.178 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:28.179 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:28.180 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:20:28.310 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:20:28.310 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:28.311 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:28.313 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:28.315 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:20:28.473 +02:00 [INF] Executed DbCommand (158ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:20:28.476 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:28.477 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:28.479 +02:00 [DBG] Committing transaction.
2026-02-07 09:20:28.618 +02:00 [DBG] Committed transaction.
2026-02-07 09:20:28.619 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:28.621 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:28.624 +02:00 [DBG] Disposing transaction.
2026-02-07 09:20:28.624 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:28.626 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:28.627 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:28.628 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:20:28.696 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:28.698 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:28.699 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:28.700 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:28.701 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:28.702 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:28.834 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:20:28.836 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:28.837 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:28.838 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:28.840 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:28.841 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:28.842 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:28.843 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:28.843 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:28.844 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:28.845 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:28.848 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:28.849 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:28.851 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:28.851 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:28.853 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:28.854 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:29.002 +02:00 [INF] Executed DbCommand (147ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:20:29.003 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:29.004 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:29.006 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:29.008 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:29.009 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:29.010 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:20:29.012 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:29.014 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:29.016 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:29.017 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:29.018 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:29.020 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:29.021 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:29.022 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:20:29.023 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:20:29.024 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:29.025 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:20:29.027 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:29.028 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:29.030 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:20:29.162 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:20:29.164 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:29.164 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:29.166 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:20:29.167 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:20:29.298 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:20:29.300 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:29.301 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:20:29.302 +02:00 [DBG] Committing transaction.
2026-02-07 09:20:29.418 +02:00 [DBG] Committed transaction.
2026-02-07 09:20:29.420 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:29.421 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:20:29.422 +02:00 [DBG] Disposing transaction.
2026-02-07 09:20:29.423 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:29.425 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:29.426 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:20:29.428 +02:00 [DBG] The navigation 'Patient.ParentPatient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:29.434 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:29.435 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:29.436 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:29.437 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:29.438 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:29.439 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:29.439 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:20:29.440 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:20:29.441 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:20:29.441 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:20:29.442 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:20:29.442 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:29.444 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:29.445 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:20:29.588 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:20:29.589 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:20:29.590 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:20:29.591 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:20:29.592 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:20:29.750 +02:00 [INF] Executed DbCommand (157ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:20:29.752 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:29.753 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:20:29.758 +02:00 [DBG] Committing transaction.
2026-02-07 09:20:29.900 +02:00 [DBG] Committed transaction.
2026-02-07 09:20:29.903 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:29.905 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:20:29.906 +02:00 [DBG] Disposing transaction.
2026-02-07 09:20:29.908 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:29.912 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:20:29.914 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:20:29.919 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:20:29.924 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:20:29.929 +02:00 [DBG] Disposed connection to database '' on server '' (4ms).
2026-02-07 09:20:29.987 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2026-02-07 09:20:30.036 +02:00 [DBG] Hosting starting
2026-02-07 09:20:30.046 +02:00 [DBG] Reading data from file 'C:\Users\mohammed\AppData\Local\ASP.NET\DataProtection-Keys\key-26161ed5-7c64-48e1-ab2f-8f185dfd8996.xml'.
2026-02-07 09:20:30.049 +02:00 [DBG] Reading data from file 'C:\Users\mohammed\AppData\Local\ASP.NET\DataProtection-Keys\key-84a692a1-63ae-4678-b93e-0ab94753e8d7.xml'.
2026-02-07 09:20:30.050 +02:00 [DBG] Reading data from file 'C:\Users\mohammed\AppData\Local\ASP.NET\DataProtection-Keys\key-f4153322-8356-4eea-b501-304b2b3b1485.xml'.
2026-02-07 09:20:30.054 +02:00 [DBG] Found key {26161ed5-7c64-48e1-ab2f-8f185dfd8996}.
2026-02-07 09:20:30.060 +02:00 [DBG] Found key {84a692a1-63ae-4678-b93e-0ab94753e8d7}.
2026-02-07 09:20:30.061 +02:00 [DBG] Found key {f4153322-8356-4eea-b501-304b2b3b1485}.
2026-02-07 09:20:30.066 +02:00 [DBG] Considering key {f4153322-8356-4eea-b501-304b2b3b1485} with expiration date 2026-02-17 21:31:59Z as default key.
2026-02-07 09:20:30.069 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-02-07 09:20:30.071 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-02-07 09:20:30.073 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-02-07 09:20:30.075 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-02-07 09:20:30.076 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-02-07 09:20:30.078 +02:00 [DBG] Using key {f4153322-8356-4eea-b501-304b2b3b1485} as the default key.
2026-02-07 09:20:30.078 +02:00 [DBG] Key ring with default key {f4153322-8356-4eea-b501-304b2b3b1485} was loaded during application startup.
2026-02-07 09:20:30.113 +02:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2026-02-07 09:20:30.114 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-02-07 09:20:30.139 +02:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5094: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2026-02-07 09:21:32.317 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2026-02-07 09:21:32.727 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2026-02-07 09:21:32.730 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2026-02-07 09:21:32.907 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:21:33.061 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:21:33.093 +02:00 [DBG] Created DbConnection. (30ms).
2026-02-07 09:21:33.098 +02:00 [DBG] Migrating using database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:33.102 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:34.094 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:34.104 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2026-02-07 09:21:34.112 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2026-02-07 09:21:34.115 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (14ms).
2026-02-07 09:21:34.121 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:21:34.262 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:21:34.266 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:34.271 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (4ms).
2026-02-07 09:21:34.273 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:34.274 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:34.277 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-07 09:21:34.280 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2026-02-07 09:21:34.282 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2026-02-07 09:21:34.283 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2026-02-07 09:21:34.284 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-07 09:21:34.439 +02:00 [INF] Executed DbCommand (155ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-07 09:21:34.489 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2026-02-07 09:21:34.490 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2026-02-07 09:21:34.491 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2026-02-07 09:21:34.492 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-07 09:21:34.628 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-07 09:21:34.634 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:21:34.759 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:21:34.761 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2026-02-07 09:21:34.762 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2026-02-07 09:21:34.764 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2026-02-07 09:21:34.765 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:21:34.889 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:21:34.892 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2026-02-07 09:21:34.892 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2026-02-07 09:21:34.893 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2026-02-07 09:21:34.894 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-07 09:21:35.019 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-07 09:21:35.022 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:35.023 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:35.024 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:21:35.026 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-07 09:21:35.150 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-07 09:21:35.154 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:35.156 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:21:35.162 +02:00 [INF] No migrations were applied. The database is already up to date.
2026-02-07 09:21:35.164 +02:00 [DBG] Committing transaction.
2026-02-07 09:21:35.289 +02:00 [DBG] Committed transaction.
2026-02-07 09:21:35.291 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2026-02-07 09:21:35.291 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2026-02-07 09:21:35.292 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2026-02-07 09:21:35.293 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-07 09:21:35.419 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-07 09:21:35.422 +02:00 [DBG] Disposing transaction.
2026-02-07 09:21:35.423 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:35.424 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:35.438 +02:00 [INF] User profile is available. Using 'C:\Users\mohammed\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-07 09:21:35.475 +02:00 [DBG] Compiling query expression: 
'DbSet<ApplicationRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2026-02-07 09:21:35.634 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationRole>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApplicationRole>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationRole.ConcurrencyStamp (string) Concurrency, 1], [Property: ApplicationRole.Description (string), 2], [Property: ApplicationRole.Name (string) MaxLength(256), 3], [Property: ApplicationRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Description, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationRole.ConcurrencyStamp (string) Concurrency, 1], [Property: ApplicationRole.Description (string), 2], [Property: ApplicationRole.Name (string) MaxLength(256), 3], [Property: ApplicationRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Description, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApplicationRole entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApplicationRole instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApplicationRole);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApplicationRole.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApplicationRole)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApplicationRole | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApplicationRole | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole")]: 
                            {
                                return 
                                {
                                    ApplicationRole instance;
                                    instance = new ApplicationRole();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Name>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<NormalizedName>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApplicationRole | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApplicationRole)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:21:35.665 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:35.667 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:35.668 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:35.669 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:35.672 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2026-02-07 09:21:35.674 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:21:35.823 +02:00 [INF] Executed DbCommand (151ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:21:35.853 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:35.867 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:35.868 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 43ms reading results.
2026-02-07 09:21:35.870 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:35.871 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:35.874 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:35.875 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:35.876 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:35.876 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:35.877 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:35.878 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:21:35.999 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:21:36.001 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:36.003 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.004 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:21:36.005 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.006 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:36.007 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.008 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.009 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:36.010 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:36.011 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:36.012 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:21:36.149 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:21:36.151 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:36.152 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.153 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:21:36.155 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.156 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:36.157 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.159 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.160 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:36.161 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:36.161 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:36.162 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:21:36.299 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:21:36.301 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:36.302 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.303 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:21:36.304 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.305 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:36.307 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.308 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.309 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:36.311 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:36.312 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2026-02-07 09:21:36.314 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:21:36.450 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:21:36.452 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:36.453 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.454 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:36.454 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.455 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:36.458 +02:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2026-02-07 09:21:36.465 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApplicationUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.CreatedAt (DateTime) Required, 3], [Property: ApplicationUser.DisplayName (string) Required, 4], [Property: ApplicationUser.Email (string) MaxLength(256), 5], [Property: ApplicationUser.EmailConfirmed (bool) Required, 6], [Property: ApplicationUser.IsActive (bool) Required, 7], [Property: ApplicationUser.LastLoginAt (DateTime?), 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.RefreshToken (string), 16], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 17], [Property: ApplicationUser.SecurityStamp (string), 18], [Property: ApplicationUser.TenantId (Guid?) FK Index, 19], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 20], [Property: ApplicationUser.UserName (string) MaxLength(256), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.CreatedAt (DateTime) Required, 3], [Property: ApplicationUser.DisplayName (string) Required, 4], [Property: ApplicationUser.Email (string) MaxLength(256), 5], [Property: ApplicationUser.EmailConfirmed (bool) Required, 6], [Property: ApplicationUser.IsActive (bool) Required, 7], [Property: ApplicationUser.LastLoginAt (DateTime?), 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.RefreshToken (string), 16], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 17], [Property: ApplicationUser.SecurityStamp (string), 18], [Property: ApplicationUser.TenantId (Guid?) FK Index, 19], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 20], [Property: ApplicationUser.UserName (string) MaxLength(256), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApplicationUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApplicationUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApplicationUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApplicationUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApplicationUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]: 
                            {
                                return 
                                {
                                    ApplicationUser instance;
                                    instance = new ApplicationUser();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<DisplayName>k__BackingField = dataReader.GetString(4);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(6);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(7);
                                    instance.<LastLoginAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(9);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(10) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(10);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(15);
                                    instance.<RefreshToken>k__BackingField = dataReader.IsDBNull(16) ? default(string) : dataReader.GetString(16);
                                    instance.<RefreshTokenExpiry>k__BackingField = dataReader.IsDBNull(17) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(17);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                    instance.<TenantId>k__BackingField = dataReader.IsDBNull(19) ? default(Guid?) : (Guid?)dataReader.GetGuid(19);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(20);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApplicationUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:21:36.472 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.473 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.474 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:36.474 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:36.475 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:36.476 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:36.609 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:36.625 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:36.658 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.659 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 47ms reading results.
2026-02-07 09:21:36.659 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.660 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:36.663 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .Any(t => t.Slug == "demo-clinic")'
2026-02-07 09:21:36.668 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Tenants AS t
                WHERE t.Slug == N'demo-clinic')) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Tenants AS t
                WHERE t.Slug == N'demo-clinic'), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:21:36.678 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.680 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.681 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:36.682 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:36.682 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:36.683 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tenants] AS [t]
        WHERE [t].[Slug] = N'demo-clinic') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:21:36.808 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tenants] AS [t]
        WHERE [t].[Slug] = N'demo-clinic') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:21:36.811 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.812 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:36.813 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.814 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:36.820 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .Where(t => !(t.IsDeleted))
    .Where(t => !(DbSet<ClinicSettings>()
        .IgnoreQueryFilters()
        .Any(cs => cs.TenantId == t.Id && !(cs.IsDeleted))))'
2026-02-07 09:21:36.840 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Tenant>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
        SELECT t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
        FROM Tenants AS t
        WHERE Not(t.IsDeleted) && Not(EXISTS (
            SELECT 1
            FROM ClinicSettings AS c
            WHERE (c.TenantId == t.Id) && Not(c.IsDeleted)))) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
        SELECT t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
        FROM Tenants AS t
        WHERE Not(t.IsDeleted) && Not(EXISTS (
            SELECT 1
            FROM ClinicSettings AS c
            WHERE (c.TenantId == t.Id) && Not(c.IsDeleted))), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Tenant entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Tenant instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Tenant);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Tenant.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Tenant)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]: 
                        {
                            return 
                            {
                                Tenant instance;
                                instance = new Tenant();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ContactPhone>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                instance.<LogoUrl>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<Name>k__BackingField = dataReader.GetString(7);
                                instance.<Slug>k__BackingField = dataReader.GetString(8);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<TenantStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Tenant.Status (TenantStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(9));
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(10);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Tenant)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-02-07 09:21:36.848 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.849 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.851 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:36.852 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:36.853 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:36.853 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit) AND NOT EXISTS (
    SELECT 1
    FROM [ClinicSettings] AS [c]
    WHERE [c].[TenantId] = [t].[Id] AND [c].[IsDeleted] = CAST(0 AS bit))
2026-02-07 09:21:36.979 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit) AND NOT EXISTS (
    SELECT 1
    FROM [ClinicSettings] AS [c]
    WHERE [c].[TenantId] = [t].[Id] AND [c].[IsDeleted] = CAST(0 AS bit))
2026-02-07 09:21:36.985 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.987 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 4ms reading results.
2026-02-07 09:21:36.990 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:36.991 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:37.000 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .IgnoreQueryFilters()
    .FirstOrDefault(t => t.Slug == "demo-clinic" && !(t.IsDeleted))'
2026-02-07 09:21:37.005 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tenant>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Tenant>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
            SELECT TOP(1) t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
            FROM Tenants AS t
            WHERE (t.Slug == N'demo-clinic') && Not(t.IsDeleted)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
            SELECT TOP(1) t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
            FROM Tenants AS t
            WHERE (t.Slug == N'demo-clinic') && Not(t.IsDeleted), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Tenant entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Tenant instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Tenant);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Tenant.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Tenant)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]: 
                            {
                                return 
                                {
                                    Tenant instance;
                                    instance = new Tenant();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ContactPhone>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LogoUrl>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Name>k__BackingField = dataReader.GetString(7);
                                    instance.<Slug>k__BackingField = dataReader.GetString(8);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<TenantStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Tenant.Status (TenantStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(9));
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Tenant)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:21:37.010 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.011 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.012 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:37.012 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:37.013 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:37.014 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = N'demo-clinic' AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:21:37.149 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = N'demo-clinic' AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:21:37.159 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:37.172 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.173 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 21ms reading results.
2026-02-07 09:21:37.174 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.175 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:37.176 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .IgnoreQueryFilters()
    .Any()'
2026-02-07 09:21:37.179 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Patients AS p)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Patients AS p), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:21:37.183 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.185 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.186 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:37.187 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:37.188 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:37.188 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Patients] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:21:37.318 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Patients] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:21:37.320 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.321 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:37.321 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.322 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:37.325 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.326 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.326 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:37.327 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:37.328 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:37.328 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:37.460 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:37.470 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:37.472 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.472 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 9ms reading results.
2026-02-07 09:21:37.473 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.474 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:37.480 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.486 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.487 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:37.488 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:37.489 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:37.490 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:37.608 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:37.610 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.611 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:37.612 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.613 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:37.624 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:37.631 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:37.658 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:37.661 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:37.662 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:37.663 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:37.704 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.705 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.707 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:37.707 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:37.708 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:37.709 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:37.829 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:37.837 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.839 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 6ms reading results.
2026-02-07 09:21:37.840 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.841 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:37.844 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:37.847 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:37.918 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.919 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:37.920 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:37.920 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:37.921 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:37.922 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:38.079 +02:00 [INF] Executed DbCommand (157ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:38.082 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.083 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:38.084 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.085 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:38.087 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:38.088 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:38.088 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:38.089 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:38.089 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:38.090 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:38.091 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.092 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.092 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:38.093 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:38.094 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:38.094 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:38.219 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:38.222 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.223 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:38.225 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.227 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:38.228 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:38.229 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:38.232 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.233 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.235 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:38.236 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:38.236 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:38.237 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:38.369 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:38.375 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:38.377 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.382 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 7ms reading results.
2026-02-07 09:21:38.384 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.387 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (2ms).
2026-02-07 09:21:38.390 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.391 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.392 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:38.393 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:38.394 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:38.395 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:38.521 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:38.523 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.523 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:38.525 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.525 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:38.527 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:38.529 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:38.532 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:38.533 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:38.534 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:38.535 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:38.536 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.537 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.538 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:38.539 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:38.539 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:38.540 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:38.668 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:38.671 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.672 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:38.673 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.673 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:38.675 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:38.676 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:38.736 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.737 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.738 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:38.738 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:38.739 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:38.740 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:38.881 +02:00 [INF] Executed DbCommand (141ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:38.884 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.886 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:38.887 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.888 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:38.889 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:38.891 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:38.892 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:38.892 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:38.893 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:38.893 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:38.895 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.895 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:38.896 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:38.897 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:38.897 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:38.898 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:39.024 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:39.026 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.027 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:39.028 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.029 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:39.031 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:39.032 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:39.035 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .IgnoreQueryFilters()
    .Any(e => e.UserId == __staff1_Id_0)'
2026-02-07 09:21:39.040 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Employees AS e
                WHERE e.UserId == @__staff1_Id_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Employees AS e
                WHERE e.UserId == @__staff1_Id_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:21:39.043 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.043 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.044 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:39.045 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:39.046 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:21:39.047 +02:00 [DBG] Executing DbCommand [Parameters=[@__staff1_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[UserId] = @__staff1_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:21:39.170 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@__staff1_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[UserId] = @__staff1_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:21:39.171 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.172 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:39.173 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.173 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:39.174 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.175 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.176 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:39.176 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:39.177 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:39.177 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:39.310 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:39.314 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:39.316 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.317 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 3ms reading results.
2026-02-07 09:21:39.318 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.319 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:39.320 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.321 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.322 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:39.322 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:39.323 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:39.324 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:39.449 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:39.451 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.452 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:39.453 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.454 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:39.456 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:39.457 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:39.458 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:39.458 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:39.459 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:39.460 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:39.461 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.462 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.463 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:39.464 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:39.466 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:21:39.467 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:39.598 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:39.600 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.601 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:39.602 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.603 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:39.603 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:39.605 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:39.662 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.663 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.663 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:39.664 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:39.664 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:39.665 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:39.789 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:39.794 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.796 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:21:39.799 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.801 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:39.802 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:39.803 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:39.804 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:39.805 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:39.806 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:39.808 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:39.809 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.811 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.811 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:39.812 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:39.813 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:39.814 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:39.958 +02:00 [INF] Executed DbCommand (144ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:39.960 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.961 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:39.962 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.963 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:39.964 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:39.965 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:39.966 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .IgnoreQueryFilters()
    .Any(e => e.UserId == __staff2_Id_0)'
2026-02-07 09:21:39.970 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Employees AS e
                WHERE e.UserId == @__staff2_Id_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Employees AS e
                WHERE e.UserId == @__staff2_Id_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:21:39.972 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.973 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:39.973 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:39.974 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:39.974 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:39.975 +02:00 [DBG] Executing DbCommand [Parameters=[@__staff2_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[UserId] = @__staff2_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:21:40.099 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__staff2_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[UserId] = @__staff2_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:21:40.100 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.101 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:40.102 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.102 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:40.103 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.104 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.104 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:40.105 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:40.106 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:40.106 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:40.229 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:40.232 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:40.233 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.235 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 4ms reading results.
2026-02-07 09:21:40.236 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.237 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:40.238 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.239 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.240 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:40.240 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:40.241 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:40.242 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:40.359 +02:00 [INF] Executed DbCommand (117ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:40.363 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.364 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:40.365 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.366 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:40.368 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:40.369 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:40.370 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:40.371 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:40.372 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:40.372 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:40.374 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.376 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.377 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:40.378 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:40.379 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:40.380 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:40.519 +02:00 [INF] Executed DbCommand (139ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:40.521 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.522 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:40.523 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.523 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:40.524 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:40.525 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:40.589 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.590 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.590 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:40.591 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:40.592 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:40.593 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:40.719 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:40.721 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.723 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:40.724 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.725 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:40.727 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:40.728 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:40.730 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:40.732 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:40.733 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:40.734 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:40.737 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.737 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.738 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:40.739 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:40.740 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:40.741 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:40.880 +02:00 [INF] Executed DbCommand (139ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:40.883 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.884 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:40.885 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.886 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:40.887 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:40.889 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:40.890 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .IgnoreQueryFilters()
    .Any(d => d.UserId == __doc1User_Id_0)'
2026-02-07 09:21:40.893 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Doctors AS d
                WHERE d.UserId == @__doc1User_Id_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Doctors AS d
                WHERE d.UserId == @__doc1User_Id_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:21:40.897 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.898 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:40.900 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:40.901 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:40.902 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:21:40.903 +02:00 [DBG] Executing DbCommand [Parameters=[@__doc1User_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[UserId] = @__doc1User_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:21:41.029 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__doc1User_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[UserId] = @__doc1User_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:21:41.031 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.033 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:41.034 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.036 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:41.037 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.038 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.039 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:41.041 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:41.043 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2026-02-07 09:21:41.044 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:41.169 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:41.171 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:41.172 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.173 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:21:41.174 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.175 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:41.177 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.178 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.179 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:41.180 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:41.180 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:41.181 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:41.309 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:41.310 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.311 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:41.312 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.313 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:41.314 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:41.315 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:41.316 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:41.316 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:41.317 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:41.318 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:41.319 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.320 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.320 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:41.321 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:41.322 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:41.322 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:41.452 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:41.455 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.456 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:41.457 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.458 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:41.459 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:41.460 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:41.522 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.523 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.524 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:41.524 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:41.525 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:41.525 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:41.649 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:41.651 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.652 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:41.652 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.653 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:41.654 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:41.655 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:41.656 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:41.656 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:41.657 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:41.657 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:41.659 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.660 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.661 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:41.661 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:41.662 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:41.663 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:41.799 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:41.801 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.802 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:41.803 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.803 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:41.805 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:41.806 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:41.807 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .IgnoreQueryFilters()
    .Any(d => d.UserId == __doc2User_Id_0)'
2026-02-07 09:21:41.809 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Doctors AS d
                WHERE d.UserId == @__doc2User_Id_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Doctors AS d
                WHERE d.UserId == @__doc2User_Id_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:21:41.811 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.813 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:41.814 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:41.815 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:41.816 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:21:41.818 +02:00 [DBG] Executing DbCommand [Parameters=[@__doc2User_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[UserId] = @__doc2User_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:21:42.149 +02:00 [INF] Executed DbCommand (331ms) [Parameters=[@__doc2User_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[UserId] = @__doc2User_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:21:42.150 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:42.151 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:42.152 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:42.153 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:42.154 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:42.155 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:42.156 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:42.156 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:42.157 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:42.158 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 0 entities written to the database.
2026-02-07 09:21:42.159 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:42.160 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:42.161 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:42.162 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:42.163 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:42.163 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:42.498 +02:00 [INF] Executed DbCommand (335ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:42.501 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:42.502 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:42.503 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:21:42.504 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:42.504 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:42.506 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:42.506 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:42.508 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:42.508 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:42.509 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:42.510 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:42.839 +02:00 [INF] Executed DbCommand (330ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:42.842 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:42.843 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:42.844 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:42.844 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:42.846 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:42.848 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:42.849 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:42.850 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:42.851 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:42.852 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:42.853 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:42.854 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:42.856 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:42.856 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:42.858 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:21:42.859 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:42.989 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:42.990 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:42.991 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:42.992 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:42.993 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:42.994 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:42.995 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:43.064 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.066 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.067 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:43.068 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:43.069 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:21:43.072 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:43.199 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:43.201 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.202 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:43.203 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.203 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:43.204 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:43.205 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:43.206 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:43.207 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:43.207 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:43.208 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:43.209 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.209 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.211 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:43.212 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:43.213 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:21:43.214 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:43.349 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:43.351 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.352 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:43.353 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.354 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:43.355 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:43.356 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:43.390 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:43.393 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:43.395 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.396 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.397 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:43.397 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:43.398 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:43.399 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:43.530 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:43.532 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:43.533 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.534 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:43.535 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.535 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:43.537 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.538 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.538 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:43.539 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:43.540 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:43.540 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:43.669 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:43.671 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.672 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:43.673 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.674 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:43.675 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:43.677 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:43.689 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:43.750 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:43.752 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:43.752 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:43.754 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:21:43.756 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:21:43.761 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:43.769 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:21:43.772 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.773 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:43.774 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:21:43.899 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:21:43.900 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:43.901 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:43.903 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:21:43.903 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:21:44.029 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:21:44.035 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.036 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:44.038 +02:00 [DBG] Committing transaction.
2026-02-07 09:21:44.159 +02:00 [DBG] Committed transaction.
2026-02-07 09:21:44.161 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.162 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:44.163 +02:00 [DBG] Disposing transaction.
2026-02-07 09:21:44.163 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:44.165 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:44.166 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:44.167 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:21:44.227 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.228 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.229 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:44.229 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:44.231 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:44.232 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:44.359 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:44.363 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.365 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:21:44.367 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.367 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:44.369 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:44.370 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:44.371 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:44.371 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:44.372 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:44.373 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:44.374 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.375 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.375 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:44.376 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:44.377 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:44.378 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:44.520 +02:00 [INF] Executed DbCommand (143ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:44.522 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.523 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:44.523 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.524 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:44.525 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:44.526 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:44.529 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:44.530 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:44.532 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.533 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.534 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:44.534 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:44.535 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:44.535 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:44.679 +02:00 [INF] Executed DbCommand (143ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:44.682 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:44.683 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.684 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:21:44.687 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.688 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:44.690 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.691 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.692 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:44.693 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:44.693 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:44.694 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:44.819 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:44.822 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.823 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:44.824 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.826 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:44.829 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:44.831 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:44.832 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:44.833 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:44.834 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:44.835 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:44.836 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:21:44.837 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:21:44.838 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:44.839 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:21:44.840 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.841 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:44.841 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:21:44.969 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:21:44.969 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:44.971 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:44.971 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:21:44.972 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:21:45.099 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:21:45.101 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.102 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:45.103 +02:00 [DBG] Committing transaction.
2026-02-07 09:21:45.228 +02:00 [DBG] Committed transaction.
2026-02-07 09:21:45.229 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.231 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:45.233 +02:00 [DBG] Disposing transaction.
2026-02-07 09:21:45.234 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:45.236 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:45.237 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:45.239 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:21:45.300 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.302 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.303 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:45.304 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:45.305 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:45.305 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:45.428 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:45.431 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.433 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:45.434 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.436 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (2ms).
2026-02-07 09:21:45.438 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:45.441 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:45.441 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:45.442 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:45.443 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:45.443 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:45.444 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.445 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.446 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:45.446 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:45.447 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:45.448 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:45.591 +02:00 [INF] Executed DbCommand (143ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:45.593 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.594 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:45.594 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.595 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:45.596 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:45.597 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:45.598 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:45.599 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:45.600 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.601 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.602 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:45.603 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:45.604 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:45.604 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:45.729 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:45.730 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:45.731 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.732 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:45.733 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.734 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:45.735 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.736 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.737 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:45.738 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:45.738 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:45.739 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:45.869 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:45.871 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.872 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:45.872 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.873 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:45.874 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:45.876 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:45.877 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:45.877 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:45.878 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:45.879 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:45.880 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:21:45.883 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:21:45.884 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:45.885 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:21:45.886 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.887 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:45.889 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:21:46.018 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:21:46.020 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:46.021 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:46.022 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:46.023 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:21:46.160 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:21:46.162 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.162 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:46.163 +02:00 [DBG] Committing transaction.
2026-02-07 09:21:46.288 +02:00 [DBG] Committed transaction.
2026-02-07 09:21:46.289 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.291 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:46.293 +02:00 [DBG] Disposing transaction.
2026-02-07 09:21:46.293 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:46.294 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:46.296 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:46.297 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:21:46.358 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.360 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.361 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:46.362 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:46.362 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:46.363 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:46.490 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:46.491 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.492 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:46.493 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.494 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:46.495 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:46.496 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:46.497 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:46.497 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:46.498 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:46.499 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:46.500 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.501 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.501 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:46.502 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:46.503 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:46.503 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:46.629 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:46.631 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.633 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:21:46.635 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.637 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:46.639 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:46.641 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:46.642 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:46.643 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:46.644 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.644 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.645 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:46.646 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:46.646 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:46.647 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:46.769 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:46.771 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:46.773 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.774 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:21:46.775 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.776 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:46.777 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.779 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.780 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:46.781 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:46.782 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:21:46.784 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:46.919 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:46.921 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.922 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:46.923 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.924 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:46.925 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:46.926 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:46.926 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:46.930 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:46.932 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:46.932 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:46.933 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:21:46.934 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:21:46.935 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:46.936 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:21:46.937 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.937 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:46.938 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:21:47.058 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:21:47.059 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:47.060 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:47.061 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:47.062 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:21:47.198 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:21:47.200 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.201 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:47.202 +02:00 [DBG] Committing transaction.
2026-02-07 09:21:47.329 +02:00 [DBG] Committed transaction.
2026-02-07 09:21:47.329 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.330 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:47.331 +02:00 [DBG] Disposing transaction.
2026-02-07 09:21:47.331 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:47.333 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:47.334 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:47.335 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:21:47.394 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.396 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.397 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:47.398 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:47.399 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:47.400 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:47.530 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:47.532 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.533 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:47.535 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.535 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:47.537 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:47.538 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:47.539 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:47.539 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:47.540 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:47.541 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:47.542 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.543 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.544 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:47.544 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:47.545 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:47.546 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:47.674 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:47.675 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.676 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:47.677 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.677 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:47.678 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:47.679 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:47.680 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:47.681 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:47.684 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.686 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.687 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:47.687 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:47.688 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:47.689 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:47.809 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:47.811 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:47.812 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.813 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:47.814 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.815 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:47.816 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.816 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.817 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:47.818 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:47.818 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:47.819 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:47.941 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:47.942 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.943 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:47.945 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.945 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:47.946 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:47.948 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:47.949 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:47.950 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:47.951 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:47.952 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:47.953 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:21:47.954 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:21:47.955 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:47.957 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:21:47.959 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.960 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:47.962 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:21:48.088 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:21:48.090 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:48.091 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:48.092 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:48.092 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:21:48.218 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:21:48.221 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:48.222 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:48.222 +02:00 [DBG] Committing transaction.
2026-02-07 09:21:48.340 +02:00 [DBG] Committed transaction.
2026-02-07 09:21:48.341 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:48.341 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:48.342 +02:00 [DBG] Disposing transaction.
2026-02-07 09:21:48.343 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:48.344 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:48.344 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:48.345 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:21:48.404 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:48.405 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:48.405 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:48.406 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:48.406 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:48.407 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:48.529 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:21:48.531 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:48.531 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:48.532 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:48.533 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:48.534 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:48.535 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:48.536 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:48.537 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:48.537 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:48.538 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:48.539 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:48.540 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:48.542 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:48.543 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:48.544 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:21:48.546 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:48.678 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:21:48.681 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:48.683 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:48.684 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:48.686 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:21:48.687 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:48.688 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:21:48.689 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:48.690 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:48.691 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:48.692 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:48.692 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:48.693 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:48.694 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:48.694 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:21:48.695 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:21:48.696 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:48.696 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:21:48.697 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:48.698 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:48.698 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:21:48.826 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:21:48.828 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:48.829 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:48.830 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:21:48.831 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:21:48.969 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:21:48.971 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:48.971 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:21:48.972 +02:00 [DBG] Committing transaction.
2026-02-07 09:21:49.108 +02:00 [DBG] Committed transaction.
2026-02-07 09:21:49.109 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:49.110 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:49.110 +02:00 [DBG] Disposing transaction.
2026-02-07 09:21:49.111 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:49.112 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:49.113 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:21:49.114 +02:00 [DBG] The navigation 'Patient.ParentPatient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:49.120 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:49.121 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:49.122 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:49.123 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:49.124 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:49.124 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:49.125 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:21:49.125 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:21:49.126 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:21:49.127 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:21:49.127 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:21:49.128 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:49.128 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:49.129 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:21:49.269 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:21:49.271 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:21:49.271 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:21:49.272 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:21:49.274 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:21:49.399 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:21:49.401 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:49.402 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:21:49.403 +02:00 [DBG] Committing transaction.
2026-02-07 09:21:49.539 +02:00 [DBG] Committed transaction.
2026-02-07 09:21:49.540 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:49.541 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:21:49.542 +02:00 [DBG] Disposing transaction.
2026-02-07 09:21:49.542 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:49.543 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:21:49.544 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:21:49.546 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:21:49.547 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:21:49.549 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:21:49.567 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2026-02-07 09:21:49.606 +02:00 [DBG] Hosting starting
2026-02-07 09:21:49.617 +02:00 [DBG] Reading data from file 'C:\Users\mohammed\AppData\Local\ASP.NET\DataProtection-Keys\key-26161ed5-7c64-48e1-ab2f-8f185dfd8996.xml'.
2026-02-07 09:21:49.619 +02:00 [DBG] Reading data from file 'C:\Users\mohammed\AppData\Local\ASP.NET\DataProtection-Keys\key-84a692a1-63ae-4678-b93e-0ab94753e8d7.xml'.
2026-02-07 09:21:49.619 +02:00 [DBG] Reading data from file 'C:\Users\mohammed\AppData\Local\ASP.NET\DataProtection-Keys\key-f4153322-8356-4eea-b501-304b2b3b1485.xml'.
2026-02-07 09:21:49.622 +02:00 [DBG] Found key {26161ed5-7c64-48e1-ab2f-8f185dfd8996}.
2026-02-07 09:21:49.626 +02:00 [DBG] Found key {84a692a1-63ae-4678-b93e-0ab94753e8d7}.
2026-02-07 09:21:49.627 +02:00 [DBG] Found key {f4153322-8356-4eea-b501-304b2b3b1485}.
2026-02-07 09:21:49.633 +02:00 [DBG] Considering key {f4153322-8356-4eea-b501-304b2b3b1485} with expiration date 2026-02-17 21:31:59Z as default key.
2026-02-07 09:21:49.637 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-02-07 09:21:49.638 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-02-07 09:21:49.639 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-02-07 09:21:49.642 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-02-07 09:21:49.643 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-02-07 09:21:49.645 +02:00 [DBG] Using key {f4153322-8356-4eea-b501-304b2b3b1485} as the default key.
2026-02-07 09:21:49.646 +02:00 [DBG] Key ring with default key {f4153322-8356-4eea-b501-304b2b3b1485} was loaded during application startup.
2026-02-07 09:21:49.662 +02:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2026-02-07 09:21:49.663 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-02-07 09:21:49.673 +02:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5094: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2026-02-07 09:22:17.729 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2026-02-07 09:22:18.127 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2026-02-07 09:22:18.129 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2026-02-07 09:22:18.294 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:22:18.417 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:22:18.448 +02:00 [DBG] Created DbConnection. (29ms).
2026-02-07 09:22:18.452 +02:00 [DBG] Migrating using database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:18.456 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:19.373 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:19.378 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2026-02-07 09:22:19.382 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2026-02-07 09:22:19.386 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2026-02-07 09:22:19.394 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:22:19.555 +02:00 [INF] Executed DbCommand (156ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:22:19.558 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:19.564 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (4ms).
2026-02-07 09:22:19.565 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:19.567 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:19.568 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2026-02-07 09:22:19.571 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2026-02-07 09:22:19.572 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2026-02-07 09:22:19.573 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2026-02-07 09:22:19.574 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-07 09:22:19.706 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2026-02-07 09:22:19.750 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2026-02-07 09:22:19.751 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2026-02-07 09:22:19.752 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2026-02-07 09:22:19.752 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-07 09:22:19.889 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2026-02-07 09:22:19.894 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:22:20.020 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:22:20.022 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2026-02-07 09:22:20.023 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2026-02-07 09:22:20.024 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2026-02-07 09:22:20.024 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:22:20.149 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:22:20.151 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2026-02-07 09:22:20.152 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2026-02-07 09:22:20.152 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2026-02-07 09:22:20.153 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-07 09:22:20.279 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2026-02-07 09:22:20.284 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:20.285 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:20.286 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:22:20.287 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-07 09:22:20.409 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2026-02-07 09:22:20.415 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:20.418 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 4ms reading results.
2026-02-07 09:22:20.430 +02:00 [INF] No migrations were applied. The database is already up to date.
2026-02-07 09:22:20.434 +02:00 [DBG] Committing transaction.
2026-02-07 09:22:20.559 +02:00 [DBG] Committed transaction.
2026-02-07 09:22:20.561 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2026-02-07 09:22:20.562 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2026-02-07 09:22:20.564 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2026-02-07 09:22:20.565 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-07 09:22:20.689 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2026-02-07 09:22:20.692 +02:00 [DBG] Disposing transaction.
2026-02-07 09:22:20.692 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:20.694 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (2ms).
2026-02-07 09:22:20.709 +02:00 [INF] User profile is available. Using 'C:\Users\mohammed\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-07 09:22:20.760 +02:00 [DBG] Compiling query expression: 
'DbSet<ApplicationRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2026-02-07 09:22:20.954 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationRole>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApplicationRole>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationRole.ConcurrencyStamp (string) Concurrency, 1], [Property: ApplicationRole.Description (string), 2], [Property: ApplicationRole.Name (string) MaxLength(256), 3], [Property: ApplicationRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Description, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationRole.ConcurrencyStamp (string) Concurrency, 1], [Property: ApplicationRole.Description (string), 2], [Property: ApplicationRole.Name (string) MaxLength(256), 3], [Property: ApplicationRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Description, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApplicationRole entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApplicationRole instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApplicationRole);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApplicationRole.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApplicationRole)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApplicationRole | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApplicationRole | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole")]: 
                            {
                                return 
                                {
                                    ApplicationRole instance;
                                    instance = new ApplicationRole();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Name>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<NormalizedName>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApplicationRole | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApplicationRole)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:22:20.990 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:20.995 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:20.996 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:20.997 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:21.003 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2026-02-07 09:22:21.006 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:22:21.154 +02:00 [INF] Executed DbCommand (150ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:22:21.189 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:21.206 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.210 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 53ms reading results.
2026-02-07 09:22:21.213 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.215 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:21.220 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.221 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.222 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:21.223 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:21.223 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:21.224 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:22:21.349 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:22:21.351 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:21.352 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.353 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:22:21.354 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.354 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:21.356 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.357 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.357 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:21.358 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:21.358 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:21.360 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:22:21.489 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:22:21.491 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:21.492 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.494 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:22:21.495 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.496 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:21.498 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.499 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.500 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:21.500 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:21.501 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:21.502 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:22:21.629 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:22:21.631 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:21.632 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.633 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:22:21.635 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.636 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:21.638 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.638 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.639 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:21.640 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:21.641 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:22:21.642 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:22:21.769 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2026-02-07 09:22:21.771 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:21.772 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.773 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:22:21.774 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.775 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:21.782 +02:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2026-02-07 09:22:21.791 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApplicationUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.CreatedAt (DateTime) Required, 3], [Property: ApplicationUser.DisplayName (string) Required, 4], [Property: ApplicationUser.Email (string) MaxLength(256), 5], [Property: ApplicationUser.EmailConfirmed (bool) Required, 6], [Property: ApplicationUser.IsActive (bool) Required, 7], [Property: ApplicationUser.LastLoginAt (DateTime?), 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.RefreshToken (string), 16], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 17], [Property: ApplicationUser.SecurityStamp (string), 18], [Property: ApplicationUser.TenantId (Guid?) FK Index, 19], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 20], [Property: ApplicationUser.UserName (string) MaxLength(256), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.CreatedAt (DateTime) Required, 3], [Property: ApplicationUser.DisplayName (string) Required, 4], [Property: ApplicationUser.Email (string) MaxLength(256), 5], [Property: ApplicationUser.EmailConfirmed (bool) Required, 6], [Property: ApplicationUser.IsActive (bool) Required, 7], [Property: ApplicationUser.LastLoginAt (DateTime?), 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.RefreshToken (string), 16], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 17], [Property: ApplicationUser.SecurityStamp (string), 18], [Property: ApplicationUser.TenantId (Guid?) FK Index, 19], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 20], [Property: ApplicationUser.UserName (string) MaxLength(256), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApplicationUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApplicationUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApplicationUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApplicationUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApplicationUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]: 
                            {
                                return 
                                {
                                    ApplicationUser instance;
                                    instance = new ApplicationUser();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<DisplayName>k__BackingField = dataReader.GetString(4);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(6);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(7);
                                    instance.<LastLoginAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(9);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(10) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(10);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(15);
                                    instance.<RefreshToken>k__BackingField = dataReader.IsDBNull(16) ? default(string) : dataReader.GetString(16);
                                    instance.<RefreshTokenExpiry>k__BackingField = dataReader.IsDBNull(17) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(17);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                    instance.<TenantId>k__BackingField = dataReader.IsDBNull(19) ? default(Guid?) : (Guid?)dataReader.GetGuid(19);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(20);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApplicationUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:22:21.798 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.799 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.800 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:21.800 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:21.801 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:21.802 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:21.940 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:21.958 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:21.995 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.996 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 54ms reading results.
2026-02-07 09:22:21.997 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:21.999 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:22.003 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .Any(t => t.Slug == "demo-clinic")'
2026-02-07 09:22:22.008 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Tenants AS t
                WHERE t.Slug == N'demo-clinic')) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Tenants AS t
                WHERE t.Slug == N'demo-clinic'), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:22:22.018 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.019 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.020 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:22.021 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:22.022 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:22.023 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tenants] AS [t]
        WHERE [t].[Slug] = N'demo-clinic') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:22:22.149 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tenants] AS [t]
        WHERE [t].[Slug] = N'demo-clinic') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:22:22.152 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.153 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:22.153 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.154 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:22.162 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .Where(t => !(t.IsDeleted))
    .Where(t => !(DbSet<ClinicSettings>()
        .IgnoreQueryFilters()
        .Any(cs => cs.TenantId == t.Id && !(cs.IsDeleted))))'
2026-02-07 09:22:22.179 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Tenant>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
        SELECT t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
        FROM Tenants AS t
        WHERE Not(t.IsDeleted) && Not(EXISTS (
            SELECT 1
            FROM ClinicSettings AS c
            WHERE (c.TenantId == t.Id) && Not(c.IsDeleted)))) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
        SELECT t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
        FROM Tenants AS t
        WHERE Not(t.IsDeleted) && Not(EXISTS (
            SELECT 1
            FROM ClinicSettings AS c
            WHERE (c.TenantId == t.Id) && Not(c.IsDeleted))), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Tenant entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Tenant instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Tenant);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Tenant.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Tenant)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]: 
                        {
                            return 
                            {
                                Tenant instance;
                                instance = new Tenant();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ContactPhone>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                instance.<LogoUrl>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<Name>k__BackingField = dataReader.GetString(7);
                                instance.<Slug>k__BackingField = dataReader.GetString(8);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<TenantStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Tenant.Status (TenantStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(9));
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(10);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Tenant)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-02-07 09:22:22.189 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.191 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.192 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:22.193 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:22.193 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:22.194 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit) AND NOT EXISTS (
    SELECT 1
    FROM [ClinicSettings] AS [c]
    WHERE [c].[TenantId] = [t].[Id] AND [c].[IsDeleted] = CAST(0 AS bit))
2026-02-07 09:22:22.319 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit) AND NOT EXISTS (
    SELECT 1
    FROM [ClinicSettings] AS [c]
    WHERE [c].[TenantId] = [t].[Id] AND [c].[IsDeleted] = CAST(0 AS bit))
2026-02-07 09:22:22.321 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.322 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:22.323 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.323 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:22.328 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .IgnoreQueryFilters()
    .FirstOrDefault(t => t.Slug == "demo-clinic" && !(t.IsDeleted))'
2026-02-07 09:22:22.332 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tenant>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Tenant>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
            SELECT TOP(1) t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
            FROM Tenants AS t
            WHERE (t.Slug == N'demo-clinic') && Not(t.IsDeleted)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
            SELECT TOP(1) t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
            FROM Tenants AS t
            WHERE (t.Slug == N'demo-clinic') && Not(t.IsDeleted), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Tenant entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Tenant instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Tenant);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Tenant.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Tenant)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]: 
                            {
                                return 
                                {
                                    Tenant instance;
                                    instance = new Tenant();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ContactPhone>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LogoUrl>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Name>k__BackingField = dataReader.GetString(7);
                                    instance.<Slug>k__BackingField = dataReader.GetString(8);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<TenantStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Tenant.Status (TenantStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(9));
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Tenant)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:22:22.340 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.341 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.342 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:22.342 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:22.343 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:22.343 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = N'demo-clinic' AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:22:22.470 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = N'demo-clinic' AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:22:22.480 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:22.496 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.497 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 25ms reading results.
2026-02-07 09:22:22.498 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.499 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:22.500 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .IgnoreQueryFilters()
    .Any()'
2026-02-07 09:22:22.502 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Patients AS p)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Patients AS p), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:22:22.504 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.505 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.506 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:22.506 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:22.508 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:22.508 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Patients] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:22:22.639 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Patients] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:22:22.641 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.642 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:22.643 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.644 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:22.646 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.647 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.648 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:22.649 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:22.650 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:22.651 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:22.779 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:22.790 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:22.791 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.792 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 10ms reading results.
2026-02-07 09:22:22.793 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.794 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:22.798 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.798 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.799 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:22.800 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:22.800 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:22.801 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:22.929 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:22.936 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.938 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:22.939 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:22.940 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:22.951 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:22.954 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:22.985 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:22.988 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:22.989 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:22.990 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:23.038 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.039 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.042 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:23.042 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:23.043 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:23.045 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:23.159 +02:00 [INF] Executed DbCommand (115ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:23.166 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.166 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 5ms reading results.
2026-02-07 09:22:23.168 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.169 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:23.172 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:23.174 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:23.236 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.237 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.238 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:23.238 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:23.239 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:23.240 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:23.369 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:23.371 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.372 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:23.372 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.373 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:23.375 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:23.377 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:23.378 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:23.378 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:23.379 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:23.381 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:23.385 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.387 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.389 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:23.390 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:23.391 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:22:23.393 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:23.519 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:23.520 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.521 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:23.522 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.522 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:23.523 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:23.524 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:23.526 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.527 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.528 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:23.529 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:23.530 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:23.532 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:23.669 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:23.671 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:23.672 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.673 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:23.673 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.674 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:23.675 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.676 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.677 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:23.678 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:23.679 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:22:23.680 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:23.820 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:23.822 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.823 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:23.824 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.825 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:23.826 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:23.827 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:23.829 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:23.830 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:23.830 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:23.831 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:23.833 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.835 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.837 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:23.837 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:23.839 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:22:23.840 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:23.959 +02:00 [INF] Executed DbCommand (119ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:23.961 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.961 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:23.962 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:23.963 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:23.964 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:23.965 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:24.028 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.030 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.031 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:24.032 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:24.033 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:24.034 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:24.159 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:24.161 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.161 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:24.162 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.163 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:24.164 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:24.165 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:24.167 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:24.167 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:24.168 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:24.169 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:24.170 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.171 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.172 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:24.173 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:24.175 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2026-02-07 09:22:24.176 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:24.309 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:24.311 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.312 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:24.313 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.314 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:24.315 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:24.316 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:24.317 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .IgnoreQueryFilters()
    .Any(e => e.UserId == __staff1_Id_0)'
2026-02-07 09:22:24.320 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Employees AS e
                WHERE e.UserId == @__staff1_Id_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Employees AS e
                WHERE e.UserId == @__staff1_Id_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:22:24.322 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.324 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.325 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:24.325 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:24.326 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:24.327 +02:00 [DBG] Executing DbCommand [Parameters=[@__staff1_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[UserId] = @__staff1_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:22:24.449 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__staff1_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[UserId] = @__staff1_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:22:24.450 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.451 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:24.452 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.452 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:24.453 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.454 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.455 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:24.455 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:24.456 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:24.456 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:24.590 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:24.592 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:24.593 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.594 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:22:24.595 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.596 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:24.598 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.599 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.599 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:24.600 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:24.601 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:24.601 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:24.730 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:24.734 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.735 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:24.736 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.737 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:24.738 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:24.739 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:24.740 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:24.741 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:24.741 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:24.742 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:24.743 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.744 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.745 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:24.746 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:24.746 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:24.747 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:24.871 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:24.874 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.875 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:24.877 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.878 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:24.879 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:24.883 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:24.949 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.950 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:24.951 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:24.951 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:24.952 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:24.952 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:25.100 +02:00 [INF] Executed DbCommand (147ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:25.101 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.102 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:25.102 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.103 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:25.104 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:25.105 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:25.106 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:25.107 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:25.107 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:25.108 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:25.110 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.111 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.112 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:25.113 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:25.114 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:25.115 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:25.251 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:25.252 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.253 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:25.254 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.255 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:25.256 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:25.257 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:25.259 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .IgnoreQueryFilters()
    .Any(e => e.UserId == __staff2_Id_0)'
2026-02-07 09:22:25.262 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Employees AS e
                WHERE e.UserId == @__staff2_Id_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Employees AS e
                WHERE e.UserId == @__staff2_Id_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:22:25.264 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.265 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.266 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:25.267 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:25.269 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:22:25.270 +02:00 [DBG] Executing DbCommand [Parameters=[@__staff2_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[UserId] = @__staff2_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:22:25.399 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__staff2_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Employees] AS [e]
        WHERE [e].[UserId] = @__staff2_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:22:25.401 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.402 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:25.402 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.403 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:25.404 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.404 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.405 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:25.405 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:25.406 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:25.406 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:25.539 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:25.540 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:25.541 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.542 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:25.542 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.543 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:25.544 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.545 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.547 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:25.548 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:25.549 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:25.549 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:25.689 +02:00 [INF] Executed DbCommand (139ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:25.690 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.691 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:25.692 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.693 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:25.695 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:25.696 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:25.697 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:25.698 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:25.699 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:25.700 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:25.701 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.702 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.703 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:25.704 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:25.704 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:25.705 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:25.833 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:25.836 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.837 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:25.838 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.839 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:25.840 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:25.841 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:25.902 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.903 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:25.904 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:25.904 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:25.905 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:25.906 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:26.030 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:26.033 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.034 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:26.035 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.036 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:26.038 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:26.039 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:26.041 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:26.042 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:26.042 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:26.043 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:26.045 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.046 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.047 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:26.048 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:26.049 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:26.049 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:26.179 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:26.182 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.183 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:26.185 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.187 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (2ms).
2026-02-07 09:22:26.188 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:26.189 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:26.190 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .IgnoreQueryFilters()
    .Any(d => d.UserId == __doc1User_Id_0)'
2026-02-07 09:22:26.194 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Doctors AS d
                WHERE d.UserId == @__doc1User_Id_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Doctors AS d
                WHERE d.UserId == @__doc1User_Id_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:22:26.196 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.197 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.197 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:26.198 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:26.199 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:26.199 +02:00 [DBG] Executing DbCommand [Parameters=[@__doc1User_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[UserId] = @__doc1User_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:22:26.330 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__doc1User_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[UserId] = @__doc1User_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:22:26.333 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.334 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:26.336 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.337 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:26.339 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.340 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.341 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:26.342 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:26.343 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:26.344 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:26.472 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:26.474 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:26.475 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.476 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:22:26.477 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.479 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:26.481 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.482 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.484 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:26.486 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:26.487 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:22:26.487 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:26.610 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:26.614 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.616 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:26.618 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.619 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:26.622 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:26.624 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:26.626 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:26.627 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:26.628 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:26.628 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:26.629 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.630 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.631 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:26.631 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:26.632 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:26.633 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:26.750 +02:00 [INF] Executed DbCommand (117ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:26.752 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.753 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:26.754 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.756 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:26.757 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:26.758 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:26.821 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.822 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.823 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:26.824 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:26.825 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:26.826 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:26.970 +02:00 [INF] Executed DbCommand (144ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:26.973 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.974 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:26.975 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.976 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:26.978 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:26.980 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:26.981 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:26.982 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:26.983 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:26.984 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:26.987 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.988 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:26.990 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:26.991 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:26.992 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:22:26.994 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:27.120 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:27.122 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.123 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:27.124 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.124 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:27.126 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:27.127 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:27.128 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .IgnoreQueryFilters()
    .Any(d => d.UserId == __doc2User_Id_0)'
2026-02-07 09:22:27.130 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Doctors AS d
                WHERE d.UserId == @__doc2User_Id_0)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Doctors AS d
                WHERE d.UserId == @__doc2User_Id_0), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:22:27.134 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.135 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.136 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:27.137 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:27.138 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:27.138 +02:00 [DBG] Executing DbCommand [Parameters=[@__doc2User_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[UserId] = @__doc2User_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:22:27.269 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@__doc2User_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Doctors] AS [d]
        WHERE [d].[UserId] = @__doc2User_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:22:27.270 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.271 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:27.272 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.273 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:27.273 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:27.274 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:27.275 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:27.275 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:27.277 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:27.277 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 0 entities written to the database.
2026-02-07 09:22:27.280 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.281 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.282 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:27.283 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:27.283 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:27.284 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:27.409 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:27.412 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:27.413 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.414 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:22:27.416 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.417 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:27.419 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.419 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.420 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:27.421 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:27.422 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:27.423 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:27.549 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:27.551 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.552 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:27.552 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.553 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:27.554 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:27.556 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:27.556 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:27.560 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:27.560 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:27.561 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:27.562 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.563 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.564 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:27.565 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:27.566 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:27.566 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:27.679 +02:00 [INF] Executed DbCommand (113ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:27.683 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.684 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:27.684 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.685 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:27.686 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:27.687 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:27.746 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.747 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.748 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:27.748 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:27.749 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:27.750 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:27.859 +02:00 [INF] Executed DbCommand (109ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:27.863 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.864 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:27.866 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.867 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:27.869 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:27.870 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:27.871 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:27.872 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:27.872 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:27.873 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:27.874 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.875 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:27.876 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:27.877 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:27.878 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:27.878 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:28.009 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:28.011 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.012 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:28.013 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.014 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:28.015 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:28.016 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:28.049 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:28.051 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:28.053 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.053 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.054 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:28.054 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:28.055 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:28.056 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:28.180 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:28.182 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:28.183 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.184 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:22:28.186 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.186 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:28.188 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.188 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.189 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:28.189 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:28.190 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:28.191 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:28.309 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:28.311 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.312 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:28.313 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.314 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:28.315 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:28.317 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:28.324 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:28.372 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:28.373 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:28.374 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:28.375 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:22:28.377 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:22:28.384 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:28.395 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:22:28.397 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.398 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.399 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:22:28.511 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:22:28.512 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:28.513 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:28.514 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:22:28.515 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:22:28.620 +02:00 [INF] Executed DbCommand (105ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:22:28.622 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.623 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:28.625 +02:00 [DBG] Committing transaction.
2026-02-07 09:22:28.749 +02:00 [DBG] Committed transaction.
2026-02-07 09:22:28.751 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.752 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:28.753 +02:00 [DBG] Disposing transaction.
2026-02-07 09:22:28.754 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:28.755 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:28.757 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:28.758 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:22:28.816 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.817 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.817 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:28.818 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:28.818 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:28.819 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:28.949 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:28.951 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.952 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:28.952 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.953 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:28.954 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:28.955 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:28.956 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:28.957 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:28.957 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:28.958 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:28.959 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.959 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:28.961 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:28.961 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:28.962 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:28.963 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:29.089 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:29.091 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.092 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:29.093 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.094 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:29.096 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:29.097 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:29.098 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:29.099 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:29.100 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.100 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.101 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:29.102 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:29.102 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:29.103 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:29.249 +02:00 [INF] Executed DbCommand (146ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:29.250 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:29.251 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.252 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:29.253 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.254 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:29.255 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.256 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.256 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:29.257 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:29.257 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:29.258 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:29.390 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:29.391 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.392 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:29.393 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.394 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:29.395 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:29.397 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:29.397 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:29.399 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:29.399 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:29.400 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:29.401 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:22:29.402 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:22:29.402 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:29.403 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:22:29.404 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.405 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.406 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:22:29.529 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:22:29.531 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:29.531 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:29.532 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:29.533 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:22:29.659 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:22:29.661 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.661 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:29.662 +02:00 [DBG] Committing transaction.
2026-02-07 09:22:29.789 +02:00 [DBG] Committed transaction.
2026-02-07 09:22:29.790 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.791 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:29.792 +02:00 [DBG] Disposing transaction.
2026-02-07 09:22:29.793 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:29.794 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:29.796 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:29.798 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:22:29.857 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.858 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.859 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:29.860 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:29.860 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:29.861 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:29.979 +02:00 [INF] Executed DbCommand (117ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:29.982 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.983 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:29.985 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:29.990 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (4ms).
2026-02-07 09:22:29.994 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:29.996 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:29.996 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:29.997 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:29.999 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:30.000 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:30.001 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.001 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.002 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:30.003 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:30.004 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:30.005 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:30.129 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:30.131 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.132 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:30.133 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.134 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:30.136 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:30.137 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:30.139 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:30.139 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:30.140 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.141 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.142 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:30.143 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:30.143 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:30.144 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:30.269 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:30.271 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:30.272 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.274 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:22:30.275 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.277 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:30.279 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.280 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.281 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:30.282 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:30.284 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:22:30.287 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:30.409 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:30.411 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.412 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:30.413 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.414 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:30.415 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:30.417 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:30.418 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:30.422 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:30.423 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:30.423 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:30.424 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:22:30.425 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:22:30.426 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:30.426 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:22:30.427 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.428 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.429 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:22:30.559 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:22:30.560 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:30.561 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:30.562 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:22:30.563 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:22:30.699 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:22:30.700 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.701 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:30.701 +02:00 [DBG] Committing transaction.
2026-02-07 09:22:30.819 +02:00 [DBG] Committed transaction.
2026-02-07 09:22:30.820 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.821 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:30.822 +02:00 [DBG] Disposing transaction.
2026-02-07 09:22:30.823 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:30.824 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:30.825 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:30.826 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:22:30.888 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.889 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:30.889 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:30.890 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:30.891 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:30.892 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:31.021 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:31.023 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.024 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:31.025 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.025 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:31.028 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:31.029 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:31.030 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:31.031 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:31.032 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:31.033 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:31.034 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.035 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.036 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:31.037 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:31.038 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:31.039 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:31.179 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:31.181 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.182 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:31.183 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.184 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:31.185 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:31.186 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:31.187 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:31.187 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:31.188 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.189 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.190 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:31.190 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:31.191 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:31.192 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:31.330 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:31.332 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:31.333 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.334 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:22:31.336 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.337 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:31.339 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.340 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.341 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:31.342 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:31.342 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:31.343 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:31.471 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:31.472 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.473 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:31.474 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.475 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:31.476 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:31.477 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:31.478 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:31.479 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:31.481 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:31.481 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:31.483 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:22:31.484 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:22:31.486 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:31.486 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:22:31.487 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.488 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.488 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:22:31.609 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:22:31.610 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:31.610 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:31.612 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:31.613 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:22:31.719 +02:00 [INF] Executed DbCommand (107ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:22:31.722 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.723 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:31.724 +02:00 [DBG] Committing transaction.
2026-02-07 09:22:31.853 +02:00 [DBG] Committed transaction.
2026-02-07 09:22:31.854 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.855 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:31.856 +02:00 [DBG] Disposing transaction.
2026-02-07 09:22:31.857 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:31.858 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:31.859 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:31.860 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:22:31.921 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.923 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:31.923 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:31.924 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:31.924 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:31.925 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:32.049 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:32.050 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.051 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:32.052 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.052 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:32.053 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:32.054 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:32.054 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:32.055 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:32.055 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:32.056 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:32.057 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.057 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.058 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:32.058 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:32.059 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:32.060 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:32.209 +02:00 [INF] Executed DbCommand (149ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:32.210 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.211 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:32.212 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.212 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:32.213 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:32.214 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:32.215 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:32.215 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:32.216 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.217 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.217 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:32.218 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:32.218 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:32.219 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:32.359 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:32.361 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:32.362 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.363 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:22:32.363 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.364 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:32.366 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.367 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.367 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:32.368 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:32.369 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:32.370 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:32.499 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:32.500 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.501 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:32.502 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.502 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:32.503 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:32.504 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:32.504 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:32.506 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:32.507 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:32.507 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:32.508 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:22:32.508 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:22:32.509 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:32.510 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:22:32.510 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.511 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.511 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:22:32.639 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:22:32.640 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:32.641 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:32.642 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:32.642 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:22:32.776 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Guid), @p38='?' (Size = 4000), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Int32), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 200), @p46='?' (Size = 4000), @p47='?' (DbType = Guid), @p48='?' (Size = 20), @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51);
2026-02-07 09:22:32.780 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.781 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:32.782 +02:00 [DBG] Committing transaction.
2026-02-07 09:22:32.909 +02:00 [DBG] Committed transaction.
2026-02-07 09:22:32.910 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.911 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:32.912 +02:00 [DBG] Disposing transaction.
2026-02-07 09:22:32.912 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:32.914 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:32.915 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:32.916 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:22:32.975 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.976 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:32.977 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:32.978 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:32.979 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:32.980 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:33.105 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:22:33.108 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:33.110 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:33.111 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:33.113 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (2ms).
2026-02-07 09:22:33.115 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:33.117 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:33.119 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:33.120 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:33.121 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:33.123 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:33.125 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:33.126 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:33.128 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:33.129 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:33.131 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:22:33.132 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:33.265 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:22:33.267 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:33.267 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:33.269 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:33.270 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:22:33.271 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:33.272 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:22:33.274 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:33.275 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:33.275 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:33.276 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:33.277 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:33.278 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:33.279 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:33.280 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:22:33.281 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:22:33.282 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:33.284 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:22:33.285 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:33.285 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:33.286 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:22:33.409 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:22:33.409 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:33.410 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:33.411 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:33.411 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:22:33.529 +02:00 [INF] Executed DbCommand (117ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:22:33.531 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:33.532 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:22:33.534 +02:00 [DBG] Committing transaction.
2026-02-07 09:22:33.660 +02:00 [DBG] Committed transaction.
2026-02-07 09:22:33.661 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:33.662 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:33.663 +02:00 [DBG] Disposing transaction.
2026-02-07 09:22:33.663 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:33.664 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:33.665 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:22:33.667 +02:00 [DBG] The navigation 'Patient.ParentPatient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:33.672 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:33.673 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:33.673 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:33.675 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:33.676 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:33.677 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:33.677 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:22:33.678 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:22:33.678 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:22:33.680 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:22:33.681 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:22:33.682 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:33.682 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:33.683 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:22:33.811 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:22:33.812 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:22:33.812 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:22:33.813 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:22:33.813 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:22:33.943 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:22:33.945 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:33.946 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:22:33.947 +02:00 [DBG] Committing transaction.
2026-02-07 09:22:34.069 +02:00 [DBG] Committed transaction.
2026-02-07 09:22:34.069 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:34.070 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:22:34.070 +02:00 [DBG] Disposing transaction.
2026-02-07 09:22:34.071 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:34.072 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:22:34.073 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:22:34.075 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:22:34.078 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:22:34.080 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2026-02-07 09:22:34.099 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2026-02-07 09:22:34.138 +02:00 [DBG] Hosting starting
2026-02-07 09:22:34.147 +02:00 [DBG] Reading data from file 'C:\Users\mohammed\AppData\Local\ASP.NET\DataProtection-Keys\key-26161ed5-7c64-48e1-ab2f-8f185dfd8996.xml'.
2026-02-07 09:22:34.149 +02:00 [DBG] Reading data from file 'C:\Users\mohammed\AppData\Local\ASP.NET\DataProtection-Keys\key-84a692a1-63ae-4678-b93e-0ab94753e8d7.xml'.
2026-02-07 09:22:34.150 +02:00 [DBG] Reading data from file 'C:\Users\mohammed\AppData\Local\ASP.NET\DataProtection-Keys\key-f4153322-8356-4eea-b501-304b2b3b1485.xml'.
2026-02-07 09:22:34.153 +02:00 [DBG] Found key {26161ed5-7c64-48e1-ab2f-8f185dfd8996}.
2026-02-07 09:22:34.158 +02:00 [DBG] Found key {84a692a1-63ae-4678-b93e-0ab94753e8d7}.
2026-02-07 09:22:34.158 +02:00 [DBG] Found key {f4153322-8356-4eea-b501-304b2b3b1485}.
2026-02-07 09:22:34.163 +02:00 [DBG] Considering key {f4153322-8356-4eea-b501-304b2b3b1485} with expiration date 2026-02-17 21:31:59Z as default key.
2026-02-07 09:22:34.165 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-02-07 09:22:34.165 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-02-07 09:22:34.167 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-02-07 09:22:34.169 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-02-07 09:22:34.170 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-02-07 09:22:34.171 +02:00 [DBG] Using key {f4153322-8356-4eea-b501-304b2b3b1485} as the default key.
2026-02-07 09:22:34.172 +02:00 [DBG] Key ring with default key {f4153322-8356-4eea-b501-304b2b3b1485} was loaded during application startup.
2026-02-07 09:22:34.193 +02:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2026-02-07 09:22:34.194 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-02-07 09:22:34.208 +02:00 [INF] Now listening on: http://localhost:5094
2026-02-07 09:22:34.209 +02:00 [DBG] Loaded hosting startup assembly EliteClinic.Api
2026-02-07 09:22:34.210 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-07 09:22:34.211 +02:00 [INF] Hosting environment: Development
2026-02-07 09:22:34.211 +02:00 [INF] Content root path: C:\DATA\Elite Clinic\src\EliteClinic.Api
2026-02-07 09:22:34.211 +02:00 [DBG] Hosting started
2026-02-07 09:23:28.582 +02:00 [DBG] Connection id "0HNJ63753892A" accepted.
2026-02-07 09:23:28.586 +02:00 [DBG] Connection id "0HNJ63753892A" started.
2026-02-07 09:23:28.628 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/health - null null
2026-02-07 09:23:28.669 +02:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2026-02-07 09:23:28.671 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.HealthController.GetHealth (EliteClinic.Api)' with route pattern 'api/Health' is valid for the request path '/api/health'
2026-02-07 09:23:28.673 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.HealthController.GetHealth (EliteClinic.Api)'
2026-02-07 09:23:28.702 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:28.703 +02:00 [WRN] Failed to determine the https port for redirect.
2026-02-07 09:23:28.749 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:23:28.753 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.HealthController.GetHealth (EliteClinic.Api)'
2026-02-07 09:23:28.785 +02:00 [INF] Route matched with {action = "GetHealth", controller = "Health"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.HealthDto]]] GetHealth(EliteClinic.Infrastructure.Data.EliteClinicDbContext) on controller EliteClinic.Api.Controllers.HealthController (EliteClinic.Api).
2026-02-07 09:23:28.790 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:28.791 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:28.792 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:28.794 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:28.795 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:28.799 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.HealthController (EliteClinic.Api)
2026-02-07 09:23:28.801 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.HealthController (EliteClinic.Api)
2026-02-07 09:23:28.810 +02:00 [DBG] Attempting to bind parameter 'dbContext' of type 'EliteClinic.Infrastructure.Data.EliteClinicDbContext' ...
2026-02-07 09:23:28.813 +02:00 [DBG] Done attempting to bind parameter 'dbContext' of type 'EliteClinic.Infrastructure.Data.EliteClinicDbContext'.
2026-02-07 09:23:28.814 +02:00 [DBG] Attempting to validate the bound parameter 'dbContext' of type 'EliteClinic.Infrastructure.Data.EliteClinicDbContext' ...
2026-02-07 09:23:28.815 +02:00 [DBG] Done attempting to validate the bound parameter 'dbContext' of type 'EliteClinic.Infrastructure.Data.EliteClinicDbContext'.
2026-02-07 09:23:28.842 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:28.850 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:28.850 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:28.851 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:28.852 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:28.855 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2026-02-07 09:23:28.855 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2026-02-07 09:23:28.856 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2026-02-07 09:23:28.857 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:23:28.998 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:23:29.001 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:29.002 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:29.019 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:29.023 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:29.024 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:29.024 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:29.026 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:29.027 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.HealthDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:29.064 +02:00 [INF] Executed action EliteClinic.Api.Controllers.HealthController.GetHealth (EliteClinic.Api) in 262.9685ms
2026-02-07 09:23:29.069 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.HealthController.GetHealth (EliteClinic.Api)'
2026-02-07 09:23:29.075 +02:00 [DBG] Connection id "0HNJ63753892A" completed keep alive response.
2026-02-07 09:23:29.078 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:29.082 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:29.085 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:23:29.090 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/health - 200 null application/json; charset=utf-8 464.8051ms
2026-02-07 09:23:43.141 +02:00 [DBG] Connection id "0HNJ63753892B" accepted.
2026-02-07 09:23:43.141 +02:00 [DBG] Connection id "0HNJ63753892B" started.
2026-02-07 09:23:43.146 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/auth/login - application/json 51
2026-02-07 09:23:43.149 +02:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2026-02-07 09:23:43.151 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)' with route pattern 'api/Auth/login' is valid for the request path '/api/auth/login'
2026-02-07 09:23:43.152 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:23:43.153 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:43.158 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:23:43.159 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:23:43.167 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.LoginResponse]]] Login(EliteClinic.Application.Features.Auth.DTOs.LoginRequest, System.String) on controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api).
2026-02-07 09:23:43.169 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:43.170 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:43.172 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:43.173 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:43.175 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:43.176 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:23:43.180 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:23:43.181 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:23:43.182 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' using the name '' in request data ...
2026-02-07 09:23:43.184 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:23:43.188 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000001": started reading request body.
2026-02-07 09:23:43.190 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000001": done reading request body.
2026-02-07 09:23:43.197 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'
2026-02-07 09:23:43.198 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:23:43.199 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:23:43.200 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:23:43.209 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:23:43.210 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:23:43.211 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:23:43.212 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:23:43.213 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:43.214 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:43.215 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:43.215 +02:00 [DBG] Attempting to validate the bound parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:23:43.216 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:43.266 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:43.269 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:43.270 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:43.270 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.271 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.271 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:43.272 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:43.272 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:43.273 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:43.399 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:43.403 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:43.404 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.405 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 3ms reading results.
2026-02-07 09:23:43.406 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.407 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:43.475 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<ApplicationRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2026-02-07 09:23:43.501 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.IsDBNull(0) ? default(string) : dataReader.GetString(0);
        return value1;
    }, 
    contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-02-07 09:23:43.504 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.504 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.505 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:43.506 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:43.506 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:43.507 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:23:43.629 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:23:43.631 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.632 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:43.633 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.634 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:43.637 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .IgnoreQueryFilters()
    .FirstOrDefault(t => t.Slug == __tenantSlug_0 && !(t.IsDeleted))'
2026-02-07 09:23:43.642 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tenant>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Tenant>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
            SELECT TOP(1) t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
            FROM Tenants AS t
            WHERE (t.Slug == @__tenantSlug_0) && Not(t.IsDeleted)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
            SELECT TOP(1) t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
            FROM Tenants AS t
            WHERE (t.Slug == @__tenantSlug_0) && Not(t.IsDeleted), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Tenant entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Tenant instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Tenant);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Tenant.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Tenant)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]: 
                            {
                                return 
                                {
                                    Tenant instance;
                                    instance = new Tenant();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ContactPhone>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LogoUrl>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Name>k__BackingField = dataReader.GetString(7);
                                    instance.<Slug>k__BackingField = dataReader.GetString(8);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<TenantStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Tenant.Status (TenantStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(9));
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Tenant)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:23:43.648 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.649 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.650 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:43.652 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:43.653 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:43.654 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:43.796 +02:00 [INF] Executed DbCommand (142ms) [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:43.801 +02:00 [DBG] The navigation 'ApplicationUser.Tenant' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:43.803 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:43.806 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.808 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 7ms reading results.
2026-02-07 09:23:43.809 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.810 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:43.834 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.835 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.836 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:43.837 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:43.838 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:43.839 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:43.959 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:43.961 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.961 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:43.962 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.963 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:43.964 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:43.966 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:43.968 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:43.970 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:43.972 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:43.973 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:43.976 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.978 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:43.979 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:43.980 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:43.982 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:43.983 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:23:44.109 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:23:44.111 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.111 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:44.112 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.113 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:44.114 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:44.115 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:23:44.117 +02:00 [INF] Successful login for user: owner_demo
2026-02-07 09:23:44.118 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:44.120 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:44.121 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:44.121 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:44.122 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:44.123 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.LoginResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:44.133 +02:00 [INF] Executed action EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api) in 957.5424ms
2026-02-07 09:23:44.135 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:23:44.136 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:44.137 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:44.138 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.139 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:23:44.140 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/auth/login - 200 null application/json; charset=utf-8 994.8058ms
2026-02-07 09:23:44.172 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/auth/login - application/json 51
2026-02-07 09:23:44.175 +02:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2026-02-07 09:23:44.176 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)' with route pattern 'api/Auth/login' is valid for the request path '/api/auth/login'
2026-02-07 09:23:44.177 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:23:44.179 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:44.183 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:23:44.184 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:23:44.185 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.LoginResponse]]] Login(EliteClinic.Application.Features.Auth.DTOs.LoginRequest, System.String) on controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api).
2026-02-07 09:23:44.186 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:44.187 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:44.188 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:44.189 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:44.191 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:44.192 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:23:44.194 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:23:44.196 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:23:44.197 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' using the name '' in request data ...
2026-02-07 09:23:44.198 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:23:44.200 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000002": started reading request body.
2026-02-07 09:23:44.202 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000002": done reading request body.
2026-02-07 09:23:44.205 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'
2026-02-07 09:23:44.206 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:23:44.207 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:23:44.208 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:23:44.210 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:23:44.211 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:23:44.212 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:23:44.214 +02:00 [DBG] Could not find a value in the request with name 'X-Tenant' for binding parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:44.215 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:23:44.216 +02:00 [DBG] Could not find a value in the request with name 'X-Tenant' for binding parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:44.217 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:44.217 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:44.218 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:44.219 +02:00 [DBG] Attempting to validate the bound parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:23:44.219 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:44.221 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:44.224 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:44.225 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:44.225 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.226 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.226 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:44.227 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:44.228 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:44.229 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:44.358 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:44.361 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:44.363 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.363 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:23:44.364 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.365 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:44.429 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.430 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.430 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:44.431 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:44.431 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:44.432 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:23:44.579 +02:00 [INF] Executed DbCommand (147ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:23:44.581 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.582 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:44.583 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.583 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:44.585 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.586 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.587 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:44.587 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:44.588 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:44.589 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:44.703 +02:00 [INF] Executed DbCommand (114ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:44.705 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.707 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:44.708 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.708 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:44.709 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:44.710 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:44.710 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:44.711 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:44.712 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:44.712 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:44.713 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.715 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.716 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:44.717 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:44.718 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:44.719 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:23:44.845 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:23:44.848 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.849 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:44.850 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.851 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:44.853 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:44.854 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:23:44.855 +02:00 [INF] Successful login for user: superadmin
2026-02-07 09:23:44.855 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:44.856 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:44.857 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:44.857 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:44.858 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:44.858 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.LoginResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:44.860 +02:00 [INF] Executed action EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api) in 668.0159ms
2026-02-07 09:23:44.861 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:23:44.861 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:44.862 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:44.863 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.863 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:23:44.864 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/auth/login - 200 null application/json; charset=utf-8 692.3266ms
2026-02-07 09:23:44.870 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/auth/login - application/json 51
2026-02-07 09:23:44.871 +02:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2026-02-07 09:23:44.871 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)' with route pattern 'api/Auth/login' is valid for the request path '/api/auth/login'
2026-02-07 09:23:44.872 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:23:44.872 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:44.873 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:23:44.874 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:23:44.875 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.LoginResponse]]] Login(EliteClinic.Application.Features.Auth.DTOs.LoginRequest, System.String) on controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api).
2026-02-07 09:23:44.875 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:44.876 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:44.876 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:44.877 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:44.878 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:44.878 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:23:44.887 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:23:44.889 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:23:44.890 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' using the name '' in request data ...
2026-02-07 09:23:44.892 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:23:44.892 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000003": started reading request body.
2026-02-07 09:23:44.894 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000003": done reading request body.
2026-02-07 09:23:44.896 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'
2026-02-07 09:23:44.896 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:23:44.897 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:23:44.898 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:23:44.898 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:23:44.899 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:23:44.900 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:23:44.901 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:23:44.903 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:44.904 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:44.904 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:44.905 +02:00 [DBG] Attempting to validate the bound parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:23:44.906 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:44.907 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:44.920 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:44.920 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:44.921 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.921 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:44.922 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:44.923 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:44.923 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:44.924 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:45.050 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:45.052 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:45.054 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.055 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:23:45.056 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.057 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:45.125 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.127 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.127 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:45.128 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:45.129 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:45.129 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:23:45.251 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:23:45.252 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.253 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:45.254 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.256 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:45.257 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.258 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.259 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:45.259 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:45.260 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:45.261 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:45.390 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:45.391 +02:00 [DBG] The navigation 'ApplicationUser.Tenant' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:45.392 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:45.392 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.393 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:45.394 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.395 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:45.397 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.398 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.400 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:45.401 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:45.403 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:45.405 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:45.545 +02:00 [INF] Executed DbCommand (141ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:45.548 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.549 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:45.549 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.550 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:45.552 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:45.554 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:45.554 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:45.555 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:45.556 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:45.556 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:45.557 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.558 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.559 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:45.559 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:45.560 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:45.560 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:23:45.705 +02:00 [INF] Executed DbCommand (144ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:23:45.709 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.710 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:45.711 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.712 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:45.714 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:45.715 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:23:45.716 +02:00 [INF] Successful login for user: staff_sara
2026-02-07 09:23:45.717 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:45.720 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:45.721 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:45.722 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:45.722 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:45.723 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.LoginResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:45.724 +02:00 [INF] Executed action EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api) in 845.9334ms
2026-02-07 09:23:45.725 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:23:45.726 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:45.727 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:45.727 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.729 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:23:45.731 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/auth/login - 200 null application/json; charset=utf-8 861.5014ms
2026-02-07 09:23:45.737 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/auth/login - application/json 51
2026-02-07 09:23:45.739 +02:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2026-02-07 09:23:45.740 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)' with route pattern 'api/Auth/login' is valid for the request path '/api/auth/login'
2026-02-07 09:23:45.741 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:23:45.741 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:45.742 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:23:45.743 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:23:45.744 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.LoginResponse]]] Login(EliteClinic.Application.Features.Auth.DTOs.LoginRequest, System.String) on controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api).
2026-02-07 09:23:45.745 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:45.746 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:45.746 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:45.747 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:45.748 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:45.750 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:23:45.751 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:23:45.752 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:23:45.753 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' using the name '' in request data ...
2026-02-07 09:23:45.754 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:23:45.755 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000004": started reading request body.
2026-02-07 09:23:45.756 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000004": done reading request body.
2026-02-07 09:23:45.757 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'
2026-02-07 09:23:45.757 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:23:45.758 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:23:45.758 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:23:45.759 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:23:45.759 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:23:45.760 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:23:45.760 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:23:45.761 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:45.762 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:45.762 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:45.763 +02:00 [DBG] Attempting to validate the bound parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:23:45.763 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:23:45.765 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:45.766 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:45.766 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:45.766 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.767 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.767 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:45.768 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:45.769 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:45.769 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:45.900 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:45.901 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:45.904 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.905 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 4ms reading results.
2026-02-07 09:23:45.907 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.909 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:45.970 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.971 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:45.972 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:45.973 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:45.973 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:45.974 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:23:46.091 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:23:46.093 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.094 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:46.095 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.096 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:46.098 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.100 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.101 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:46.102 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:46.104 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2026-02-07 09:23:46.105 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:46.233 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:46.235 +02:00 [DBG] The navigation 'ApplicationUser.Tenant' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:46.236 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:46.237 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.237 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:23:46.238 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.239 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:46.240 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.240 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.241 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:46.242 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:46.242 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:46.243 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:46.374 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:46.376 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.376 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:46.377 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.378 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:46.379 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:46.381 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:46.381 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:46.381 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:46.382 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:46.382 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:46.383 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.384 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.385 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:46.386 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:46.387 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:46.388 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:23:46.511 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:23:46.513 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.514 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:46.515 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.516 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:46.517 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:46.519 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:23:46.520 +02:00 [INF] Successful login for user: dr_khaled
2026-02-07 09:23:46.520 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:46.522 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:46.522 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:46.523 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:46.523 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:46.524 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.LoginResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:46.525 +02:00 [INF] Executed action EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api) in 775.5021ms
2026-02-07 09:23:46.526 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:23:46.527 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:46.528 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:46.529 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.530 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:23:46.531 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/auth/login - 200 null application/json; charset=utf-8 793.2043ms
2026-02-07 09:23:46.557 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/settings - application/json null
2026-02-07 09:23:46.561 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/settings'
2026-02-07 09:23:46.561 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)' with route pattern 'api/clinic/settings' is valid for the request path '/api/clinic/settings'
2026-02-07 09:23:46.563 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)'
2026-02-07 09:23:46.564 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:46.566 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:46.568 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .AsNoTracking()
    .FirstOrDefault(t => t.Slug == __tenantHeader_0 && !(t.IsDeleted))'
2026-02-07 09:23:46.574 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Tenant>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
        SELECT TOP(1) t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
        FROM Tenants AS t
        WHERE (t.Slug == @__tenantHeader_0) && Not(t.IsDeleted)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
        SELECT TOP(1) t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
        FROM Tenants AS t
        WHERE (t.Slug == @__tenantHeader_0) && Not(t.IsDeleted), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Tenant entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Tenant instance1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Tenant);
            (object)dataReader.GetGuid(0) != null ? 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]: 
                        {
                            return 
                            {
                                Tenant instance;
                                instance = new Tenant();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ContactPhone>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                instance.<LogoUrl>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<Name>k__BackingField = dataReader.GetString(7);
                                instance.<Slug>k__BackingField = dataReader.GetString(8);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<TenantStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Tenant.Status (TenantStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(9));
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(10);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: NoTracking, 
                                    structuralType: [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Tenant)
                }
                ;
                return instance1;
            } : 
            {
                object[] keyValues1;
                keyValues1 = new object[]{ (object)dataReader.GetGuid(0) };
                return ShapedQueryCompilingExpressionVisitor.CreateNullKeyValueInNoTrackingQuery(
                    entityType: [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")], 
                    properties: [LIFTABLE Constant: List<RuntimeProperty> { Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd } | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindPrimaryKey().Properties], 
                    keyValues: keyValues1);
            };
            return instance1;
        };
        return entity;
    }, 
    contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2026-02-07 09:23:46.580 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:46.581 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:46.582 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.582 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.583 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:46.583 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:46.584 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:46.585 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:46.724 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:46.726 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.727 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:46.727 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.728 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:46.767 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:46.768 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:46.772 +02:00 [DBG] Authorization was successful.
2026-02-07 09:23:46.773 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)'
2026-02-07 09:23:46.777 +02:00 [INF] Route matched with {action = "GetSettings", controller = "ClinicSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.ClinicSettingsDto]]] GetSettings() on controller EliteClinic.Api.Controllers.ClinicSettingsController (EliteClinic.Api).
2026-02-07 09:23:46.778 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:46.779 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:46.779 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:46.781 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:46.781 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:46.782 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.ClinicSettingsController (EliteClinic.Api)
2026-02-07 09:23:46.784 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.ClinicSettingsController (EliteClinic.Api)
2026-02-07 09:23:46.787 +02:00 [DBG] Compiling query expression: 
'DbSet<ClinicSettings>()
    .Include(s => s.WorkingHours
        .Where(w => !(w.IsDeleted)))
    .FirstOrDefault()'
2026-02-07 09:23:46.795 +02:00 [DBG] Including navigation: 'ClinicSettings.WorkingHours'.
2026-02-07 09:23:46.832 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ClinicSettings>(
        asyncEnumerable: SingleQueryingEnumerable.Create<ClinicSettings>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClinicSettings.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClinicSettings.Address (string), 1], [Property: ClinicSettings.BookingEnabled (bool) Required, 2], [Property: ClinicSettings.CancellationWindowHours (int) Required, 3], [Property: ClinicSettings.City (string) MaxLength(100), 4], [Property: ClinicSettings.ClinicName (string) Required MaxLength(200), 5], [Property: ClinicSettings.CreatedAt (DateTime) Required, 6], [Property: ClinicSettings.DeletedAt (DateTime?), 7], [Property: ClinicSettings.IsDeleted (bool) Required, 8], [Property: ClinicSettings.LogoUrl (string), 9], [Property: ClinicSettings.Phone (string) MaxLength(20), 10], [Property: ClinicSettings.SupportPhoneNumber (string) MaxLength(20), 11], [Property: ClinicSettings.SupportWhatsAppNumber (string) MaxLength(20), 12], [Property: ClinicSettings.TenantId (Guid) Required FK Index, 13], [Property: ClinicSettings.UpdatedAt (DateTime) Required, 14], [Property: ClinicSettings.WhatsAppSenderNumber (string) MaxLength(20), 15] }
                    1 -> 0
                    2 -> Dictionary<IProperty, int> { [Property: WorkingHour.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: WorkingHour.ClinicSettingsId (Guid) Required FK Index, 17], [Property: WorkingHour.CreatedAt (DateTime) Required, 18], [Property: WorkingHour.DayOfWeek (DayOfWeek) Required, 19], [Property: WorkingHour.DeletedAt (DateTime?), 20], [Property: WorkingHour.EndTime (TimeSpan) Required, 21], [Property: WorkingHour.IsActive (bool) Required, 22], [Property: WorkingHour.IsDeleted (bool) Required, 23], [Property: WorkingHour.StartTime (TimeSpan) Required, 24], [Property: WorkingHour.TenantId (Guid) Required, 25], [Property: WorkingHour.UpdatedAt (DateTime) Required, 26] }
                    3 -> 16
                SELECT c0.Id, c0.Address, c0.BookingEnabled, c0.CancellationWindowHours, c0.City, c0.ClinicName, c0.CreatedAt, c0.DeletedAt, c0.IsDeleted, c0.LogoUrl, c0.Phone, c0.SupportPhoneNumber, c0.SupportWhatsAppNumber, c0.TenantId, c0.UpdatedAt, c0.WhatsAppSenderNumber, w0.Id, w0.ClinicSettingsId, w0.CreatedAt, w0.DayOfWeek, w0.DeletedAt, w0.EndTime, w0.IsActive, w0.IsDeleted, w0.StartTime, w0.TenantId, w0.UpdatedAt
                FROM 
                (
                    SELECT TOP(1) c.Id, c.Address, c.BookingEnabled, c.CancellationWindowHours, c.City, c.ClinicName, c.CreatedAt, c.DeletedAt, c.IsDeleted, c.LogoUrl, c.Phone, c.SupportPhoneNumber, c.SupportWhatsAppNumber, c.TenantId, c.UpdatedAt, c.WhatsAppSenderNumber
                    FROM ClinicSettings AS c
                    WHERE Not(c.IsDeleted) && (c.TenantId == @__ef_filter__CurrentTenantId_0)
                ) AS c0
                LEFT JOIN 
                (
                    SELECT w.Id, w.ClinicSettingsId, w.CreatedAt, w.DayOfWeek, w.DeletedAt, w.EndTime, w.IsActive, w.IsDeleted, w.StartTime, w.TenantId, w.UpdatedAt
                    FROM WorkingHours AS w
                    WHERE (Not(w.IsDeleted) && (w.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(w.IsDeleted)
                ) AS w0 ON c0.Id == w0.ClinicSettingsId
                ORDER BY c0.Id ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClinicSettings.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClinicSettings.Address (string), 1], [Property: ClinicSettings.BookingEnabled (bool) Required, 2], [Property: ClinicSettings.CancellationWindowHours (int) Required, 3], [Property: ClinicSettings.City (string) MaxLength(100), 4], [Property: ClinicSettings.ClinicName (string) Required MaxLength(200), 5], [Property: ClinicSettings.CreatedAt (DateTime) Required, 6], [Property: ClinicSettings.DeletedAt (DateTime?), 7], [Property: ClinicSettings.IsDeleted (bool) Required, 8], [Property: ClinicSettings.LogoUrl (string), 9], [Property: ClinicSettings.Phone (string) MaxLength(20), 10], [Property: ClinicSettings.SupportPhoneNumber (string) MaxLength(20), 11], [Property: ClinicSettings.SupportWhatsAppNumber (string) MaxLength(20), 12], [Property: ClinicSettings.TenantId (Guid) Required FK Index, 13], [Property: ClinicSettings.UpdatedAt (DateTime) Required, 14], [Property: ClinicSettings.WhatsAppSenderNumber (string) MaxLength(20), 15] }
                    1 -> 0
                    2 -> Dictionary<IProperty, int> { [Property: WorkingHour.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: WorkingHour.ClinicSettingsId (Guid) Required FK Index, 17], [Property: WorkingHour.CreatedAt (DateTime) Required, 18], [Property: WorkingHour.DayOfWeek (DayOfWeek) Required, 19], [Property: WorkingHour.DeletedAt (DateTime?), 20], [Property: WorkingHour.EndTime (TimeSpan) Required, 21], [Property: WorkingHour.IsActive (bool) Required, 22], [Property: WorkingHour.IsDeleted (bool) Required, 23], [Property: WorkingHour.StartTime (TimeSpan) Required, 24], [Property: WorkingHour.TenantId (Guid) Required, 25], [Property: WorkingHour.UpdatedAt (DateTime) Required, 26] }
                    3 -> 16
                SELECT c0.Id, c0.Address, c0.BookingEnabled, c0.CancellationWindowHours, c0.City, c0.ClinicName, c0.CreatedAt, c0.DeletedAt, c0.IsDeleted, c0.LogoUrl, c0.Phone, c0.SupportPhoneNumber, c0.SupportWhatsAppNumber, c0.TenantId, c0.UpdatedAt, c0.WhatsAppSenderNumber, w0.Id, w0.ClinicSettingsId, w0.CreatedAt, w0.DayOfWeek, w0.DeletedAt, w0.EndTime, w0.IsActive, w0.IsDeleted, w0.StartTime, w0.TenantId, w0.UpdatedAt
                FROM 
                (
                    SELECT TOP(1) c.Id, c.Address, c.BookingEnabled, c.CancellationWindowHours, c.City, c.ClinicName, c.CreatedAt, c.DeletedAt, c.IsDeleted, c.LogoUrl, c.Phone, c.SupportPhoneNumber, c.SupportWhatsAppNumber, c.TenantId, c.UpdatedAt, c.WhatsAppSenderNumber
                    FROM ClinicSettings AS c
                    WHERE Not(c.IsDeleted) && (c.TenantId == @__ef_filter__CurrentTenantId_0)
                ) AS c0
                LEFT JOIN 
                (
                    SELECT w.Id, w.ClinicSettingsId, w.CreatedAt, w.DayOfWeek, w.DeletedAt, w.EndTime, w.IsActive, w.IsDeleted, w.StartTime, w.TenantId, w.UpdatedAt
                    FROM WorkingHours AS w
                    WHERE (Not(w.IsDeleted) && (w.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(w.IsDeleted)
                ) AS w0 ON c0.Id == w0.ClinicSettingsId
                ORDER BY c0.Id ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                resultContext.Values == null ? 
                {
                    ClinicSettings entity;
                    entity = 
                    {
                        MaterializationContext materializationContext1;
                        IEntityType entityType1;
                        ClinicSettings instance1;
                        InternalEntityEntry entry1;
                        bool hasNullKey1;
                        materializationContext1 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance1 = default(ClinicSettings);
                        entry1 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: ClinicSettings.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ClinicSettings").FindPrimaryKey()], 
                            keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                            throwOnNullKey: True, 
                            hasNullKey: hasNullKey1);
                        !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                        {
                            entityType1 = entry1.EntityType;
                            return instance1 = (ClinicSettings)entry1.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot1;
                            shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType1 = [LIFTABLE Constant: EntityType: ClinicSettings | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ClinicSettings")];
                            instance1 = switch (entityType1)
                            {
                                case [LIFTABLE Constant: EntityType: ClinicSettings | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ClinicSettings")]: 
                                    {
                                        return 
                                        {
                                            ClinicSettings instance;
                                            instance = new ClinicSettings();
                                            instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                            instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                            instance.<BookingEnabled>k__BackingField = dataReader.GetBoolean(2);
                                            instance.<CancellationWindowHours>k__BackingField = dataReader.GetInt32(3);
                                            instance.<City>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                            instance.<ClinicName>k__BackingField = dataReader.GetString(5);
                                            instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(6);
                                            instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(7) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(7);
                                            instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(8);
                                            instance.<LogoUrl>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Phone>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                            instance.<SupportPhoneNumber>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SupportWhatsAppNumber>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TenantId>k__BackingField = dataReader.GetGuid(13);
                                            instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(14);
                                            instance.<WhatsAppSenderNumber>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext1.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: ClinicSettings | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ClinicSettings")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(ClinicSettings)
                            }
                            ;
                            entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType1, 
                                entity: instance1, 
                                snapshot: shadowSnapshot1);
                            return instance1;
                        } : default(void);
                        return instance1;
                    };
                    resultContext.Values = new object[]{ entity };
                    ShaperProcessingExpressionVisitor.InitializeIncludeCollection<ClinicSettings, ClinicSettings>(
                        collectionId: 0, 
                        queryContext: queryContext, 
                        dbDataReader: dataReader, 
                        resultCoordinator: resultCoordinator, 
                        entity: (ClinicSettings)(resultContext.Values[0]), 
                        parentIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                        outerIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                        navigation: [LIFTABLE Constant: Navigation: ClinicSettings.WorkingHours (ICollection<WorkingHour>) Collection ToDependent WorkingHour Inverse: ClinicSettings | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ClinicSettings").FindNavigation("WorkingHours")], 
                        clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<ClinicSettings, ICollection<WorkingHour>, WorkingHour> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ClinicSettings").FindNavigation("WorkingHours").GetCollectionAccessor()], 
                        trackingQuery: True, 
                        setLoaded: True);
                } : default(void);
                ShaperProcessingExpressionVisitor.PopulateIncludeCollection<ClinicSettings, WorkingHour>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                    outerIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                    selfIdentifier: (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(16) ? default(Guid?) : (Guid?)dataReader.GetGuid(16) }, 
                    parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                    {
                        WorkingHour entity;
                        entity = 
                        {
                            MaterializationContext materializationContext2;
                            IEntityType entityType2;
                            WorkingHour instance2;
                            InternalEntityEntry entry2;
                            bool hasNullKey2;
                            materializationContext2 = new MaterializationContext(
                                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                                queryContext.Context
                            );
                            instance2 = default(WorkingHour);
                            entry2 = queryContext.TryGetEntry(
                                key: [LIFTABLE Constant: Key: WorkingHour.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.WorkingHour").FindPrimaryKey()], 
                                keyValues: new object[]{ dataReader.IsDBNull(16) ? default(object) : (object)dataReader.GetGuid(16) }, 
                                throwOnNullKey: False, 
                                hasNullKey: hasNullKey2);
                            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                            {
                                entityType2 = entry2.EntityType;
                                return instance2 = (WorkingHour)entry2.Entity;
                            } : 
                            {
                                ISnapshot shadowSnapshot2;
                                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                                entityType2 = [LIFTABLE Constant: EntityType: WorkingHour | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.WorkingHour")];
                                instance2 = switch (entityType2)
                                {
                                    case [LIFTABLE Constant: EntityType: WorkingHour | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.WorkingHour")]: 
                                        {
                                            return 
                                            {
                                                WorkingHour instance;
                                                instance = new WorkingHour();
                                                instance.<Id>k__BackingField = dataReader.IsDBNull(16) ? default(Guid) : dataReader.GetGuid(16);
                                                instance.<ClinicSettingsId>k__BackingField = dataReader.IsDBNull(17) ? default(Guid) : dataReader.GetGuid(17);
                                                instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(18) ? default(DateTime) : dataReader.GetDateTime(18);
                                                instance.<DayOfWeek>k__BackingField = dataReader.IsDBNull(19) ? default(DayOfWeek) : Invoke(((EnumToNumberConverter<DayOfWeek, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: WorkingHour.DayOfWeek (DayOfWeek) Required | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.WorkingHour").FindProperty("DayOfWeek")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(19));
                                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(20) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(20);
                                                instance.<EndTime>k__BackingField = dataReader.IsDBNull(21) ? default(TimeSpan) : dataReader.GetFieldValue<TimeSpan>(21);
                                                instance.<IsActive>k__BackingField = dataReader.IsDBNull(22) ? default(bool) : dataReader.GetBoolean(22);
                                                instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(23) ? default(bool) : dataReader.GetBoolean(23);
                                                instance.<StartTime>k__BackingField = dataReader.IsDBNull(24) ? default(TimeSpan) : dataReader.GetFieldValue<TimeSpan>(24);
                                                instance.<TenantId>k__BackingField = dataReader.IsDBNull(25) ? default(Guid) : dataReader.GetGuid(25);
                                                instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(26) ? default(DateTime) : dataReader.GetDateTime(26);
                                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                    context: materializationContext2.Context, 
                                                    entity: instance, 
                                                    queryTrackingBehavior: TrackAll, 
                                                    structuralType: [LIFTABLE Constant: EntityType: WorkingHour | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.WorkingHour")]) : default(void);
                                                return instance;
                                            }}
                                    default: 
                                        default(WorkingHour)
                                }
                                ;
                                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                    entityType: entityType2, 
                                    entity: instance2, 
                                    snapshot: shadowSnapshot2);
                                return instance2;
                            } : default(void);
                            return instance2;
                        };
                        return entity;
                    }, 
                    inverseNavigation: [LIFTABLE Constant: Navigation: WorkingHour.ClinicSettings (ClinicSettings) ToPrincipal ClinicSettings Inverse: WorkingHours | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.WorkingHour").FindNavigation("ClinicSettings")], 
                    fixup: (namelessParameter{10}, namelessParameter{11}) => 
                    {
                        [LIFTABLE Constant: ClrICollectionAccessor<ClinicSettings, ICollection<WorkingHour>, WorkingHour> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ClinicSettings").FindNavigation("WorkingHours").GetCollectionAccessor()].Add(
                            entity: namelessParameter{10}, 
                            value: namelessParameter{11}, 
                            forMaterialization: True);
                        return namelessParameter{11}.<ClinicSettings>k__BackingField = namelessParameter{10};
                    }, 
                    trackingQuery: True);
                return IsTrue(resultCoordinator.ResultReady)
                 ? (ClinicSettings)(resultContext.Values[0]) : default(ClinicSettings);
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:23:46.843 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.844 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:46.846 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:46.847 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:46.848 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:46.848 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[Address], [c0].[BookingEnabled], [c0].[CancellationWindowHours], [c0].[City], [c0].[ClinicName], [c0].[CreatedAt], [c0].[DeletedAt], [c0].[IsDeleted], [c0].[LogoUrl], [c0].[Phone], [c0].[SupportPhoneNumber], [c0].[SupportWhatsAppNumber], [c0].[TenantId], [c0].[UpdatedAt], [c0].[WhatsAppSenderNumber], [w0].[Id], [w0].[ClinicSettingsId], [w0].[CreatedAt], [w0].[DayOfWeek], [w0].[DeletedAt], [w0].[EndTime], [w0].[IsActive], [w0].[IsDeleted], [w0].[StartTime], [w0].[TenantId], [w0].[UpdatedAt]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Address], [c].[BookingEnabled], [c].[CancellationWindowHours], [c].[City], [c].[ClinicName], [c].[CreatedAt], [c].[DeletedAt], [c].[IsDeleted], [c].[LogoUrl], [c].[Phone], [c].[SupportPhoneNumber], [c].[SupportWhatsAppNumber], [c].[TenantId], [c].[UpdatedAt], [c].[WhatsAppSenderNumber]
    FROM [ClinicSettings] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [c0]
LEFT JOIN (
    SELECT [w].[Id], [w].[ClinicSettingsId], [w].[CreatedAt], [w].[DayOfWeek], [w].[DeletedAt], [w].[EndTime], [w].[IsActive], [w].[IsDeleted], [w].[StartTime], [w].[TenantId], [w].[UpdatedAt]
    FROM [WorkingHours] AS [w]
    WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [w].[IsDeleted] = CAST(0 AS bit)
) AS [w0] ON [c0].[Id] = [w0].[ClinicSettingsId]
ORDER BY [c0].[Id]
2026-02-07 09:23:46.979 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[Address], [c0].[BookingEnabled], [c0].[CancellationWindowHours], [c0].[City], [c0].[ClinicName], [c0].[CreatedAt], [c0].[DeletedAt], [c0].[IsDeleted], [c0].[LogoUrl], [c0].[Phone], [c0].[SupportPhoneNumber], [c0].[SupportWhatsAppNumber], [c0].[TenantId], [c0].[UpdatedAt], [c0].[WhatsAppSenderNumber], [w0].[Id], [w0].[ClinicSettingsId], [w0].[CreatedAt], [w0].[DayOfWeek], [w0].[DeletedAt], [w0].[EndTime], [w0].[IsActive], [w0].[IsDeleted], [w0].[StartTime], [w0].[TenantId], [w0].[UpdatedAt]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Address], [c].[BookingEnabled], [c].[CancellationWindowHours], [c].[City], [c].[ClinicName], [c].[CreatedAt], [c].[DeletedAt], [c].[IsDeleted], [c].[LogoUrl], [c].[Phone], [c].[SupportPhoneNumber], [c].[SupportWhatsAppNumber], [c].[TenantId], [c].[UpdatedAt], [c].[WhatsAppSenderNumber]
    FROM [ClinicSettings] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [c0]
LEFT JOIN (
    SELECT [w].[Id], [w].[ClinicSettingsId], [w].[CreatedAt], [w].[DayOfWeek], [w].[DeletedAt], [w].[EndTime], [w].[IsActive], [w].[IsDeleted], [w].[StartTime], [w].[TenantId], [w].[UpdatedAt]
    FROM [WorkingHours] AS [w]
    WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [w].[IsDeleted] = CAST(0 AS bit)
) AS [w0] ON [c0].[Id] = [w0].[ClinicSettingsId]
ORDER BY [c0].[Id]
2026-02-07 09:23:46.984 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ClinicSettings' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.011 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'WorkingHour' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.023 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'WorkingHour' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.024 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.025 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 44ms reading results.
2026-02-07 09:23:47.026 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.027 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:47.030 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:47.032 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:47.032 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:47.032 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:47.033 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:47.034 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.ClinicSettingsDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:47.042 +02:00 [INF] Executed action EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api) in 259.9194ms
2026-02-07 09:23:47.043 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)'
2026-02-07 09:23:47.045 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:47.046 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:47.047 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.049 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:23:47.050 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/settings - 200 null application/json; charset=utf-8 493.0868ms
2026-02-07 09:23:47.065 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/settings - application/json null
2026-02-07 09:23:47.067 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/settings'
2026-02-07 09:23:47.068 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)' with route pattern 'api/clinic/settings' is valid for the request path '/api/clinic/settings'
2026-02-07 09:23:47.069 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)'
2026-02-07 09:23:47.070 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:47.071 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:47.072 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:47.072 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:47.072 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.073 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.073 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:47.074 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:47.075 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:47.075 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:47.216 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:47.217 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.218 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:47.219 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.220 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:47.222 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:47.222 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:47.224 +02:00 [DBG] Authorization was successful.
2026-02-07 09:23:47.225 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)'
2026-02-07 09:23:47.225 +02:00 [INF] Route matched with {action = "GetSettings", controller = "ClinicSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.ClinicSettingsDto]]] GetSettings() on controller EliteClinic.Api.Controllers.ClinicSettingsController (EliteClinic.Api).
2026-02-07 09:23:47.227 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:47.228 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:47.229 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:47.230 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:47.231 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:47.232 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.ClinicSettingsController (EliteClinic.Api)
2026-02-07 09:23:47.234 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.ClinicSettingsController (EliteClinic.Api)
2026-02-07 09:23:47.235 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.236 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.237 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:47.238 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:47.239 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:47.240 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[Address], [c0].[BookingEnabled], [c0].[CancellationWindowHours], [c0].[City], [c0].[ClinicName], [c0].[CreatedAt], [c0].[DeletedAt], [c0].[IsDeleted], [c0].[LogoUrl], [c0].[Phone], [c0].[SupportPhoneNumber], [c0].[SupportWhatsAppNumber], [c0].[TenantId], [c0].[UpdatedAt], [c0].[WhatsAppSenderNumber], [w0].[Id], [w0].[ClinicSettingsId], [w0].[CreatedAt], [w0].[DayOfWeek], [w0].[DeletedAt], [w0].[EndTime], [w0].[IsActive], [w0].[IsDeleted], [w0].[StartTime], [w0].[TenantId], [w0].[UpdatedAt]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Address], [c].[BookingEnabled], [c].[CancellationWindowHours], [c].[City], [c].[ClinicName], [c].[CreatedAt], [c].[DeletedAt], [c].[IsDeleted], [c].[LogoUrl], [c].[Phone], [c].[SupportPhoneNumber], [c].[SupportWhatsAppNumber], [c].[TenantId], [c].[UpdatedAt], [c].[WhatsAppSenderNumber]
    FROM [ClinicSettings] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [c0]
LEFT JOIN (
    SELECT [w].[Id], [w].[ClinicSettingsId], [w].[CreatedAt], [w].[DayOfWeek], [w].[DeletedAt], [w].[EndTime], [w].[IsActive], [w].[IsDeleted], [w].[StartTime], [w].[TenantId], [w].[UpdatedAt]
    FROM [WorkingHours] AS [w]
    WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [w].[IsDeleted] = CAST(0 AS bit)
) AS [w0] ON [c0].[Id] = [w0].[ClinicSettingsId]
ORDER BY [c0].[Id]
2026-02-07 09:23:47.373 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[Address], [c0].[BookingEnabled], [c0].[CancellationWindowHours], [c0].[City], [c0].[ClinicName], [c0].[CreatedAt], [c0].[DeletedAt], [c0].[IsDeleted], [c0].[LogoUrl], [c0].[Phone], [c0].[SupportPhoneNumber], [c0].[SupportWhatsAppNumber], [c0].[TenantId], [c0].[UpdatedAt], [c0].[WhatsAppSenderNumber], [w0].[Id], [w0].[ClinicSettingsId], [w0].[CreatedAt], [w0].[DayOfWeek], [w0].[DeletedAt], [w0].[EndTime], [w0].[IsActive], [w0].[IsDeleted], [w0].[StartTime], [w0].[TenantId], [w0].[UpdatedAt]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Address], [c].[BookingEnabled], [c].[CancellationWindowHours], [c].[City], [c].[ClinicName], [c].[CreatedAt], [c].[DeletedAt], [c].[IsDeleted], [c].[LogoUrl], [c].[Phone], [c].[SupportPhoneNumber], [c].[SupportWhatsAppNumber], [c].[TenantId], [c].[UpdatedAt], [c].[WhatsAppSenderNumber]
    FROM [ClinicSettings] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [c0]
LEFT JOIN (
    SELECT [w].[Id], [w].[ClinicSettingsId], [w].[CreatedAt], [w].[DayOfWeek], [w].[DeletedAt], [w].[EndTime], [w].[IsActive], [w].[IsDeleted], [w].[StartTime], [w].[TenantId], [w].[UpdatedAt]
    FROM [WorkingHours] AS [w]
    WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [w].[IsDeleted] = CAST(0 AS bit)
) AS [w0] ON [c0].[Id] = [w0].[ClinicSettingsId]
ORDER BY [c0].[Id]
2026-02-07 09:23:47.375 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ClinicSettings' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.376 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'WorkingHour' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.377 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'WorkingHour' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.378 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.378 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 3ms reading results.
2026-02-07 09:23:47.379 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.380 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:47.381 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:47.382 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:47.383 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:47.383 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:47.384 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:47.384 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.ClinicSettingsDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:47.385 +02:00 [INF] Executed action EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api) in 153.0181ms
2026-02-07 09:23:47.386 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)'
2026-02-07 09:23:47.387 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:47.387 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:47.388 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.389 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:23:47.390 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/settings - 200 null application/json; charset=utf-8 325.3603ms
2026-02-07 09:23:47.397 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5094/api/clinic/settings - application/json 325
2026-02-07 09:23:47.399 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/settings'
2026-02-07 09:23:47.400 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.UpdateSettings (EliteClinic.Api)' with route pattern 'api/clinic/settings' is valid for the request path '/api/clinic/settings'
2026-02-07 09:23:47.402 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.UpdateSettings (EliteClinic.Api)'
2026-02-07 09:23:47.402 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:47.404 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:47.408 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:47.408 +02:00 [DBG] Created DbConnection. (1ms).
2026-02-07 09:23:47.409 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.410 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.411 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:47.412 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:47.412 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:47.413 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:47.533 +02:00 [INF] Executed DbCommand (120ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:47.535 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.535 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:47.536 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.537 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:47.537 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:47.538 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:47.547 +02:00 [DBG] Authorization was successful.
2026-02-07 09:23:47.550 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.UpdateSettings (EliteClinic.Api)'
2026-02-07 09:23:47.562 +02:00 [INF] Route matched with {action = "UpdateSettings", controller = "ClinicSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.ClinicSettingsDto]]] UpdateSettings(EliteClinic.Application.Features.Clinic.DTOs.UpdateClinicSettingsRequest) on controller EliteClinic.Api.Controllers.ClinicSettingsController (EliteClinic.Api).
2026-02-07 09:23:47.565 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:47.567 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:47.568 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:47.569 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:47.570 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:47.571 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.ClinicSettingsController (EliteClinic.Api)
2026-02-07 09:23:47.573 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.ClinicSettingsController (EliteClinic.Api)
2026-02-07 09:23:47.574 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateClinicSettingsRequest' ...
2026-02-07 09:23:47.575 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateClinicSettingsRequest' using the name '' in request data ...
2026-02-07 09:23:47.577 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:23:47.583 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000007": started reading request body.
2026-02-07 09:23:47.585 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000007": done reading request body.
2026-02-07 09:23:47.590 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateClinicSettingsRequest'
2026-02-07 09:23:47.591 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateClinicSettingsRequest'.
2026-02-07 09:23:47.592 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateClinicSettingsRequest'.
2026-02-07 09:23:47.593 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateClinicSettingsRequest' ...
2026-02-07 09:23:47.603 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateClinicSettingsRequest'.
2026-02-07 09:23:47.607 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.608 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.609 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:47.610 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:47.611 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:47.612 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[Address], [c0].[BookingEnabled], [c0].[CancellationWindowHours], [c0].[City], [c0].[ClinicName], [c0].[CreatedAt], [c0].[DeletedAt], [c0].[IsDeleted], [c0].[LogoUrl], [c0].[Phone], [c0].[SupportPhoneNumber], [c0].[SupportWhatsAppNumber], [c0].[TenantId], [c0].[UpdatedAt], [c0].[WhatsAppSenderNumber], [w0].[Id], [w0].[ClinicSettingsId], [w0].[CreatedAt], [w0].[DayOfWeek], [w0].[DeletedAt], [w0].[EndTime], [w0].[IsActive], [w0].[IsDeleted], [w0].[StartTime], [w0].[TenantId], [w0].[UpdatedAt]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Address], [c].[BookingEnabled], [c].[CancellationWindowHours], [c].[City], [c].[ClinicName], [c].[CreatedAt], [c].[DeletedAt], [c].[IsDeleted], [c].[LogoUrl], [c].[Phone], [c].[SupportPhoneNumber], [c].[SupportWhatsAppNumber], [c].[TenantId], [c].[UpdatedAt], [c].[WhatsAppSenderNumber]
    FROM [ClinicSettings] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [c0]
LEFT JOIN (
    SELECT [w].[Id], [w].[ClinicSettingsId], [w].[CreatedAt], [w].[DayOfWeek], [w].[DeletedAt], [w].[EndTime], [w].[IsActive], [w].[IsDeleted], [w].[StartTime], [w].[TenantId], [w].[UpdatedAt]
    FROM [WorkingHours] AS [w]
    WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [w].[IsDeleted] = CAST(0 AS bit)
) AS [w0] ON [c0].[Id] = [w0].[ClinicSettingsId]
ORDER BY [c0].[Id]
2026-02-07 09:23:47.747 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[Address], [c0].[BookingEnabled], [c0].[CancellationWindowHours], [c0].[City], [c0].[ClinicName], [c0].[CreatedAt], [c0].[DeletedAt], [c0].[IsDeleted], [c0].[LogoUrl], [c0].[Phone], [c0].[SupportPhoneNumber], [c0].[SupportWhatsAppNumber], [c0].[TenantId], [c0].[UpdatedAt], [c0].[WhatsAppSenderNumber], [w0].[Id], [w0].[ClinicSettingsId], [w0].[CreatedAt], [w0].[DayOfWeek], [w0].[DeletedAt], [w0].[EndTime], [w0].[IsActive], [w0].[IsDeleted], [w0].[StartTime], [w0].[TenantId], [w0].[UpdatedAt]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Address], [c].[BookingEnabled], [c].[CancellationWindowHours], [c].[City], [c].[ClinicName], [c].[CreatedAt], [c].[DeletedAt], [c].[IsDeleted], [c].[LogoUrl], [c].[Phone], [c].[SupportPhoneNumber], [c].[SupportWhatsAppNumber], [c].[TenantId], [c].[UpdatedAt], [c].[WhatsAppSenderNumber]
    FROM [ClinicSettings] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [c0]
LEFT JOIN (
    SELECT [w].[Id], [w].[ClinicSettingsId], [w].[CreatedAt], [w].[DayOfWeek], [w].[DeletedAt], [w].[EndTime], [w].[IsActive], [w].[IsDeleted], [w].[StartTime], [w].[TenantId], [w].[UpdatedAt]
    FROM [WorkingHours] AS [w]
    WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [w].[IsDeleted] = CAST(0 AS bit)
) AS [w0] ON [c0].[Id] = [w0].[ClinicSettingsId]
ORDER BY [c0].[Id]
2026-02-07 09:23:47.749 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ClinicSettings' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.752 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'WorkingHour' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.753 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'WorkingHour' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.754 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.754 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 4ms reading results.
2026-02-07 09:23:47.755 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.756 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:47.762 +02:00 [DBG] The navigation 'WorkingHour.ClinicSettings' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.765 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'WorkingHour' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.767 +02:00 [DBG] The navigation 'WorkingHour.ClinicSettings' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.768 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'WorkingHour' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.769 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:47.782 +02:00 [DBG] The unchanged property 'WorkingHour.DeletedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:47.783 +02:00 [DBG] An entity of type 'WorkingHour' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.785 +02:00 [DBG] The unchanged property 'WorkingHour.IsDeleted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:47.785 +02:00 [DBG] The unchanged property 'WorkingHour.DeletedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:47.786 +02:00 [DBG] An entity of type 'WorkingHour' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.787 +02:00 [DBG] The unchanged property 'WorkingHour.IsDeleted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:47.788 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:47.792 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.792 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.793 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.794 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:47.795 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:47.795 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:47.796 +02:00 [DBG] The unchanged property 'WorkingHour.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:47.797 +02:00 [DBG] The unchanged property 'WorkingHour.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:47.798 +02:00 [DBG] The unchanged property 'WorkingHour.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:47.799 +02:00 [DBG] The unchanged property 'WorkingHour.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:47.800 +02:00 [DBG] The unchanged property 'WorkingHour.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:47.801 +02:00 [DBG] The unchanged property 'WorkingHour.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:47.802 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:47.806 +02:00 [DBG] Executing 8 update commands as a batch.
2026-02-07 09:23:47.807 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.808 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:47.809 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:23:47.934 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:23:47.935 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:47.936 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:47.938 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:47.939 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?' (Size = 4000), @p30='?' (DbType = DateTime2), @p31='?' (DbType = DateTime2), @p32='?' (Size = 4000), @p33='?' (Size = 4000), @p34='?' (Size = 4000), @p35='?' (DbType = Boolean), @p36='?' (Size = 4000), @p37='?' (Size = 4000), @p38='?' (DbType = Guid), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = Guid), @p42='?' (DbType = Guid), @p43='?' (Size = 4000), @p44='?' (DbType = DateTime2), @p45='?' (DbType = DateTime2), @p46='?' (Size = 4000), @p47='?' (Size = 4000), @p48='?' (Size = 4000), @p49='?' (DbType = Boolean), @p50='?' (Size = 4000), @p51='?' (Size = 4000), @p52='?' (DbType = Guid), @p53='?' (DbType = DateTime2), @p54='?' (DbType = DateTime2), @p55='?' (DbType = Guid), @p59='?' (DbType = Guid), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (DbType = DateTime2), @p63='?' (DbType = Guid), @p60='?' (DbType = DateTime2), @p61='?' (DbType = Boolean), @p62='?' (DbType = DateTime2), @p64='?' (DbType = Guid), @p65='?' (DbType = Guid), @p66='?' (DbType = DateTime2), @p67='?' (DbType = Int32), @p68='?' (DbType = DateTime2), @p69='?' (DbType = Time), @p70='?' (DbType = Boolean), @p71='?' (DbType = Boolean), @p72='?' (DbType = Time), @p73='?' (DbType = Guid), @p74='?' (DbType = DateTime2), @p75='?' (DbType = Guid), @p76='?' (DbType = Guid), @p77='?' (DbType = DateTime2), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Time), @p81='?' (DbType = Boolean), @p82='?' (DbType = Boolean), @p83='?' (DbType = Time), @p84='?' (DbType = Guid), @p85='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
UPDATE [WorkingHours] SET [DeletedAt] = @p56, [IsDeleted] = @p57, [UpdatedAt] = @p58
OUTPUT 1
WHERE [Id] = @p59;
UPDATE [WorkingHours] SET [DeletedAt] = @p60, [IsDeleted] = @p61, [UpdatedAt] = @p62
OUTPUT 1
WHERE [Id] = @p63;
INSERT INTO [WorkingHours] ([Id], [ClinicSettingsId], [CreatedAt], [DayOfWeek], [DeletedAt], [EndTime], [IsActive], [IsDeleted], [StartTime], [TenantId], [UpdatedAt])
VALUES (@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74),
(@p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85);
2026-02-07 09:23:48.060 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?' (Size = 4000), @p30='?' (DbType = DateTime2), @p31='?' (DbType = DateTime2), @p32='?' (Size = 4000), @p33='?' (Size = 4000), @p34='?' (Size = 4000), @p35='?' (DbType = Boolean), @p36='?' (Size = 4000), @p37='?' (Size = 4000), @p38='?' (DbType = Guid), @p39='?' (DbType = DateTime2), @p40='?' (DbType = DateTime2), @p41='?' (DbType = Guid), @p42='?' (DbType = Guid), @p43='?' (Size = 4000), @p44='?' (DbType = DateTime2), @p45='?' (DbType = DateTime2), @p46='?' (Size = 4000), @p47='?' (Size = 4000), @p48='?' (Size = 4000), @p49='?' (DbType = Boolean), @p50='?' (Size = 4000), @p51='?' (Size = 4000), @p52='?' (DbType = Guid), @p53='?' (DbType = DateTime2), @p54='?' (DbType = DateTime2), @p55='?' (DbType = Guid), @p59='?' (DbType = Guid), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (DbType = DateTime2), @p63='?' (DbType = Guid), @p60='?' (DbType = DateTime2), @p61='?' (DbType = Boolean), @p62='?' (DbType = DateTime2), @p64='?' (DbType = Guid), @p65='?' (DbType = Guid), @p66='?' (DbType = DateTime2), @p67='?' (DbType = Int32), @p68='?' (DbType = DateTime2), @p69='?' (DbType = Time), @p70='?' (DbType = Boolean), @p71='?' (DbType = Boolean), @p72='?' (DbType = Time), @p73='?' (DbType = Guid), @p74='?' (DbType = DateTime2), @p75='?' (DbType = Guid), @p76='?' (DbType = Guid), @p77='?' (DbType = DateTime2), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Time), @p81='?' (DbType = Boolean), @p82='?' (DbType = Boolean), @p83='?' (DbType = Time), @p84='?' (DbType = Guid), @p85='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);
UPDATE [WorkingHours] SET [DeletedAt] = @p56, [IsDeleted] = @p57, [UpdatedAt] = @p58
OUTPUT 1
WHERE [Id] = @p59;
UPDATE [WorkingHours] SET [DeletedAt] = @p60, [IsDeleted] = @p61, [UpdatedAt] = @p62
OUTPUT 1
WHERE [Id] = @p63;
INSERT INTO [WorkingHours] ([Id], [ClinicSettingsId], [CreatedAt], [DayOfWeek], [DeletedAt], [EndTime], [IsActive], [IsDeleted], [StartTime], [TenantId], [UpdatedAt])
VALUES (@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74),
(@p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85);
2026-02-07 09:23:48.063 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.063 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:48.066 +02:00 [DBG] Committing transaction.
2026-02-07 09:23:48.200 +02:00 [DBG] Committed transaction.
2026-02-07 09:23:48.201 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.203 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:48.203 +02:00 [DBG] Disposing transaction.
2026-02-07 09:23:48.204 +02:00 [DBG] An entity of type 'WorkingHour' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:48.205 +02:00 [DBG] An entity of type 'WorkingHour' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:48.205 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:48.206 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:48.208 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:48.209 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:48.210 +02:00 [DBG] An entity of type 'WorkingHour' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:48.211 +02:00 [DBG] An entity of type 'WorkingHour' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:48.212 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 8 entities written to the database.
2026-02-07 09:23:48.212 +02:00 [DBG] Compiling query expression: 
'DbSet<ClinicSettings>()
    .Include(s => s.WorkingHours
        .Where(w => !(w.IsDeleted)))
    .First()'
2026-02-07 09:23:48.215 +02:00 [DBG] Including navigation: 'ClinicSettings.WorkingHours'.
2026-02-07 09:23:48.224 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<ClinicSettings>(
        asyncEnumerable: SingleQueryingEnumerable.Create<ClinicSettings>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClinicSettings.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClinicSettings.Address (string), 1], [Property: ClinicSettings.BookingEnabled (bool) Required, 2], [Property: ClinicSettings.CancellationWindowHours (int) Required, 3], [Property: ClinicSettings.City (string) MaxLength(100), 4], [Property: ClinicSettings.ClinicName (string) Required MaxLength(200), 5], [Property: ClinicSettings.CreatedAt (DateTime) Required, 6], [Property: ClinicSettings.DeletedAt (DateTime?), 7], [Property: ClinicSettings.IsDeleted (bool) Required, 8], [Property: ClinicSettings.LogoUrl (string), 9], [Property: ClinicSettings.Phone (string) MaxLength(20), 10], [Property: ClinicSettings.SupportPhoneNumber (string) MaxLength(20), 11], [Property: ClinicSettings.SupportWhatsAppNumber (string) MaxLength(20), 12], [Property: ClinicSettings.TenantId (Guid) Required FK Index, 13], [Property: ClinicSettings.UpdatedAt (DateTime) Required, 14], [Property: ClinicSettings.WhatsAppSenderNumber (string) MaxLength(20), 15] }
                    1 -> 0
                    2 -> Dictionary<IProperty, int> { [Property: WorkingHour.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: WorkingHour.ClinicSettingsId (Guid) Required FK Index, 17], [Property: WorkingHour.CreatedAt (DateTime) Required, 18], [Property: WorkingHour.DayOfWeek (DayOfWeek) Required, 19], [Property: WorkingHour.DeletedAt (DateTime?), 20], [Property: WorkingHour.EndTime (TimeSpan) Required, 21], [Property: WorkingHour.IsActive (bool) Required, 22], [Property: WorkingHour.IsDeleted (bool) Required, 23], [Property: WorkingHour.StartTime (TimeSpan) Required, 24], [Property: WorkingHour.TenantId (Guid) Required, 25], [Property: WorkingHour.UpdatedAt (DateTime) Required, 26] }
                    3 -> 16
                SELECT c0.Id, c0.Address, c0.BookingEnabled, c0.CancellationWindowHours, c0.City, c0.ClinicName, c0.CreatedAt, c0.DeletedAt, c0.IsDeleted, c0.LogoUrl, c0.Phone, c0.SupportPhoneNumber, c0.SupportWhatsAppNumber, c0.TenantId, c0.UpdatedAt, c0.WhatsAppSenderNumber, w0.Id, w0.ClinicSettingsId, w0.CreatedAt, w0.DayOfWeek, w0.DeletedAt, w0.EndTime, w0.IsActive, w0.IsDeleted, w0.StartTime, w0.TenantId, w0.UpdatedAt
                FROM 
                (
                    SELECT TOP(1) c.Id, c.Address, c.BookingEnabled, c.CancellationWindowHours, c.City, c.ClinicName, c.CreatedAt, c.DeletedAt, c.IsDeleted, c.LogoUrl, c.Phone, c.SupportPhoneNumber, c.SupportWhatsAppNumber, c.TenantId, c.UpdatedAt, c.WhatsAppSenderNumber
                    FROM ClinicSettings AS c
                    WHERE Not(c.IsDeleted) && (c.TenantId == @__ef_filter__CurrentTenantId_0)
                ) AS c0
                LEFT JOIN 
                (
                    SELECT w.Id, w.ClinicSettingsId, w.CreatedAt, w.DayOfWeek, w.DeletedAt, w.EndTime, w.IsActive, w.IsDeleted, w.StartTime, w.TenantId, w.UpdatedAt
                    FROM WorkingHours AS w
                    WHERE (Not(w.IsDeleted) && (w.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(w.IsDeleted)
                ) AS w0 ON c0.Id == w0.ClinicSettingsId
                ORDER BY c0.Id ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: ClinicSettings.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ClinicSettings.Address (string), 1], [Property: ClinicSettings.BookingEnabled (bool) Required, 2], [Property: ClinicSettings.CancellationWindowHours (int) Required, 3], [Property: ClinicSettings.City (string) MaxLength(100), 4], [Property: ClinicSettings.ClinicName (string) Required MaxLength(200), 5], [Property: ClinicSettings.CreatedAt (DateTime) Required, 6], [Property: ClinicSettings.DeletedAt (DateTime?), 7], [Property: ClinicSettings.IsDeleted (bool) Required, 8], [Property: ClinicSettings.LogoUrl (string), 9], [Property: ClinicSettings.Phone (string) MaxLength(20), 10], [Property: ClinicSettings.SupportPhoneNumber (string) MaxLength(20), 11], [Property: ClinicSettings.SupportWhatsAppNumber (string) MaxLength(20), 12], [Property: ClinicSettings.TenantId (Guid) Required FK Index, 13], [Property: ClinicSettings.UpdatedAt (DateTime) Required, 14], [Property: ClinicSettings.WhatsAppSenderNumber (string) MaxLength(20), 15] }
                    1 -> 0
                    2 -> Dictionary<IProperty, int> { [Property: WorkingHour.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: WorkingHour.ClinicSettingsId (Guid) Required FK Index, 17], [Property: WorkingHour.CreatedAt (DateTime) Required, 18], [Property: WorkingHour.DayOfWeek (DayOfWeek) Required, 19], [Property: WorkingHour.DeletedAt (DateTime?), 20], [Property: WorkingHour.EndTime (TimeSpan) Required, 21], [Property: WorkingHour.IsActive (bool) Required, 22], [Property: WorkingHour.IsDeleted (bool) Required, 23], [Property: WorkingHour.StartTime (TimeSpan) Required, 24], [Property: WorkingHour.TenantId (Guid) Required, 25], [Property: WorkingHour.UpdatedAt (DateTime) Required, 26] }
                    3 -> 16
                SELECT c0.Id, c0.Address, c0.BookingEnabled, c0.CancellationWindowHours, c0.City, c0.ClinicName, c0.CreatedAt, c0.DeletedAt, c0.IsDeleted, c0.LogoUrl, c0.Phone, c0.SupportPhoneNumber, c0.SupportWhatsAppNumber, c0.TenantId, c0.UpdatedAt, c0.WhatsAppSenderNumber, w0.Id, w0.ClinicSettingsId, w0.CreatedAt, w0.DayOfWeek, w0.DeletedAt, w0.EndTime, w0.IsActive, w0.IsDeleted, w0.StartTime, w0.TenantId, w0.UpdatedAt
                FROM 
                (
                    SELECT TOP(1) c.Id, c.Address, c.BookingEnabled, c.CancellationWindowHours, c.City, c.ClinicName, c.CreatedAt, c.DeletedAt, c.IsDeleted, c.LogoUrl, c.Phone, c.SupportPhoneNumber, c.SupportWhatsAppNumber, c.TenantId, c.UpdatedAt, c.WhatsAppSenderNumber
                    FROM ClinicSettings AS c
                    WHERE Not(c.IsDeleted) && (c.TenantId == @__ef_filter__CurrentTenantId_0)
                ) AS c0
                LEFT JOIN 
                (
                    SELECT w.Id, w.ClinicSettingsId, w.CreatedAt, w.DayOfWeek, w.DeletedAt, w.EndTime, w.IsActive, w.IsDeleted, w.StartTime, w.TenantId, w.UpdatedAt
                    FROM WorkingHours AS w
                    WHERE (Not(w.IsDeleted) && (w.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(w.IsDeleted)
                ) AS w0 ON c0.Id == w0.ClinicSettingsId
                ORDER BY c0.Id ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                resultContext.Values == null ? 
                {
                    ClinicSettings entity;
                    entity = 
                    {
                        MaterializationContext materializationContext1;
                        IEntityType entityType1;
                        ClinicSettings instance1;
                        InternalEntityEntry entry1;
                        bool hasNullKey1;
                        materializationContext1 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance1 = default(ClinicSettings);
                        entry1 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: ClinicSettings.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ClinicSettings").FindPrimaryKey()], 
                            keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                            throwOnNullKey: True, 
                            hasNullKey: hasNullKey1);
                        !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                        {
                            entityType1 = entry1.EntityType;
                            return instance1 = (ClinicSettings)entry1.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot1;
                            shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType1 = [LIFTABLE Constant: EntityType: ClinicSettings | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ClinicSettings")];
                            instance1 = switch (entityType1)
                            {
                                case [LIFTABLE Constant: EntityType: ClinicSettings | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ClinicSettings")]: 
                                    {
                                        return 
                                        {
                                            ClinicSettings instance;
                                            instance = new ClinicSettings();
                                            instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                            instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                            instance.<BookingEnabled>k__BackingField = dataReader.GetBoolean(2);
                                            instance.<CancellationWindowHours>k__BackingField = dataReader.GetInt32(3);
                                            instance.<City>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                            instance.<ClinicName>k__BackingField = dataReader.GetString(5);
                                            instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(6);
                                            instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(7) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(7);
                                            instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(8);
                                            instance.<LogoUrl>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Phone>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                            instance.<SupportPhoneNumber>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                            instance.<SupportWhatsAppNumber>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                            instance.<TenantId>k__BackingField = dataReader.GetGuid(13);
                                            instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(14);
                                            instance.<WhatsAppSenderNumber>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext1.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: ClinicSettings | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ClinicSettings")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(ClinicSettings)
                            }
                            ;
                            entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType1, 
                                entity: instance1, 
                                snapshot: shadowSnapshot1);
                            return instance1;
                        } : default(void);
                        return instance1;
                    };
                    resultContext.Values = new object[]{ entity };
                    ShaperProcessingExpressionVisitor.InitializeIncludeCollection<ClinicSettings, ClinicSettings>(
                        collectionId: 0, 
                        queryContext: queryContext, 
                        dbDataReader: dataReader, 
                        resultCoordinator: resultCoordinator, 
                        entity: (ClinicSettings)(resultContext.Values[0]), 
                        parentIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                        outerIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                        navigation: [LIFTABLE Constant: Navigation: ClinicSettings.WorkingHours (ICollection<WorkingHour>) Collection ToDependent WorkingHour Inverse: ClinicSettings | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ClinicSettings").FindNavigation("WorkingHours")], 
                        clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<ClinicSettings, ICollection<WorkingHour>, WorkingHour> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ClinicSettings").FindNavigation("WorkingHours").GetCollectionAccessor()], 
                        trackingQuery: True, 
                        setLoaded: True);
                } : default(void);
                ShaperProcessingExpressionVisitor.PopulateIncludeCollection<ClinicSettings, WorkingHour>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                    outerIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                    selfIdentifier: (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(16) ? default(Guid?) : (Guid?)dataReader.GetGuid(16) }, 
                    parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                    {
                        WorkingHour entity;
                        entity = 
                        {
                            MaterializationContext materializationContext2;
                            IEntityType entityType2;
                            WorkingHour instance2;
                            InternalEntityEntry entry2;
                            bool hasNullKey2;
                            materializationContext2 = new MaterializationContext(
                                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                                queryContext.Context
                            );
                            instance2 = default(WorkingHour);
                            entry2 = queryContext.TryGetEntry(
                                key: [LIFTABLE Constant: Key: WorkingHour.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.WorkingHour").FindPrimaryKey()], 
                                keyValues: new object[]{ dataReader.IsDBNull(16) ? default(object) : (object)dataReader.GetGuid(16) }, 
                                throwOnNullKey: False, 
                                hasNullKey: hasNullKey2);
                            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                            {
                                entityType2 = entry2.EntityType;
                                return instance2 = (WorkingHour)entry2.Entity;
                            } : 
                            {
                                ISnapshot shadowSnapshot2;
                                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                                entityType2 = [LIFTABLE Constant: EntityType: WorkingHour | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.WorkingHour")];
                                instance2 = switch (entityType2)
                                {
                                    case [LIFTABLE Constant: EntityType: WorkingHour | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.WorkingHour")]: 
                                        {
                                            return 
                                            {
                                                WorkingHour instance;
                                                instance = new WorkingHour();
                                                instance.<Id>k__BackingField = dataReader.IsDBNull(16) ? default(Guid) : dataReader.GetGuid(16);
                                                instance.<ClinicSettingsId>k__BackingField = dataReader.IsDBNull(17) ? default(Guid) : dataReader.GetGuid(17);
                                                instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(18) ? default(DateTime) : dataReader.GetDateTime(18);
                                                instance.<DayOfWeek>k__BackingField = dataReader.IsDBNull(19) ? default(DayOfWeek) : Invoke(((EnumToNumberConverter<DayOfWeek, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: WorkingHour.DayOfWeek (DayOfWeek) Required | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.WorkingHour").FindProperty("DayOfWeek")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(19));
                                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(20) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(20);
                                                instance.<EndTime>k__BackingField = dataReader.IsDBNull(21) ? default(TimeSpan) : dataReader.GetFieldValue<TimeSpan>(21);
                                                instance.<IsActive>k__BackingField = dataReader.IsDBNull(22) ? default(bool) : dataReader.GetBoolean(22);
                                                instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(23) ? default(bool) : dataReader.GetBoolean(23);
                                                instance.<StartTime>k__BackingField = dataReader.IsDBNull(24) ? default(TimeSpan) : dataReader.GetFieldValue<TimeSpan>(24);
                                                instance.<TenantId>k__BackingField = dataReader.IsDBNull(25) ? default(Guid) : dataReader.GetGuid(25);
                                                instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(26) ? default(DateTime) : dataReader.GetDateTime(26);
                                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                    context: materializationContext2.Context, 
                                                    entity: instance, 
                                                    queryTrackingBehavior: TrackAll, 
                                                    structuralType: [LIFTABLE Constant: EntityType: WorkingHour | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.WorkingHour")]) : default(void);
                                                return instance;
                                            }}
                                    default: 
                                        default(WorkingHour)
                                }
                                ;
                                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                    entityType: entityType2, 
                                    entity: instance2, 
                                    snapshot: shadowSnapshot2);
                                return instance2;
                            } : default(void);
                            return instance2;
                        };
                        return entity;
                    }, 
                    inverseNavigation: [LIFTABLE Constant: Navigation: WorkingHour.ClinicSettings (ClinicSettings) ToPrincipal ClinicSettings Inverse: WorkingHours | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.WorkingHour").FindNavigation("ClinicSettings")], 
                    fixup: (namelessParameter{10}, namelessParameter{11}) => 
                    {
                        [LIFTABLE Constant: ClrICollectionAccessor<ClinicSettings, ICollection<WorkingHour>, WorkingHour> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ClinicSettings").FindNavigation("WorkingHours").GetCollectionAccessor()].Add(
                            entity: namelessParameter{10}, 
                            value: namelessParameter{11}, 
                            forMaterialization: True);
                        return namelessParameter{11}.<ClinicSettings>k__BackingField = namelessParameter{10};
                    }, 
                    trackingQuery: True);
                return IsTrue(resultCoordinator.ResultReady)
                 ? (ClinicSettings)(resultContext.Values[0]) : default(ClinicSettings);
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:23:48.236 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.237 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.237 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:48.238 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:48.238 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:48.239 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[Address], [c0].[BookingEnabled], [c0].[CancellationWindowHours], [c0].[City], [c0].[ClinicName], [c0].[CreatedAt], [c0].[DeletedAt], [c0].[IsDeleted], [c0].[LogoUrl], [c0].[Phone], [c0].[SupportPhoneNumber], [c0].[SupportWhatsAppNumber], [c0].[TenantId], [c0].[UpdatedAt], [c0].[WhatsAppSenderNumber], [w0].[Id], [w0].[ClinicSettingsId], [w0].[CreatedAt], [w0].[DayOfWeek], [w0].[DeletedAt], [w0].[EndTime], [w0].[IsActive], [w0].[IsDeleted], [w0].[StartTime], [w0].[TenantId], [w0].[UpdatedAt]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Address], [c].[BookingEnabled], [c].[CancellationWindowHours], [c].[City], [c].[ClinicName], [c].[CreatedAt], [c].[DeletedAt], [c].[IsDeleted], [c].[LogoUrl], [c].[Phone], [c].[SupportPhoneNumber], [c].[SupportWhatsAppNumber], [c].[TenantId], [c].[UpdatedAt], [c].[WhatsAppSenderNumber]
    FROM [ClinicSettings] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [c0]
LEFT JOIN (
    SELECT [w].[Id], [w].[ClinicSettingsId], [w].[CreatedAt], [w].[DayOfWeek], [w].[DeletedAt], [w].[EndTime], [w].[IsActive], [w].[IsDeleted], [w].[StartTime], [w].[TenantId], [w].[UpdatedAt]
    FROM [WorkingHours] AS [w]
    WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [w].[IsDeleted] = CAST(0 AS bit)
) AS [w0] ON [c0].[Id] = [w0].[ClinicSettingsId]
ORDER BY [c0].[Id]
2026-02-07 09:23:48.350 +02:00 [INF] Executed DbCommand (111ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[Address], [c0].[BookingEnabled], [c0].[CancellationWindowHours], [c0].[City], [c0].[ClinicName], [c0].[CreatedAt], [c0].[DeletedAt], [c0].[IsDeleted], [c0].[LogoUrl], [c0].[Phone], [c0].[SupportPhoneNumber], [c0].[SupportWhatsAppNumber], [c0].[TenantId], [c0].[UpdatedAt], [c0].[WhatsAppSenderNumber], [w0].[Id], [w0].[ClinicSettingsId], [w0].[CreatedAt], [w0].[DayOfWeek], [w0].[DeletedAt], [w0].[EndTime], [w0].[IsActive], [w0].[IsDeleted], [w0].[StartTime], [w0].[TenantId], [w0].[UpdatedAt]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Address], [c].[BookingEnabled], [c].[CancellationWindowHours], [c].[City], [c].[ClinicName], [c].[CreatedAt], [c].[DeletedAt], [c].[IsDeleted], [c].[LogoUrl], [c].[Phone], [c].[SupportPhoneNumber], [c].[SupportWhatsAppNumber], [c].[TenantId], [c].[UpdatedAt], [c].[WhatsAppSenderNumber]
    FROM [ClinicSettings] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [c0]
LEFT JOIN (
    SELECT [w].[Id], [w].[ClinicSettingsId], [w].[CreatedAt], [w].[DayOfWeek], [w].[DeletedAt], [w].[EndTime], [w].[IsActive], [w].[IsDeleted], [w].[StartTime], [w].[TenantId], [w].[UpdatedAt]
    FROM [WorkingHours] AS [w]
    WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [w].[IsDeleted] = CAST(0 AS bit)
) AS [w0] ON [c0].[Id] = [w0].[ClinicSettingsId]
ORDER BY [c0].[Id]
2026-02-07 09:23:48.355 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.356 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 3ms reading results.
2026-02-07 09:23:48.357 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.358 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:48.359 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:48.363 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:48.364 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:48.364 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:48.365 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:48.366 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.ClinicSettingsDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:48.367 +02:00 [INF] Executed action EliteClinic.Api.Controllers.ClinicSettingsController.UpdateSettings (EliteClinic.Api) in 795.9781ms
2026-02-07 09:23:48.368 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.UpdateSettings (EliteClinic.Api)'
2026-02-07 09:23:48.369 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:48.370 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:48.371 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.371 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:23:48.372 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5094/api/clinic/settings - 200 null application/json; charset=utf-8 975.4724ms
2026-02-07 09:23:48.380 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/settings - application/json null
2026-02-07 09:23:48.382 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/settings'
2026-02-07 09:23:48.384 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)' with route pattern 'api/clinic/settings' is valid for the request path '/api/clinic/settings'
2026-02-07 09:23:48.385 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)'
2026-02-07 09:23:48.386 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:48.387 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:48.389 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:48.390 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:48.390 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.391 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.391 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:48.392 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:48.392 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:48.393 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:48.519 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:48.521 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.521 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:48.522 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.523 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:48.524 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:48.524 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:48.525 +02:00 [DBG] Authorization was successful.
2026-02-07 09:23:48.525 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)'
2026-02-07 09:23:48.526 +02:00 [INF] Route matched with {action = "GetSettings", controller = "ClinicSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.ClinicSettingsDto]]] GetSettings() on controller EliteClinic.Api.Controllers.ClinicSettingsController (EliteClinic.Api).
2026-02-07 09:23:48.528 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:48.529 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:48.529 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:48.531 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:48.532 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:48.534 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.ClinicSettingsController (EliteClinic.Api)
2026-02-07 09:23:48.535 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.ClinicSettingsController (EliteClinic.Api)
2026-02-07 09:23:48.536 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.537 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.538 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:48.538 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:48.539 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:48.540 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[Address], [c0].[BookingEnabled], [c0].[CancellationWindowHours], [c0].[City], [c0].[ClinicName], [c0].[CreatedAt], [c0].[DeletedAt], [c0].[IsDeleted], [c0].[LogoUrl], [c0].[Phone], [c0].[SupportPhoneNumber], [c0].[SupportWhatsAppNumber], [c0].[TenantId], [c0].[UpdatedAt], [c0].[WhatsAppSenderNumber], [w0].[Id], [w0].[ClinicSettingsId], [w0].[CreatedAt], [w0].[DayOfWeek], [w0].[DeletedAt], [w0].[EndTime], [w0].[IsActive], [w0].[IsDeleted], [w0].[StartTime], [w0].[TenantId], [w0].[UpdatedAt]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Address], [c].[BookingEnabled], [c].[CancellationWindowHours], [c].[City], [c].[ClinicName], [c].[CreatedAt], [c].[DeletedAt], [c].[IsDeleted], [c].[LogoUrl], [c].[Phone], [c].[SupportPhoneNumber], [c].[SupportWhatsAppNumber], [c].[TenantId], [c].[UpdatedAt], [c].[WhatsAppSenderNumber]
    FROM [ClinicSettings] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [c0]
LEFT JOIN (
    SELECT [w].[Id], [w].[ClinicSettingsId], [w].[CreatedAt], [w].[DayOfWeek], [w].[DeletedAt], [w].[EndTime], [w].[IsActive], [w].[IsDeleted], [w].[StartTime], [w].[TenantId], [w].[UpdatedAt]
    FROM [WorkingHours] AS [w]
    WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [w].[IsDeleted] = CAST(0 AS bit)
) AS [w0] ON [c0].[Id] = [w0].[ClinicSettingsId]
ORDER BY [c0].[Id]
2026-02-07 09:23:48.659 +02:00 [INF] Executed DbCommand (119ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[Id], [c0].[Address], [c0].[BookingEnabled], [c0].[CancellationWindowHours], [c0].[City], [c0].[ClinicName], [c0].[CreatedAt], [c0].[DeletedAt], [c0].[IsDeleted], [c0].[LogoUrl], [c0].[Phone], [c0].[SupportPhoneNumber], [c0].[SupportWhatsAppNumber], [c0].[TenantId], [c0].[UpdatedAt], [c0].[WhatsAppSenderNumber], [w0].[Id], [w0].[ClinicSettingsId], [w0].[CreatedAt], [w0].[DayOfWeek], [w0].[DeletedAt], [w0].[EndTime], [w0].[IsActive], [w0].[IsDeleted], [w0].[StartTime], [w0].[TenantId], [w0].[UpdatedAt]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Address], [c].[BookingEnabled], [c].[CancellationWindowHours], [c].[City], [c].[ClinicName], [c].[CreatedAt], [c].[DeletedAt], [c].[IsDeleted], [c].[LogoUrl], [c].[Phone], [c].[SupportPhoneNumber], [c].[SupportWhatsAppNumber], [c].[TenantId], [c].[UpdatedAt], [c].[WhatsAppSenderNumber]
    FROM [ClinicSettings] AS [c]
    WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [c0]
LEFT JOIN (
    SELECT [w].[Id], [w].[ClinicSettingsId], [w].[CreatedAt], [w].[DayOfWeek], [w].[DeletedAt], [w].[EndTime], [w].[IsActive], [w].[IsDeleted], [w].[StartTime], [w].[TenantId], [w].[UpdatedAt]
    FROM [WorkingHours] AS [w]
    WHERE [w].[IsDeleted] = CAST(0 AS bit) AND [w].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [w].[IsDeleted] = CAST(0 AS bit)
) AS [w0] ON [c0].[Id] = [w0].[ClinicSettingsId]
ORDER BY [c0].[Id]
2026-02-07 09:23:48.661 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ClinicSettings' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:48.662 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'WorkingHour' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:48.663 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'WorkingHour' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:48.664 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.664 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 3ms reading results.
2026-02-07 09:23:48.665 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.666 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:48.666 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:48.668 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:48.668 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:48.668 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:48.669 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:48.670 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.ClinicSettingsDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:48.670 +02:00 [INF] Executed action EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api) in 136.8067ms
2026-02-07 09:23:48.672 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)'
2026-02-07 09:23:48.672 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:48.673 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:48.673 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.674 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:23:48.675 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/settings - 200 null application/json; charset=utf-8 295.1148ms
2026-02-07 09:23:48.683 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5094/api/clinic/settings - application/json 21
2026-02-07 09:23:48.684 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/settings'
2026-02-07 09:23:48.685 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.UpdateSettings (EliteClinic.Api)' with route pattern 'api/clinic/settings' is valid for the request path '/api/clinic/settings'
2026-02-07 09:23:48.686 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.UpdateSettings (EliteClinic.Api)'
2026-02-07 09:23:48.686 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:48.687 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:48.688 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:48.689 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:48.690 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.690 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.691 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:48.692 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:48.692 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:48.693 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:48.819 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:48.821 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.822 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:48.823 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.823 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:48.825 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:48.826 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:48.827 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ClinicOwner|SuperAdmin)
2026-02-07 09:23:48.835 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2026-02-07 09:23:48.837 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:48.838 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:48.839 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.840 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:23:48.840 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5094/api/clinic/settings - 403 0 null 157.844ms
2026-02-07 09:23:48.842 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000009": started reading request body.
2026-02-07 09:23:48.843 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000009": done reading request body.
2026-02-07 09:23:48.884 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/settings - application/json null
2026-02-07 09:23:48.885 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/settings'
2026-02-07 09:23:48.885 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)' with route pattern 'api/clinic/settings' is valid for the request path '/api/clinic/settings'
2026-02-07 09:23:48.886 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)'
2026-02-07 09:23:48.887 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:48.892 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:48.893 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/settings - 400 null application/json 9.1984ms
2026-02-07 09:23:48.896 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/clinic/staff - application/json 139
2026-02-07 09:23:48.897 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/staff'
2026-02-07 09:23:48.897 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.StaffController.CreateStaff (EliteClinic.Api)' with route pattern 'api/clinic/staff' is valid for the request path '/api/clinic/staff'
2026-02-07 09:23:48.898 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.StaffController.CreateStaff (EliteClinic.Api)'
2026-02-07 09:23:48.899 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:48.899 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:48.900 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:48.901 +02:00 [DBG] Created DbConnection. (1ms).
2026-02-07 09:23:48.902 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.903 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:48.904 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:48.904 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:48.905 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:48.906 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:49.029 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:49.031 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.032 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:49.033 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.034 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:49.035 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:49.035 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:49.036 +02:00 [DBG] Authorization was successful.
2026-02-07 09:23:49.037 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.StaffController.CreateStaff (EliteClinic.Api)'
2026-02-07 09:23:49.041 +02:00 [INF] Route matched with {action = "CreateStaff", controller = "Staff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.StaffDto]]] CreateStaff(EliteClinic.Application.Features.Clinic.DTOs.CreateStaffRequest) on controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api).
2026-02-07 09:23:49.043 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:49.044 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:49.045 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:49.046 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:49.047 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:49.050 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:23:49.052 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:23:49.053 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreateStaffRequest' ...
2026-02-07 09:23:49.055 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreateStaffRequest' using the name '' in request data ...
2026-02-07 09:23:49.056 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:23:49.062 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000000B": started reading request body.
2026-02-07 09:23:49.063 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000000B": done reading request body.
2026-02-07 09:23:49.067 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Clinic.DTOs.CreateStaffRequest'
2026-02-07 09:23:49.067 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreateStaffRequest'.
2026-02-07 09:23:49.069 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreateStaffRequest'.
2026-02-07 09:23:49.070 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreateStaffRequest' ...
2026-02-07 09:23:49.074 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreateStaffRequest'.
2026-02-07 09:23:49.077 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.078 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.078 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:49.079 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:49.079 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:49.080 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:49.210 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:49.211 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.212 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:49.212 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.213 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:49.284 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.285 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.286 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:49.286 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:49.287 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:49.287 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:49.400 +02:00 [INF] Executed DbCommand (112ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:49.402 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.403 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:49.404 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.405 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:49.408 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:49.408 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:49.409 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:49.409 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:49.410 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:49.410 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:49.411 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.411 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.412 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:49.412 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:49.413 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:49.413 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (DbType = Guid), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [DisplayName], [Email], [EmailConfirmed], [IsActive], [LastLoginAt], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiry], [SecurityStamp], [TenantId], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2026-02-07 09:23:49.539 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (DbType = Guid), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [DisplayName], [Email], [EmailConfirmed], [IsActive], [LastLoginAt], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiry], [SecurityStamp], [TenantId], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2026-02-07 09:23:49.541 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.542 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:49.543 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.543 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:49.544 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:49.545 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:23:49.551 +02:00 [DBG] Compiling query expression: 
'DbSet<ApplicationRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2026-02-07 09:23:49.556 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationRole>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApplicationRole>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationRole.ConcurrencyStamp (string) Concurrency, 1], [Property: ApplicationRole.Description (string), 2], [Property: ApplicationRole.Name (string) MaxLength(256), 3], [Property: ApplicationRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Description, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationRole.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationRole.ConcurrencyStamp (string) Concurrency, 1], [Property: ApplicationRole.Description (string), 2], [Property: ApplicationRole.Name (string) MaxLength(256), 3], [Property: ApplicationRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Description, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApplicationRole entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApplicationRole instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApplicationRole);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApplicationRole.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApplicationRole)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApplicationRole | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApplicationRole | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole")]: 
                            {
                                return 
                                {
                                    ApplicationRole instance;
                                    instance = new ApplicationRole();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<Description>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<Name>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<NormalizedName>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApplicationRole | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationRole")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApplicationRole)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:23:49.559 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.560 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.561 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:49.561 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:49.562 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:49.562 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:23:49.690 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:23:49.691 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:49.693 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.694 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:23:49.696 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.697 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:49.707 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __p_0) && object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __p_1))'
2026-02-07 09:23:49.711 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: SingleQueryingEnumerable.Create<IdentityUserRole<Guid>>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            IdentityUserRole<Guid> entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                IdentityUserRole<Guid> instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(IdentityUserRole<Guid>);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: IdentityUserRole<Guid>.UserId, IdentityUserRole<Guid>.RoleId PK | Resolver: c => c.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityUserRole<System.Guid>").FindPrimaryKey()], 
                    keyValues: new object[]
                    { 
                        (object)dataReader.GetGuid(0), 
                        (object)dataReader.GetGuid(1) 
                    }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (IdentityUserRole<Guid>)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: IdentityUserRole<Guid> | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityUserRole<System.Guid>")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: IdentityUserRole<Guid> | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityUserRole<System.Guid>")]: 
                            {
                                return 
                                {
                                    IdentityUserRole<Guid> instance;
                                    instance = new IdentityUserRole<Guid>();
                                    instance.<UserId>k__BackingField = dataReader.GetGuid(0);
                                    instance.<RoleId>k__BackingField = dataReader.GetGuid(1);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: IdentityUserRole<Guid> | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityUserRole<System.Guid>")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(IdentityUserRole<Guid>)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:23:49.716 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.717 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.718 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:49.718 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:49.719 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:49.721 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid), @__p_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2026-02-07 09:23:49.839 +02:00 [INF] Executed DbCommand (119ms) [Parameters=[@__p_0='?' (DbType = Guid), @__p_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2026-02-07 09:23:49.841 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.841 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:49.842 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.842 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:49.845 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.846 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.847 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:49.848 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:49.850 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:49.850 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:23:49.980 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:23:49.982 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.982 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:49.983 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.984 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:49.993 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:49.995 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.996 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:49.998 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:50.000 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:50.001 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2026-02-07 09:23:50.002 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:50.134 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:50.136 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:50.136 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:50.137 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:50.138 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:50.139 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:50.141 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:50.142 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:50.143 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:50.143 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:50.144 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:50.148 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:23:50.149 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:50.150 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:50.152 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:23:50.281 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:23:50.283 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:50.283 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:50.284 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:50.285 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p23='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p24='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Guid), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [DisplayName] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsActive] = @p8, [LastLoginAt] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiry] = @p18, [SecurityStamp] = @p19, [TenantId] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2026-02-07 09:23:50.409 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p23='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p24='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Guid), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [DisplayName] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsActive] = @p8, [LastLoginAt] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiry] = @p18, [SecurityStamp] = @p19, [TenantId] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2026-02-07 09:23:50.411 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:50.412 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:50.412 +02:00 [DBG] Committing transaction.
2026-02-07 09:23:50.540 +02:00 [DBG] Committed transaction.
2026-02-07 09:23:50.542 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:50.543 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:50.545 +02:00 [DBG] Disposing transaction.
2026-02-07 09:23:50.546 +02:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:50.547 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:50.550 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:23:50.582 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:50.585 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:50.586 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:50.592 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:50.598 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:50.599 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:50.600 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:50.601 +02:00 [DBG] The unchanged property 'Employee.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:50.603 +02:00 [DBG] The unchanged property 'Employee.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:50.604 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:50.606 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:23:50.606 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:50.608 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:50.608 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:23:50.729 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:23:50.730 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:50.731 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:50.733 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:50.735 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime2), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (Size = 200), @p21='?' (Size = 4000), @p22='?' (Size = 20), @p23='?' (Size = 50), @p24='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p25='?' (DbType = Guid), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Employees] ([Id], [CreatedAt], [DeletedAt], [HireDate], [IsDeleted], [IsEnabled], [Name], [Notes], [Phone], [Role], [Salary], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
2026-02-07 09:23:50.859 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime2), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (Size = 200), @p21='?' (Size = 4000), @p22='?' (Size = 20), @p23='?' (Size = 50), @p24='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p25='?' (DbType = Guid), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Employees] ([Id], [CreatedAt], [DeletedAt], [HireDate], [IsDeleted], [IsEnabled], [Name], [Notes], [Phone], [Role], [Salary], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
2026-02-07 09:23:50.862 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:50.863 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:50.864 +02:00 [DBG] Committing transaction.
2026-02-07 09:23:50.981 +02:00 [DBG] Committed transaction.
2026-02-07 09:23:50.982 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:50.983 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:50.985 +02:00 [DBG] Disposing transaction.
2026-02-07 09:23:50.987 +02:00 [DBG] An entity of type 'Employee' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:50.989 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:50.990 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:23:50.993 +02:00 [INF] Staff member created: Test Staff for tenant "3d8808ad-0e68-4e6a-8cfb-2a7333da8dbd"
2026-02-07 09:23:50.995 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:50.999 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:51.000 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:51.002 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:51.002 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:51.003 +02:00 [INF] Executing ObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.StaffDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:51.008 +02:00 [INF] Executed action EliteClinic.Api.Controllers.StaffController.CreateStaff (EliteClinic.Api) in 1958.2755ms
2026-02-07 09:23:51.009 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.StaffController.CreateStaff (EliteClinic.Api)'
2026-02-07 09:23:51.010 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:51.010 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:51.011 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.012 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:23:51.014 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/clinic/staff - 201 null application/json; charset=utf-8 2118.0451ms
2026-02-07 09:23:51.026 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/staff - application/json null
2026-02-07 09:23:51.027 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/staff'
2026-02-07 09:23:51.027 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.StaffController.GetAllStaff (EliteClinic.Api)' with route pattern 'api/clinic/staff' is valid for the request path '/api/clinic/staff'
2026-02-07 09:23:51.028 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.StaffController.GetAllStaff (EliteClinic.Api)'
2026-02-07 09:23:51.028 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:51.029 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:51.030 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:51.031 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:51.031 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.032 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.032 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:51.033 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:51.033 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:51.034 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:51.160 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:51.162 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.163 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:51.163 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.164 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:51.165 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:51.166 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:51.167 +02:00 [DBG] Authorization was successful.
2026-02-07 09:23:51.167 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.StaffController.GetAllStaff (EliteClinic.Api)'
2026-02-07 09:23:51.172 +02:00 [INF] Route matched with {action = "GetAllStaff", controller = "Staff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Common.Models.PagedResult`1[EliteClinic.Application.Features.Clinic.DTOs.StaffDto]]]] GetAllStaff(Int32, Int32) on controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api).
2026-02-07 09:23:51.173 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:51.174 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:51.175 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:51.175 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:51.176 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:51.177 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:23:51.178 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:23:51.178 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:23:51.179 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:23:51.180 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:23:51.181 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:23:51.182 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:23:51.183 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:23:51.183 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:23:51.184 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:23:51.186 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:23:51.187 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:23:51.188 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:23:51.189 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:23:51.189 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:23:51.190 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:23:51.193 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.User)
    .Where(e => e.TenantId == __tenantId_0)
    .Count()'
2026-02-07 09:23:51.205 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT COUNT(*)
                FROM Employees AS e
                WHERE (Not(e.IsDeleted) && (e.TenantId == @__ef_filter__CurrentTenantId_0)) && (e.TenantId == @__tenantId_0)) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT COUNT(*)
                FROM Employees AS e
                WHERE (Not(e.IsDeleted) && (e.TenantId == @__ef_filter__CurrentTenantId_0)) && (e.TenantId == @__tenantId_0), 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
                return (int)value1;
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:23:51.212 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.212 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.213 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:51.214 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:51.214 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:51.215 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[TenantId] = @__tenantId_0
2026-02-07 09:23:51.350 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[TenantId] = @__tenantId_0
2026-02-07 09:23:51.354 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.355 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:23:51.356 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.357 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:51.359 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.User)
    .Where(e => e.TenantId == __tenantId_0)
    .OrderByDescending(e => e.CreatedAt)
    .Skip(__p_1)
    .Take(__p_2)'
2026-02-07 09:23:51.361 +02:00 [DBG] Including navigation: 'Employee.User'.
2026-02-07 09:23:51.367 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return SingleQueryingEnumerable.Create<Employee>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.DeletedAt (DateTime?), 2], [Property: Employee.HireDate (DateTime?), 3], [Property: Employee.IsDeleted (bool) Required, 4], [Property: Employee.IsEnabled (bool) Required, 5], [Property: Employee.Name (string) Required MaxLength(200), 6], [Property: Employee.Notes (string), 7], [Property: Employee.Phone (string) MaxLength(20), 8], [Property: Employee.Role (string) Required MaxLength(50), 9], [Property: Employee.Salary (decimal?), 10], [Property: Employee.TenantId (Guid) Required, 11], [Property: Employee.UpdatedAt (DateTime) Required, 12], [Property: Employee.UserId (Guid) Required FK Index, 13] }
                1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 14], [Property: ApplicationUser.AccessFailedCount (int) Required, 15], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 16], [Property: ApplicationUser.CreatedAt (DateTime) Required, 17], [Property: ApplicationUser.DisplayName (string) Required, 18], [Property: ApplicationUser.Email (string) MaxLength(256), 19], [Property: ApplicationUser.EmailConfirmed (bool) Required, 20], [Property: ApplicationUser.IsActive (bool) Required, 21], [Property: ApplicationUser.LastLoginAt (DateTime?), 22], [Property: ApplicationUser.LockoutEnabled (bool) Required, 23], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 24], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 25], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 26], [Property: ApplicationUser.PasswordHash (string), 27], [Property: ApplicationUser.PhoneNumber (string), 28], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 29], [Property: ApplicationUser.RefreshToken (string), 30], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 31], [Property: ApplicationUser.SecurityStamp (string), 32], [Property: ApplicationUser.TenantId (Guid?) FK Index, 33], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 34], [Property: ApplicationUser.UserName (string) MaxLength(256), 35] }
            SELECT e0.Id, e0.CreatedAt, e0.DeletedAt, e0.HireDate, e0.IsDeleted, e0.IsEnabled, e0.Name, e0.Notes, e0.Phone, e0.Role, e0.Salary, e0.TenantId, e0.UpdatedAt, e0.UserId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM 
            (
                SELECT e.Id, e.CreatedAt, e.DeletedAt, e.HireDate, e.IsDeleted, e.IsEnabled, e.Name, e.Notes, e.Phone, e.Role, e.Salary, e.TenantId, e.UpdatedAt, e.UserId
                FROM Employees AS e
                WHERE (Not(e.IsDeleted) && (e.TenantId == @__ef_filter__CurrentTenantId_0)) && (e.TenantId == @__tenantId_0)
                ORDER BY e.CreatedAt DESC
                OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
            ) AS e0
            INNER JOIN AspNetUsers AS a ON e0.UserId == a.Id
            ORDER BY e0.CreatedAt DESC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.DeletedAt (DateTime?), 2], [Property: Employee.HireDate (DateTime?), 3], [Property: Employee.IsDeleted (bool) Required, 4], [Property: Employee.IsEnabled (bool) Required, 5], [Property: Employee.Name (string) Required MaxLength(200), 6], [Property: Employee.Notes (string), 7], [Property: Employee.Phone (string) MaxLength(20), 8], [Property: Employee.Role (string) Required MaxLength(50), 9], [Property: Employee.Salary (decimal?), 10], [Property: Employee.TenantId (Guid) Required, 11], [Property: Employee.UpdatedAt (DateTime) Required, 12], [Property: Employee.UserId (Guid) Required FK Index, 13] }
                1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 14], [Property: ApplicationUser.AccessFailedCount (int) Required, 15], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 16], [Property: ApplicationUser.CreatedAt (DateTime) Required, 17], [Property: ApplicationUser.DisplayName (string) Required, 18], [Property: ApplicationUser.Email (string) MaxLength(256), 19], [Property: ApplicationUser.EmailConfirmed (bool) Required, 20], [Property: ApplicationUser.IsActive (bool) Required, 21], [Property: ApplicationUser.LastLoginAt (DateTime?), 22], [Property: ApplicationUser.LockoutEnabled (bool) Required, 23], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 24], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 25], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 26], [Property: ApplicationUser.PasswordHash (string), 27], [Property: ApplicationUser.PhoneNumber (string), 28], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 29], [Property: ApplicationUser.RefreshToken (string), 30], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 31], [Property: ApplicationUser.SecurityStamp (string), 32], [Property: ApplicationUser.TenantId (Guid?) FK Index, 33], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 34], [Property: ApplicationUser.UserName (string) MaxLength(256), 35] }
            SELECT e0.Id, e0.CreatedAt, e0.DeletedAt, e0.HireDate, e0.IsDeleted, e0.IsEnabled, e0.Name, e0.Notes, e0.Phone, e0.Role, e0.Salary, e0.TenantId, e0.UpdatedAt, e0.UserId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM 
            (
                SELECT e.Id, e.CreatedAt, e.DeletedAt, e.HireDate, e.IsDeleted, e.IsEnabled, e.Name, e.Notes, e.Phone, e.Role, e.Salary, e.TenantId, e.UpdatedAt, e.UserId
                FROM Employees AS e
                WHERE (Not(e.IsDeleted) && (e.TenantId == @__ef_filter__CurrentTenantId_0)) && (e.TenantId == @__tenantId_0)
                ORDER BY e.CreatedAt DESC
                OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
            ) AS e0
            INNER JOIN AspNetUsers AS a ON e0.UserId == a.Id
            ORDER BY e0.CreatedAt DESC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Employee entity;
            ApplicationUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Employee instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Employee);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Employee.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Employee").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Employee)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Employee")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Employee")]: 
                            {
                                return 
                                {
                                    Employee instance;
                                    instance = new Employee();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
                                    instance.<HireDate>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(4);
                                    instance.<IsEnabled>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<Name>k__BackingField = dataReader.GetString(6);
                                    instance.<Notes>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<Role>k__BackingField = dataReader.GetString(9);
                                    instance.<Salary>k__BackingField = dataReader.IsDBNull(10) ? default(decimal?) : (decimal?)dataReader.GetDecimal(10);
                                    instance.<TenantId>k__BackingField = dataReader.GetGuid(11);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(12);
                                    instance.<UserId>k__BackingField = dataReader.GetGuid(13);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Employee")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Employee)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                ApplicationUser instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(ApplicationUser);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApplicationUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(14) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (ApplicationUser)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]: 
                            {
                                return 
                                {
                                    ApplicationUser instance;
                                    instance = new ApplicationUser();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(14);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(15);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(16) ? default(string) : dataReader.GetString(16);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(17);
                                    instance.<DisplayName>k__BackingField = dataReader.GetString(18);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(19) ? default(string) : dataReader.GetString(19);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(20);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(21);
                                    instance.<LastLoginAt>k__BackingField = dataReader.IsDBNull(22) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(22);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(23);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(24) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(24);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(25) ? default(string) : dataReader.GetString(25);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(28) ? default(string) : dataReader.GetString(28);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(29);
                                    instance.<RefreshToken>k__BackingField = dataReader.IsDBNull(30) ? default(string) : dataReader.GetString(30);
                                    instance.<RefreshTokenExpiry>k__BackingField = dataReader.IsDBNull(31) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(31);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(32) ? default(string) : dataReader.GetString(32);
                                    instance.<TenantId>k__BackingField = dataReader.IsDBNull(33) ? default(Guid?) : (Guid?)dataReader.GetGuid(33);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(34);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(35) ? default(string) : dataReader.GetString(35);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApplicationUser)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Employee, Employee, ApplicationUser>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Employee.User (ApplicationUser) ToPrincipal ApplicationUser | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Employee").FindNavigation("User")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{7}, namelessParameter{8}) => 
                {
                    return namelessParameter{7}.<User>k__BackingField = namelessParameter{8};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True);
}'
2026-02-07 09:23:51.379 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.380 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.381 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:51.382 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:51.382 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:51.383 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Id], [e0].[CreatedAt], [e0].[DeletedAt], [e0].[HireDate], [e0].[IsDeleted], [e0].[IsEnabled], [e0].[Name], [e0].[Notes], [e0].[Phone], [e0].[Role], [e0].[Salary], [e0].[TenantId], [e0].[UpdatedAt], [e0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT [e].[Id], [e].[CreatedAt], [e].[DeletedAt], [e].[HireDate], [e].[IsDeleted], [e].[IsEnabled], [e].[Name], [e].[Notes], [e].[Phone], [e].[Role], [e].[Salary], [e].[TenantId], [e].[UpdatedAt], [e].[UserId]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[TenantId] = @__tenantId_0
    ORDER BY [e].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [e0]
INNER JOIN [AspNetUsers] AS [a] ON [e0].[UserId] = [a].[Id]
ORDER BY [e0].[CreatedAt] DESC
2026-02-07 09:23:51.510 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Id], [e0].[CreatedAt], [e0].[DeletedAt], [e0].[HireDate], [e0].[IsDeleted], [e0].[IsEnabled], [e0].[Name], [e0].[Notes], [e0].[Phone], [e0].[Role], [e0].[Salary], [e0].[TenantId], [e0].[UpdatedAt], [e0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT [e].[Id], [e].[CreatedAt], [e].[DeletedAt], [e].[HireDate], [e].[IsDeleted], [e].[IsEnabled], [e].[Name], [e].[Notes], [e].[Phone], [e].[Role], [e].[Salary], [e].[TenantId], [e].[UpdatedAt], [e].[UserId]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[TenantId] = @__tenantId_0
    ORDER BY [e].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [e0]
INNER JOIN [AspNetUsers] AS [a] ON [e0].[UserId] = [a].[Id]
ORDER BY [e0].[CreatedAt] DESC
2026-02-07 09:23:51.513 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.515 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.516 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.517 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.518 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.519 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.520 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.520 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.521 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.522 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.523 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.524 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.525 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.525 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.526 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.527 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.528 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.529 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.530 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.530 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.531 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.532 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.533 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.534 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.536 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.537 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.538 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.539 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.539 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.540 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.541 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.542 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 30ms reading results.
2026-02-07 09:23:51.543 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.544 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:51.546 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:51.549 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:51.550 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:51.551 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:51.551 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:51.553 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Common.Models.PagedResult`1[[EliteClinic.Application.Features.Clinic.DTOs.StaffDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:51.556 +02:00 [INF] Executed action EliteClinic.Api.Controllers.StaffController.GetAllStaff (EliteClinic.Api) in 379.2383ms
2026-02-07 09:23:51.557 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.StaffController.GetAllStaff (EliteClinic.Api)'
2026-02-07 09:23:51.558 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:51.558 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:51.559 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.560 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:23:51.561 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/staff - 200 null application/json; charset=utf-8 535.3254ms
2026-02-07 09:23:51.570 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8 - application/json null
2026-02-07 09:23:51.571 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8'
2026-02-07 09:23:51.572 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.StaffController.GetStaffById (EliteClinic.Api)' with route pattern 'api/clinic/staff/{id:guid}' is valid for the request path '/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8'
2026-02-07 09:23:51.573 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.StaffController.GetStaffById (EliteClinic.Api)'
2026-02-07 09:23:51.573 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:51.575 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:51.577 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:51.577 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:51.578 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.579 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.579 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:51.580 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:51.581 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:51.581 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:51.700 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:51.703 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.704 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:51.705 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.706 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:51.708 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:51.708 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:51.709 +02:00 [DBG] Authorization was successful.
2026-02-07 09:23:51.709 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.StaffController.GetStaffById (EliteClinic.Api)'
2026-02-07 09:23:51.714 +02:00 [INF] Route matched with {action = "GetStaffById", controller = "Staff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.StaffDto]]] GetStaffById(System.Guid) on controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api).
2026-02-07 09:23:51.715 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:51.716 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:51.716 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:51.717 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:51.718 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:51.719 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:23:51.721 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:23:51.722 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:23:51.723 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:23:51.724 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:51.724 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:51.725 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:23:51.726 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:51.729 +02:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Include(e => e.User)
    .FirstOrDefault(e => e.Id == __id_0 && e.TenantId == __tenantId_1)'
2026-02-07 09:23:51.731 +02:00 [DBG] Including navigation: 'Employee.User'.
2026-02-07 09:23:51.736 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Employee>(
        asyncEnumerable: SingleQueryingEnumerable.Create<Employee>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.DeletedAt (DateTime?), 2], [Property: Employee.HireDate (DateTime?), 3], [Property: Employee.IsDeleted (bool) Required, 4], [Property: Employee.IsEnabled (bool) Required, 5], [Property: Employee.Name (string) Required MaxLength(200), 6], [Property: Employee.Notes (string), 7], [Property: Employee.Phone (string) MaxLength(20), 8], [Property: Employee.Role (string) Required MaxLength(50), 9], [Property: Employee.Salary (decimal?), 10], [Property: Employee.TenantId (Guid) Required, 11], [Property: Employee.UpdatedAt (DateTime) Required, 12], [Property: Employee.UserId (Guid) Required FK Index, 13] }
                    1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 14], [Property: ApplicationUser.AccessFailedCount (int) Required, 15], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 16], [Property: ApplicationUser.CreatedAt (DateTime) Required, 17], [Property: ApplicationUser.DisplayName (string) Required, 18], [Property: ApplicationUser.Email (string) MaxLength(256), 19], [Property: ApplicationUser.EmailConfirmed (bool) Required, 20], [Property: ApplicationUser.IsActive (bool) Required, 21], [Property: ApplicationUser.LastLoginAt (DateTime?), 22], [Property: ApplicationUser.LockoutEnabled (bool) Required, 23], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 24], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 25], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 26], [Property: ApplicationUser.PasswordHash (string), 27], [Property: ApplicationUser.PhoneNumber (string), 28], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 29], [Property: ApplicationUser.RefreshToken (string), 30], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 31], [Property: ApplicationUser.SecurityStamp (string), 32], [Property: ApplicationUser.TenantId (Guid?) FK Index, 33], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 34], [Property: ApplicationUser.UserName (string) MaxLength(256), 35] }
                SELECT TOP(1) e.Id, e.CreatedAt, e.DeletedAt, e.HireDate, e.IsDeleted, e.IsEnabled, e.Name, e.Notes, e.Phone, e.Role, e.Salary, e.TenantId, e.UpdatedAt, e.UserId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
                FROM Employees AS e
                INNER JOIN AspNetUsers AS a ON e.UserId == a.Id
                WHERE (Not(e.IsDeleted) && (e.TenantId == @__ef_filter__CurrentTenantId_0)) && ((e.Id == @__id_0) && (e.TenantId == @__tenantId_1))) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.CreatedAt (DateTime) Required, 1], [Property: Employee.DeletedAt (DateTime?), 2], [Property: Employee.HireDate (DateTime?), 3], [Property: Employee.IsDeleted (bool) Required, 4], [Property: Employee.IsEnabled (bool) Required, 5], [Property: Employee.Name (string) Required MaxLength(200), 6], [Property: Employee.Notes (string), 7], [Property: Employee.Phone (string) MaxLength(20), 8], [Property: Employee.Role (string) Required MaxLength(50), 9], [Property: Employee.Salary (decimal?), 10], [Property: Employee.TenantId (Guid) Required, 11], [Property: Employee.UpdatedAt (DateTime) Required, 12], [Property: Employee.UserId (Guid) Required FK Index, 13] }
                    1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 14], [Property: ApplicationUser.AccessFailedCount (int) Required, 15], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 16], [Property: ApplicationUser.CreatedAt (DateTime) Required, 17], [Property: ApplicationUser.DisplayName (string) Required, 18], [Property: ApplicationUser.Email (string) MaxLength(256), 19], [Property: ApplicationUser.EmailConfirmed (bool) Required, 20], [Property: ApplicationUser.IsActive (bool) Required, 21], [Property: ApplicationUser.LastLoginAt (DateTime?), 22], [Property: ApplicationUser.LockoutEnabled (bool) Required, 23], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 24], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 25], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 26], [Property: ApplicationUser.PasswordHash (string), 27], [Property: ApplicationUser.PhoneNumber (string), 28], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 29], [Property: ApplicationUser.RefreshToken (string), 30], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 31], [Property: ApplicationUser.SecurityStamp (string), 32], [Property: ApplicationUser.TenantId (Guid?) FK Index, 33], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 34], [Property: ApplicationUser.UserName (string) MaxLength(256), 35] }
                SELECT TOP(1) e.Id, e.CreatedAt, e.DeletedAt, e.HireDate, e.IsDeleted, e.IsEnabled, e.Name, e.Notes, e.Phone, e.Role, e.Salary, e.TenantId, e.UpdatedAt, e.UserId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
                FROM Employees AS e
                INNER JOIN AspNetUsers AS a ON e.UserId == a.Id
                WHERE (Not(e.IsDeleted) && (e.TenantId == @__ef_filter__CurrentTenantId_0)) && ((e.Id == @__id_0) && (e.TenantId == @__tenantId_1)), 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Employee entity;
                ApplicationUser entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Employee instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Employee);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Employee.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Employee").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Employee)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Employee")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Employee")]: 
                                {
                                    return 
                                    {
                                        Employee instance;
                                        instance = new Employee();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                        instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(2) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(2);
                                        instance.<HireDate>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                        instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(4);
                                        instance.<IsEnabled>k__BackingField = dataReader.GetBoolean(5);
                                        instance.<Name>k__BackingField = dataReader.GetString(6);
                                        instance.<Notes>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                        instance.<Phone>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<Role>k__BackingField = dataReader.GetString(9);
                                        instance.<Salary>k__BackingField = dataReader.IsDBNull(10) ? default(decimal?) : (decimal?)dataReader.GetDecimal(10);
                                        instance.<TenantId>k__BackingField = dataReader.GetGuid(11);
                                        instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(12);
                                        instance.<UserId>k__BackingField = dataReader.GetGuid(13);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Employee")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Employee)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    ApplicationUser instance2;
                    InternalEntityEntry entry2;
                    bool hasNullKey2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(ApplicationUser);
                    entry2 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: ApplicationUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(14) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey2);
                    !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                    {
                        entityType2 = entry2.EntityType;
                        return instance2 = (ApplicationUser)entry2.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]: 
                                {
                                    return 
                                    {
                                        ApplicationUser instance;
                                        instance = new ApplicationUser();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(14);
                                        instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(15);
                                        instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(16) ? default(string) : dataReader.GetString(16);
                                        instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(17);
                                        instance.<DisplayName>k__BackingField = dataReader.GetString(18);
                                        instance.<Email>k__BackingField = dataReader.IsDBNull(19) ? default(string) : dataReader.GetString(19);
                                        instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(20);
                                        instance.<IsActive>k__BackingField = dataReader.GetBoolean(21);
                                        instance.<LastLoginAt>k__BackingField = dataReader.IsDBNull(22) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(22);
                                        instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(23);
                                        instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(24) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(24);
                                        instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(25) ? default(string) : dataReader.GetString(25);
                                        instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                        instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                        instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(28) ? default(string) : dataReader.GetString(28);
                                        instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(29);
                                        instance.<RefreshToken>k__BackingField = dataReader.IsDBNull(30) ? default(string) : dataReader.GetString(30);
                                        instance.<RefreshTokenExpiry>k__BackingField = dataReader.IsDBNull(31) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(31);
                                        instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(32) ? default(string) : dataReader.GetString(32);
                                        instance.<TenantId>k__BackingField = dataReader.IsDBNull(33) ? default(Guid?) : (Guid?)dataReader.GetGuid(33);
                                        instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(34);
                                        instance.<UserName>k__BackingField = dataReader.IsDBNull(35) ? default(string) : dataReader.GetString(35);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ApplicationUser)
                        }
                        ;
                        entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType2, 
                            entity: instance2, 
                            snapshot: shadowSnapshot2);
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                ShaperProcessingExpressionVisitor.IncludeReference<Employee, Employee, ApplicationUser>(
                    queryContext: queryContext, 
                    entity: entity, 
                    relatedEntity: entity, 
                    navigation: [LIFTABLE Constant: Navigation: Employee.User (ApplicationUser) ToPrincipal ApplicationUser | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Employee").FindNavigation("User")], 
                    inverseNavigation: default(INavigation), 
                    fixup: (namelessParameter{7}, namelessParameter{8}) => 
                    {
                        return namelessParameter{7}.<User>k__BackingField = namelessParameter{8};
                    }, 
                    trackingQuery: True);
                return entity;
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:23:51.750 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.751 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.752 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:51.753 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:51.754 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:51.754 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DeletedAt], [e].[HireDate], [e].[IsDeleted], [e].[IsEnabled], [e].[Name], [e].[Notes], [e].[Phone], [e].[Role], [e].[Salary], [e].[TenantId], [e].[UpdatedAt], [e].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Employees] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[UserId] = [a].[Id]
WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[Id] = @__id_0 AND [e].[TenantId] = @__tenantId_1
2026-02-07 09:23:51.899 +02:00 [INF] Executed DbCommand (145ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DeletedAt], [e].[HireDate], [e].[IsDeleted], [e].[IsEnabled], [e].[Name], [e].[Notes], [e].[Phone], [e].[Role], [e].[Salary], [e].[TenantId], [e].[UpdatedAt], [e].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Employees] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[UserId] = [a].[Id]
WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[Id] = @__id_0 AND [e].[TenantId] = @__tenantId_1
2026-02-07 09:23:51.903 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.904 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.904 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:51.906 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.906 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 3ms reading results.
2026-02-07 09:23:51.907 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.908 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:51.910 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:51.912 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:51.913 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:51.913 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:51.914 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:51.915 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.StaffDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:51.916 +02:00 [INF] Executed action EliteClinic.Api.Controllers.StaffController.GetStaffById (EliteClinic.Api) in 197.1004ms
2026-02-07 09:23:51.917 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.StaffController.GetStaffById (EliteClinic.Api)'
2026-02-07 09:23:51.918 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:51.919 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:51.919 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.920 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:23:51.921 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8 - 200 null application/json; charset=utf-8 350.7989ms
2026-02-07 09:23:51.927 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5094/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8 - application/json 67
2026-02-07 09:23:51.929 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8'
2026-02-07 09:23:51.930 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.StaffController.UpdateStaff (EliteClinic.Api)' with route pattern 'api/clinic/staff/{id:guid}' is valid for the request path '/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8'
2026-02-07 09:23:51.931 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.StaffController.UpdateStaff (EliteClinic.Api)'
2026-02-07 09:23:51.931 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:51.933 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:51.934 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:51.935 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:51.935 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.936 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:51.937 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:51.937 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:51.938 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:51.939 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:52.060 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:52.062 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.063 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:52.064 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.065 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:52.067 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:52.067 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:52.068 +02:00 [DBG] Authorization was successful.
2026-02-07 09:23:52.069 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.StaffController.UpdateStaff (EliteClinic.Api)'
2026-02-07 09:23:52.072 +02:00 [INF] Route matched with {action = "UpdateStaff", controller = "Staff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.StaffDto]]] UpdateStaff(System.Guid, EliteClinic.Application.Features.Clinic.DTOs.UpdateStaffRequest) on controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api).
2026-02-07 09:23:52.075 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:52.076 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:52.078 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:52.079 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:52.080 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:52.082 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:23:52.083 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:23:52.084 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:23:52.085 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:23:52.086 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:52.087 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:52.087 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:23:52.089 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:52.090 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateStaffRequest' ...
2026-02-07 09:23:52.090 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateStaffRequest' using the name '' in request data ...
2026-02-07 09:23:52.091 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:23:52.093 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000000E": started reading request body.
2026-02-07 09:23:52.093 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000000E": done reading request body.
2026-02-07 09:23:52.095 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateStaffRequest'
2026-02-07 09:23:52.095 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateStaffRequest'.
2026-02-07 09:23:52.096 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateStaffRequest'.
2026-02-07 09:23:52.097 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateStaffRequest' ...
2026-02-07 09:23:52.100 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateStaffRequest'.
2026-02-07 09:23:52.104 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.104 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.106 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:52.107 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:52.108 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:52.109 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DeletedAt], [e].[HireDate], [e].[IsDeleted], [e].[IsEnabled], [e].[Name], [e].[Notes], [e].[Phone], [e].[Role], [e].[Salary], [e].[TenantId], [e].[UpdatedAt], [e].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Employees] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[UserId] = [a].[Id]
WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[Id] = @__id_0 AND [e].[TenantId] = @__tenantId_1
2026-02-07 09:23:52.239 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DeletedAt], [e].[HireDate], [e].[IsDeleted], [e].[IsEnabled], [e].[Name], [e].[Notes], [e].[Phone], [e].[Role], [e].[Salary], [e].[TenantId], [e].[UpdatedAt], [e].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Employees] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[UserId] = [a].[Id]
WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[Id] = @__id_0 AND [e].[TenantId] = @__tenantId_1
2026-02-07 09:23:52.241 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:52.243 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:52.244 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:52.245 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.246 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 5ms reading results.
2026-02-07 09:23:52.249 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.250 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:52.252 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.252 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.253 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:52.254 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:52.254 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:52.255 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:52.373 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:52.374 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.375 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:52.375 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.376 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:52.376 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:52.378 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:52.378 +02:00 [DBG] The unchanged property 'Employee.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:52.379 +02:00 [DBG] An entity of type 'Employee' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:52.380 +02:00 [DBG] The unchanged property 'Employee.Phone' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:52.380 +02:00 [DBG] The unchanged property 'Employee.Salary' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:52.381 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:52.381 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:52.382 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:52.383 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:52.383 +02:00 [DBG] The unchanged property 'Employee.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:52.384 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:52.387 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:23:52.387 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.388 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.389 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:23:52.509 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:23:52.511 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:52.512 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:52.513 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:52.515 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p41='?' (DbType = Guid), @p37='?' (Size = 200), @p38='?' (Size = 20), @p39='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p40='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
UPDATE [Employees] SET [Name] = @p37, [Phone] = @p38, [Salary] = @p39, [UpdatedAt] = @p40
OUTPUT 1
WHERE [Id] = @p41;
2026-02-07 09:23:52.639 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p41='?' (DbType = Guid), @p37='?' (Size = 200), @p38='?' (Size = 20), @p39='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p40='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
UPDATE [Employees] SET [Name] = @p37, [Phone] = @p38, [Salary] = @p39, [UpdatedAt] = @p40
OUTPUT 1
WHERE [Id] = @p41;
2026-02-07 09:23:52.641 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.642 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:52.643 +02:00 [DBG] Committing transaction.
2026-02-07 09:23:52.759 +02:00 [DBG] Committed transaction.
2026-02-07 09:23:52.760 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.761 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:52.761 +02:00 [DBG] Disposing transaction.
2026-02-07 09:23:52.762 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:52.764 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:52.766 +02:00 [DBG] An entity of type 'Employee' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:52.768 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:23:52.768 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:52.769 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:52.770 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:52.770 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:52.771 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:52.772 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 0 entities written to the database.
2026-02-07 09:23:52.772 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:52.773 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:52.774 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:52.774 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:52.775 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:52.775 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.StaffDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:52.776 +02:00 [INF] Executed action EliteClinic.Api.Controllers.StaffController.UpdateStaff (EliteClinic.Api) in 694.5874ms
2026-02-07 09:23:52.777 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.StaffController.UpdateStaff (EliteClinic.Api)'
2026-02-07 09:23:52.778 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:52.778 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:52.779 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.780 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:23:52.780 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5094/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8 - 200 null application/json; charset=utf-8 852.9404ms
2026-02-07 09:23:52.786 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8/disable - application/json 0
2026-02-07 09:23:52.788 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8/disable'
2026-02-07 09:23:52.789 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.StaffController.DisableStaff (EliteClinic.Api)' with route pattern 'api/clinic/staff/{id:guid}/disable' is valid for the request path '/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8/disable'
2026-02-07 09:23:52.790 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.StaffController.DisableStaff (EliteClinic.Api)'
2026-02-07 09:23:52.791 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:52.792 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:52.794 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:52.794 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:52.795 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.796 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.797 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:52.798 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:52.799 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:52.800 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:52.931 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:52.934 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.934 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:52.935 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.936 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:52.937 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:52.937 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:52.938 +02:00 [DBG] Authorization was successful.
2026-02-07 09:23:52.939 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.StaffController.DisableStaff (EliteClinic.Api)'
2026-02-07 09:23:52.943 +02:00 [INF] Route matched with {action = "DisableStaff", controller = "Staff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.StaffDto]]] DisableStaff(System.Guid) on controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api).
2026-02-07 09:23:52.944 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:52.946 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:52.947 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:52.949 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:52.950 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:52.951 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:23:52.953 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:23:52.954 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:23:52.955 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:23:52.956 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:52.957 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:52.958 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:23:52.958 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:52.960 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.961 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:52.962 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:52.962 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:52.963 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:52.964 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DeletedAt], [e].[HireDate], [e].[IsDeleted], [e].[IsEnabled], [e].[Name], [e].[Notes], [e].[Phone], [e].[Role], [e].[Salary], [e].[TenantId], [e].[UpdatedAt], [e].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Employees] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[UserId] = [a].[Id]
WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[Id] = @__id_0 AND [e].[TenantId] = @__tenantId_1
2026-02-07 09:23:53.090 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DeletedAt], [e].[HireDate], [e].[IsDeleted], [e].[IsEnabled], [e].[Name], [e].[Notes], [e].[Phone], [e].[Role], [e].[Salary], [e].[TenantId], [e].[UpdatedAt], [e].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Employees] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[UserId] = [a].[Id]
WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[Id] = @__id_0 AND [e].[TenantId] = @__tenantId_1
2026-02-07 09:23:53.092 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:53.092 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:53.093 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:53.094 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.095 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 3ms reading results.
2026-02-07 09:23:53.097 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.097 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:53.099 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.100 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.101 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:53.101 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:53.102 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:53.103 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:53.230 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:53.232 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.233 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:53.235 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.237 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (2ms).
2026-02-07 09:23:53.238 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:53.239 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:53.239 +02:00 [DBG] The unchanged property 'Employee.IsEnabled' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:53.240 +02:00 [DBG] An entity of type 'Employee' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:53.241 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:53.242 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:53.244 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:53.245 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:53.246 +02:00 [DBG] The unchanged property 'Employee.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:53.247 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:53.251 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:23:53.252 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.252 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.253 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:23:53.379 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:23:53.380 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:53.381 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:53.383 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:53.384 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p39='?' (DbType = Guid), @p37='?' (DbType = Boolean), @p38='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
UPDATE [Employees] SET [IsEnabled] = @p37, [UpdatedAt] = @p38
OUTPUT 1
WHERE [Id] = @p39;
2026-02-07 09:23:53.522 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p39='?' (DbType = Guid), @p37='?' (DbType = Boolean), @p38='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
UPDATE [Employees] SET [IsEnabled] = @p37, [UpdatedAt] = @p38
OUTPUT 1
WHERE [Id] = @p39;
2026-02-07 09:23:53.524 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.524 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:53.525 +02:00 [DBG] Committing transaction.
2026-02-07 09:23:53.649 +02:00 [DBG] Committed transaction.
2026-02-07 09:23:53.651 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.652 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:53.654 +02:00 [DBG] Disposing transaction.
2026-02-07 09:23:53.654 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:53.655 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:53.656 +02:00 [DBG] An entity of type 'Employee' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:53.658 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:23:53.659 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:53.660 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:53.660 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:53.661 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:53.662 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:53.663 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 0 entities written to the database.
2026-02-07 09:23:53.664 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:53.665 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:53.665 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:53.666 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:53.666 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:53.667 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.StaffDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:53.668 +02:00 [INF] Executed action EliteClinic.Api.Controllers.StaffController.DisableStaff (EliteClinic.Api) in 716.3913ms
2026-02-07 09:23:53.669 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.StaffController.DisableStaff (EliteClinic.Api)'
2026-02-07 09:23:53.669 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:53.670 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:53.671 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.672 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:23:53.673 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8/disable - 200 null application/json; charset=utf-8 886.8028ms
2026-02-07 09:23:53.679 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8/enable - application/json 0
2026-02-07 09:23:53.681 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8/enable'
2026-02-07 09:23:53.683 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.StaffController.EnableStaff (EliteClinic.Api)' with route pattern 'api/clinic/staff/{id:guid}/enable' is valid for the request path '/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8/enable'
2026-02-07 09:23:53.684 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.StaffController.EnableStaff (EliteClinic.Api)'
2026-02-07 09:23:53.685 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:53.686 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:53.688 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:53.689 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:53.689 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.690 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.691 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:53.692 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:53.693 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:53.694 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:53.819 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:53.821 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.822 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:53.822 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.823 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:53.824 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:53.825 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:53.827 +02:00 [DBG] Authorization was successful.
2026-02-07 09:23:53.827 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.StaffController.EnableStaff (EliteClinic.Api)'
2026-02-07 09:23:53.833 +02:00 [INF] Route matched with {action = "EnableStaff", controller = "Staff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.StaffDto]]] EnableStaff(System.Guid) on controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api).
2026-02-07 09:23:53.834 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:53.835 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:53.836 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:53.837 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:53.838 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:53.839 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:23:53.840 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:23:53.840 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:23:53.841 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:23:53.842 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:53.843 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:53.843 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:23:53.844 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:53.847 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.849 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.850 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:53.851 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:53.851 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:53.852 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DeletedAt], [e].[HireDate], [e].[IsDeleted], [e].[IsEnabled], [e].[Name], [e].[Notes], [e].[Phone], [e].[Role], [e].[Salary], [e].[TenantId], [e].[UpdatedAt], [e].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Employees] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[UserId] = [a].[Id]
WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[Id] = @__id_0 AND [e].[TenantId] = @__tenantId_1
2026-02-07 09:23:53.970 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatedAt], [e].[DeletedAt], [e].[HireDate], [e].[IsDeleted], [e].[IsEnabled], [e].[Name], [e].[Notes], [e].[Phone], [e].[Role], [e].[Salary], [e].[TenantId], [e].[UpdatedAt], [e].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Employees] AS [e]
INNER JOIN [AspNetUsers] AS [a] ON [e].[UserId] = [a].[Id]
WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[Id] = @__id_0 AND [e].[TenantId] = @__tenantId_1
2026-02-07 09:23:53.972 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:53.972 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:53.973 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:53.974 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.974 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:23:53.975 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.976 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:53.977 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.978 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:53.979 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:53.980 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:53.981 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:53.982 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:54.100 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:54.102 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.105 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:23:54.107 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.110 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (2ms).
2026-02-07 09:23:54.113 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:54.116 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:54.118 +02:00 [DBG] The unchanged property 'Employee.IsEnabled' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:54.121 +02:00 [DBG] An entity of type 'Employee' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:54.123 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:54.124 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:54.125 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:54.126 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:54.127 +02:00 [DBG] The unchanged property 'Employee.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:54.128 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:54.129 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:23:54.131 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.132 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.134 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:23:54.260 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:23:54.260 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:54.261 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:54.262 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:54.263 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p39='?' (DbType = Guid), @p37='?' (DbType = Boolean), @p38='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
UPDATE [Employees] SET [IsEnabled] = @p37, [UpdatedAt] = @p38
OUTPUT 1
WHERE [Id] = @p39;
2026-02-07 09:23:54.401 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p39='?' (DbType = Guid), @p37='?' (DbType = Boolean), @p38='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
UPDATE [Employees] SET [IsEnabled] = @p37, [UpdatedAt] = @p38
OUTPUT 1
WHERE [Id] = @p39;
2026-02-07 09:23:54.406 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.407 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:54.409 +02:00 [DBG] Committing transaction.
2026-02-07 09:23:54.539 +02:00 [DBG] Committed transaction.
2026-02-07 09:23:54.541 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.542 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:54.543 +02:00 [DBG] Disposing transaction.
2026-02-07 09:23:54.544 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:54.545 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:54.548 +02:00 [DBG] An entity of type 'Employee' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:54.550 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:23:54.552 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:54.553 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:54.554 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:54.556 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:54.557 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:54.557 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 0 entities written to the database.
2026-02-07 09:23:54.558 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:54.559 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:54.560 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:54.560 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:54.561 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:54.562 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.StaffDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:54.563 +02:00 [INF] Executed action EliteClinic.Api.Controllers.StaffController.EnableStaff (EliteClinic.Api) in 723.8548ms
2026-02-07 09:23:54.564 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.StaffController.EnableStaff (EliteClinic.Api)'
2026-02-07 09:23:54.564 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:54.565 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:54.566 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.567 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:23:54.569 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/clinic/staff/d38c24c4-3d95-4c28-8ae1-b2ea5b4c02e8/enable - 200 null application/json; charset=utf-8 889.2575ms
2026-02-07 09:23:54.576 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/staff - application/json null
2026-02-07 09:23:54.579 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/staff'
2026-02-07 09:23:54.580 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.StaffController.GetAllStaff (EliteClinic.Api)' with route pattern 'api/clinic/staff' is valid for the request path '/api/clinic/staff'
2026-02-07 09:23:54.582 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.StaffController.GetAllStaff (EliteClinic.Api)'
2026-02-07 09:23:54.583 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:54.584 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:54.585 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:54.586 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:54.587 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.594 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.595 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:54.597 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:54.598 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:54.599 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:54.742 +02:00 [INF] Executed DbCommand (143ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:54.745 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.746 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:54.747 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.747 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:54.750 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:54.750 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:54.751 +02:00 [DBG] Authorization was successful.
2026-02-07 09:23:54.751 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.StaffController.GetAllStaff (EliteClinic.Api)'
2026-02-07 09:23:54.752 +02:00 [INF] Route matched with {action = "GetAllStaff", controller = "Staff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Common.Models.PagedResult`1[EliteClinic.Application.Features.Clinic.DTOs.StaffDto]]]] GetAllStaff(Int32, Int32) on controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api).
2026-02-07 09:23:54.753 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:54.753 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:54.754 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:54.755 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:54.756 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:54.757 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:23:54.757 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:23:54.758 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:23:54.758 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:23:54.759 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:23:54.760 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:23:54.760 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:23:54.761 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:23:54.762 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:23:54.762 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:23:54.763 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:23:54.764 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:23:54.764 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:23:54.765 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:23:54.765 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:23:54.766 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:23:54.767 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.768 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.769 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:54.769 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:54.770 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:54.770 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[TenantId] = @__tenantId_0
2026-02-07 09:23:54.904 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[TenantId] = @__tenantId_0
2026-02-07 09:23:54.906 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.907 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:54.908 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.909 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:54.912 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.913 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:54.914 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:54.915 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:54.917 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:54.918 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Id], [e0].[CreatedAt], [e0].[DeletedAt], [e0].[HireDate], [e0].[IsDeleted], [e0].[IsEnabled], [e0].[Name], [e0].[Notes], [e0].[Phone], [e0].[Role], [e0].[Salary], [e0].[TenantId], [e0].[UpdatedAt], [e0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT [e].[Id], [e].[CreatedAt], [e].[DeletedAt], [e].[HireDate], [e].[IsDeleted], [e].[IsEnabled], [e].[Name], [e].[Notes], [e].[Phone], [e].[Role], [e].[Salary], [e].[TenantId], [e].[UpdatedAt], [e].[UserId]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[TenantId] = @__tenantId_0
    ORDER BY [e].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [e0]
INNER JOIN [AspNetUsers] AS [a] ON [e0].[UserId] = [a].[Id]
ORDER BY [e0].[CreatedAt] DESC
2026-02-07 09:23:55.031 +02:00 [INF] Executed DbCommand (113ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Id], [e0].[CreatedAt], [e0].[DeletedAt], [e0].[HireDate], [e0].[IsDeleted], [e0].[IsEnabled], [e0].[Name], [e0].[Notes], [e0].[Phone], [e0].[Role], [e0].[Salary], [e0].[TenantId], [e0].[UpdatedAt], [e0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT [e].[Id], [e].[CreatedAt], [e].[DeletedAt], [e].[HireDate], [e].[IsDeleted], [e].[IsEnabled], [e].[Name], [e].[Notes], [e].[Phone], [e].[Role], [e].[Salary], [e].[TenantId], [e].[UpdatedAt], [e].[UserId]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[TenantId] = @__tenantId_0
    ORDER BY [e].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [e0]
INNER JOIN [AspNetUsers] AS [a] ON [e0].[UserId] = [a].[Id]
ORDER BY [e0].[CreatedAt] DESC
2026-02-07 09:23:55.033 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.034 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.035 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.036 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.037 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.038 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.039 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.040 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.041 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.042 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.043 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.044 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.045 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.046 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.048 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.049 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.051 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.052 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.053 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.054 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.055 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.056 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.057 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.058 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.062 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.063 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.064 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.065 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.066 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.066 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.067 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.068 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 34ms reading results.
2026-02-07 09:23:55.069 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.069 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:55.070 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:55.071 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:55.071 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:55.072 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:55.072 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:55.073 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Common.Models.PagedResult`1[[EliteClinic.Application.Features.Clinic.DTOs.StaffDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:55.074 +02:00 [INF] Executed action EliteClinic.Api.Controllers.StaffController.GetAllStaff (EliteClinic.Api) in 316.7619ms
2026-02-07 09:23:55.074 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.StaffController.GetAllStaff (EliteClinic.Api)'
2026-02-07 09:23:55.075 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:55.076 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:55.077 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.078 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:23:55.080 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/staff - 200 null application/json; charset=utf-8 503.8658ms
2026-02-07 09:23:55.087 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/clinic/staff - application/json 102
2026-02-07 09:23:55.089 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/staff'
2026-02-07 09:23:55.090 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.StaffController.CreateStaff (EliteClinic.Api)' with route pattern 'api/clinic/staff' is valid for the request path '/api/clinic/staff'
2026-02-07 09:23:55.091 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.StaffController.CreateStaff (EliteClinic.Api)'
2026-02-07 09:23:55.092 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:55.093 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:55.094 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:55.095 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:55.095 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.096 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.097 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:55.098 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:55.099 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:55.100 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:55.226 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:55.228 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.228 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:55.229 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.229 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:55.230 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:55.231 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:55.232 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ClinicOwner|SuperAdmin)
2026-02-07 09:23:55.233 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2026-02-07 09:23:55.234 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:55.235 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:55.235 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.236 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:23:55.237 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/clinic/staff - 403 0 null 149.6602ms
2026-02-07 09:23:55.238 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000012": started reading request body.
2026-02-07 09:23:55.238 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000012": done reading request body.
2026-02-07 09:23:55.239 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/clinic/doctors - application/json 159
2026-02-07 09:23:55.240 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/doctors'
2026-02-07 09:23:55.240 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.DoctorsController.CreateDoctor (EliteClinic.Api)' with route pattern 'api/clinic/doctors' is valid for the request path '/api/clinic/doctors'
2026-02-07 09:23:55.241 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.DoctorsController.CreateDoctor (EliteClinic.Api)'
2026-02-07 09:23:55.242 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:55.243 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:55.245 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:55.246 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:55.247 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.248 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.250 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:55.251 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:55.252 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:55.252 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:55.401 +02:00 [INF] Executed DbCommand (149ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:55.404 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.405 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:55.406 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.406 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:55.408 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:55.409 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:55.410 +02:00 [DBG] Authorization was successful.
2026-02-07 09:23:55.410 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.DoctorsController.CreateDoctor (EliteClinic.Api)'
2026-02-07 09:23:55.414 +02:00 [INF] Route matched with {action = "CreateDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto]]] CreateDoctor(EliteClinic.Application.Features.Clinic.DTOs.CreateDoctorRequest) on controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api).
2026-02-07 09:23:55.416 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:55.416 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:55.418 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:55.419 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:55.420 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:55.421 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:23:55.422 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:23:55.423 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreateDoctorRequest' ...
2026-02-07 09:23:55.425 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreateDoctorRequest' using the name '' in request data ...
2026-02-07 09:23:55.426 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:23:55.433 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000013": started reading request body.
2026-02-07 09:23:55.435 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000013": done reading request body.
2026-02-07 09:23:55.437 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Clinic.DTOs.CreateDoctorRequest'
2026-02-07 09:23:55.437 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreateDoctorRequest'.
2026-02-07 09:23:55.438 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreateDoctorRequest'.
2026-02-07 09:23:55.438 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreateDoctorRequest' ...
2026-02-07 09:23:55.441 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreateDoctorRequest'.
2026-02-07 09:23:55.444 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.445 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.446 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:55.447 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:55.447 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:55.449 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:55.575 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:55.577 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.577 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:55.579 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.580 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:55.642 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.644 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.645 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:55.646 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:55.647 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:55.648 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:55.762 +02:00 [INF] Executed DbCommand (113ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:55.764 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.765 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:55.766 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.768 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:55.769 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.771 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:55.772 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:55.772 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:55.773 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:55.774 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:55.775 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.776 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.777 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:55.778 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:55.779 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:55.780 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (DbType = Guid), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [DisplayName], [Email], [EmailConfirmed], [IsActive], [LastLoginAt], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiry], [SecurityStamp], [TenantId], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2026-02-07 09:23:55.904 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (DbType = Guid), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [DisplayName], [Email], [EmailConfirmed], [IsActive], [LastLoginAt], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiry], [SecurityStamp], [TenantId], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2026-02-07 09:23:55.905 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.906 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:55.907 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.908 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:55.909 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:55.910 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:23:55.912 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.912 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:55.913 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:55.914 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:55.915 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:55.915 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:23:56.040 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:23:56.042 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:56.043 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.044 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:23:56.045 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.046 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:56.049 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.050 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.052 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:56.052 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:56.054 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:56.055 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid), @__p_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2026-02-07 09:23:56.180 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__p_0='?' (DbType = Guid), @__p_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2026-02-07 09:23:56.182 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.184 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:56.185 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.186 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:56.188 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.189 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.189 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:56.190 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:56.191 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:56.192 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:23:56.315 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:23:56.316 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.316 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:56.317 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.318 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:56.319 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:56.319 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.320 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.321 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:56.321 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:56.322 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:56.322 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:56.451 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:56.455 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.458 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:23:56.461 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.462 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:56.463 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:56.465 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:56.466 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:56.467 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:56.469 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:56.471 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:56.472 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:23:56.473 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.474 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.475 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:23:56.610 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:23:56.611 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:56.612 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:56.613 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:56.614 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p23='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p24='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Guid), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [DisplayName] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsActive] = @p8, [LastLoginAt] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiry] = @p18, [SecurityStamp] = @p19, [TenantId] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2026-02-07 09:23:56.744 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p23='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p24='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Guid), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [DisplayName] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsActive] = @p8, [LastLoginAt] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiry] = @p18, [SecurityStamp] = @p19, [TenantId] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2026-02-07 09:23:56.749 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.751 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:23:56.752 +02:00 [DBG] Committing transaction.
2026-02-07 09:23:56.876 +02:00 [DBG] Committed transaction.
2026-02-07 09:23:56.877 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.877 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:56.878 +02:00 [DBG] Disposing transaction.
2026-02-07 09:23:56.878 +02:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:56.879 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:56.880 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:23:56.904 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:56.906 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:56.928 +02:00 [DBG] The navigation 'DoctorVisitFieldConfig.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:56.930 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:56.931 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:56.931 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:56.941 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:56.946 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:56.948 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:56.949 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:56.950 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:56.951 +02:00 [DBG] The unchanged property 'Doctor.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:56.953 +02:00 [DBG] The unchanged property 'Doctor.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:56.954 +02:00 [DBG] The unchanged property 'DoctorVisitFieldConfig.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:56.955 +02:00 [DBG] The unchanged property 'DoctorVisitFieldConfig.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:56.956 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:56.961 +02:00 [DBG] Executing 4 update commands as a batch.
2026-02-07 09:23:56.961 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.962 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:56.962 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:23:57.079 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:23:57.080 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:57.080 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:57.083 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:57.083 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?' (DbType = Int32), @p30='?' (Size = 4000), @p31='?' (DbType = DateTime2), @p32='?' (DbType = DateTime2), @p33='?' (DbType = Boolean), @p34='?' (DbType = Boolean), @p35='?' (Size = 200), @p36='?' (Size = 20), @p37='?' (Size = 4000), @p38='?' (Size = 100), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime2), @p41='?' (DbType = Int32), @p42='?' (DbType = Guid), @p43='?' (DbType = Guid), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (DbType = Boolean), @p47='?' (DbType = DateTime2), @p48='?' (DbType = DateTime2), @p49='?' (DbType = Guid), @p50='?' (DbType = Boolean), @p51='?' (DbType = Boolean), @p52='?' (DbType = Boolean), @p53='?' (DbType = Boolean), @p54='?' (DbType = Boolean), @p55='?' (DbType = Boolean), @p56='?' (DbType = Guid), @p57='?' (DbType = DateTime2), @p58='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
INSERT INTO [Doctors] ([Id], [AvgVisitDurationMinutes], [Bio], [CreatedAt], [DeletedAt], [IsDeleted], [IsEnabled], [Name], [Phone], [PhotoUrl], [Specialty], [TenantId], [UpdatedAt], [UrgentCaseMode], [UserId])
VALUES (@p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO [DoctorVisitFieldConfigs] ([Id], [BMI], [BloodPressure], [BloodSugar], [CreatedAt], [DeletedAt], [DoctorId], [HeartRate], [Height], [IsDeleted], [OxygenSaturation], [RespiratoryRate], [Temperature], [TenantId], [UpdatedAt], [Weight])
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58);
2026-02-07 09:23:57.209 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?' (DbType = Int32), @p30='?' (Size = 4000), @p31='?' (DbType = DateTime2), @p32='?' (DbType = DateTime2), @p33='?' (DbType = Boolean), @p34='?' (DbType = Boolean), @p35='?' (Size = 200), @p36='?' (Size = 20), @p37='?' (Size = 4000), @p38='?' (Size = 100), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime2), @p41='?' (DbType = Int32), @p42='?' (DbType = Guid), @p43='?' (DbType = Guid), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (DbType = Boolean), @p47='?' (DbType = DateTime2), @p48='?' (DbType = DateTime2), @p49='?' (DbType = Guid), @p50='?' (DbType = Boolean), @p51='?' (DbType = Boolean), @p52='?' (DbType = Boolean), @p53='?' (DbType = Boolean), @p54='?' (DbType = Boolean), @p55='?' (DbType = Boolean), @p56='?' (DbType = Guid), @p57='?' (DbType = DateTime2), @p58='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
INSERT INTO [Doctors] ([Id], [AvgVisitDurationMinutes], [Bio], [CreatedAt], [DeletedAt], [IsDeleted], [IsEnabled], [Name], [Phone], [PhotoUrl], [Specialty], [TenantId], [UpdatedAt], [UrgentCaseMode], [UserId])
VALUES (@p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42);
INSERT INTO [DoctorVisitFieldConfigs] ([Id], [BMI], [BloodPressure], [BloodSugar], [CreatedAt], [DeletedAt], [DoctorId], [HeartRate], [Height], [IsDeleted], [OxygenSaturation], [RespiratoryRate], [Temperature], [TenantId], [UpdatedAt], [Weight])
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58);
2026-02-07 09:23:57.211 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.211 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:57.212 +02:00 [DBG] Committing transaction.
2026-02-07 09:23:57.330 +02:00 [DBG] Committed transaction.
2026-02-07 09:23:57.331 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.332 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:57.333 +02:00 [DBG] Disposing transaction.
2026-02-07 09:23:57.334 +02:00 [DBG] An entity of type 'Doctor' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:57.335 +02:00 [DBG] An entity of type 'DoctorVisitFieldConfig' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:57.336 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:57.337 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:57.338 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 4 entities written to the database.
2026-02-07 09:23:57.342 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .Include(d => d.User)
    .Include(d => d.Services
        .Where(s => !(s.IsDeleted)))
    .Include(d => d.VisitFieldConfig)
    .FirstOrDefault(d => d.Id == __id_0 && d.TenantId == __tenantId_1 && !(d.IsDeleted))'
2026-02-07 09:23:57.344 +02:00 [DBG] Including navigation: 'Doctor.User'.
2026-02-07 09:23:57.345 +02:00 [DBG] Including navigation: 'Doctor.Services'.
2026-02-07 09:23:57.348 +02:00 [DBG] Including navigation: 'Doctor.VisitFieldConfig'.
2026-02-07 09:23:57.360 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Doctor>(
        asyncEnumerable: SingleQueryingEnumerable.Create<Doctor>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Doctor.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Doctor.AvgVisitDurationMinutes (int) Required, 1], [Property: Doctor.Bio (string), 2], [Property: Doctor.CreatedAt (DateTime) Required, 3], [Property: Doctor.DeletedAt (DateTime?), 4], [Property: Doctor.IsDeleted (bool) Required, 5], [Property: Doctor.IsEnabled (bool) Required, 6], [Property: Doctor.Name (string) Required MaxLength(200), 7], [Property: Doctor.Phone (string) MaxLength(20), 8], [Property: Doctor.PhotoUrl (string), 9], [Property: Doctor.Specialty (string) MaxLength(100), 10], [Property: Doctor.TenantId (Guid) Required, 11], [Property: Doctor.UpdatedAt (DateTime) Required, 12], [Property: Doctor.UrgentCaseMode (UrgentCaseMode) Required, 13], [Property: Doctor.UserId (Guid) Required FK Index, 14] }
                    1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                    2 -> 0
                    3 -> 15
                    4 -> 37
                    5 -> Dictionary<IProperty, int> { [Property: DoctorService.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 38], [Property: DoctorService.CreatedAt (DateTime) Required, 39], [Property: DoctorService.DeletedAt (DateTime?), 40], [Property: DoctorService.DoctorId (Guid) Required FK Index, 41], [Property: DoctorService.DurationMinutes (int?), 42], [Property: DoctorService.IsActive (bool) Required, 43], [Property: DoctorService.IsDeleted (bool) Required, 44], [Property: DoctorService.Price (decimal) Required, 45], [Property: DoctorService.ServiceName (string) Required MaxLength(200), 46], [Property: DoctorService.TenantId (Guid) Required, 47], [Property: DoctorService.UpdatedAt (DateTime) Required, 48] }
                    6 -> 38
                    7 -> Dictionary<IProperty, int> { [Property: DoctorVisitFieldConfig.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: DoctorVisitFieldConfig.BMI (bool) Required, 49], [Property: DoctorVisitFieldConfig.BloodPressure (bool) Required, 50], [Property: DoctorVisitFieldConfig.BloodSugar (bool) Required, 51], [Property: DoctorVisitFieldConfig.CreatedAt (DateTime) Required, 52], [Property: DoctorVisitFieldConfig.DeletedAt (DateTime?), 53], [Property: DoctorVisitFieldConfig.DoctorId (Guid) Required FK Index, 54], [Property: DoctorVisitFieldConfig.HeartRate (bool) Required, 55], [Property: DoctorVisitFieldConfig.Height (bool) Required, 56], [Property: DoctorVisitFieldConfig.IsDeleted (bool) Required, 57], [Property: DoctorVisitFieldConfig.OxygenSaturation (bool) Required, 58], [Property: DoctorVisitFieldConfig.RespiratoryRate (bool) Required, 59], [Property: DoctorVisitFieldConfig.Temperature (bool) Required, 60], [Property: DoctorVisitFieldConfig.TenantId (Guid) Required, 61], [Property: DoctorVisitFieldConfig.UpdatedAt (DateTime) Required, 62], [Property: DoctorVisitFieldConfig.Weight (bool) Required, 63] }
                SELECT s.Id, s.AvgVisitDurationMinutes, s.Bio, s.CreatedAt, s.DeletedAt, s.IsDeleted, s.IsEnabled, s.Name, s.Phone, s.PhotoUrl, s.Specialty, s.TenantId, s.UpdatedAt, s.UrgentCaseMode, s.UserId, s.Id0, s.AccessFailedCount, s.ConcurrencyStamp, s.CreatedAt0, s.DisplayName, s.Email, s.EmailConfirmed, s.IsActive, s.LastLoginAt, s.LockoutEnabled, s.LockoutEnd, s.NormalizedEmail, s.NormalizedUserName, s.PasswordHash, s.PhoneNumber, s.PhoneNumberConfirmed, s.RefreshToken, s.RefreshTokenExpiry, s.SecurityStamp, s.TenantId0, s.TwoFactorEnabled, s.UserName, s.Id1, d3.Id, d3.CreatedAt, d3.DeletedAt, d3.DoctorId, d3.DurationMinutes, d3.IsActive, d3.IsDeleted, d3.Price, d3.ServiceName, d3.TenantId, d3.UpdatedAt, s.BMI, s.BloodPressure, s.BloodSugar, s.CreatedAt1, s.DeletedAt0, s.DoctorId, s.HeartRate, s.Height, s.IsDeleted0, s.OxygenSaturation, s.RespiratoryRate, s.Temperature, s.TenantId1, s.UpdatedAt0, s.Weight
                FROM 
                (
                    SELECT TOP(1) d.Id, d.AvgVisitDurationMinutes, d.Bio, d.CreatedAt, d.DeletedAt, d.IsDeleted, d.IsEnabled, d.Name, d.Phone, d.PhotoUrl, d.Specialty, d.TenantId, d.UpdatedAt, d.UrgentCaseMode, d.UserId, a.Id AS Id0, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt AS CreatedAt0, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId AS TenantId0, a.TwoFactorEnabled, a.UserName, d1.Id AS Id1, d1.BMI, d1.BloodPressure, d1.BloodSugar, d1.CreatedAt AS CreatedAt1, d1.DeletedAt AS DeletedAt0, d1.DoctorId, d1.HeartRate, d1.Height, d1.IsDeleted AS IsDeleted0, d1.OxygenSaturation, d1.RespiratoryRate, d1.Temperature, d1.TenantId AS TenantId1, d1.UpdatedAt AS UpdatedAt0, d1.Weight
                    FROM Doctors AS d
                    INNER JOIN AspNetUsers AS a ON d.UserId == a.Id
                    LEFT JOIN 
                    (
                        SELECT d0.Id, d0.BMI, d0.BloodPressure, d0.BloodSugar, d0.CreatedAt, d0.DeletedAt, d0.DoctorId, d0.HeartRate, d0.Height, d0.IsDeleted, d0.OxygenSaturation, d0.RespiratoryRate, d0.Temperature, d0.TenantId, d0.UpdatedAt, d0.Weight
                        FROM DoctorVisitFieldConfigs AS d0
                        WHERE Not(d0.IsDeleted) && (d0.TenantId == @__ef_filter__CurrentTenantId_0)
                    ) AS d1 ON d.Id == d1.DoctorId
                    WHERE (Not(d.IsDeleted) && (d.TenantId == @__ef_filter__CurrentTenantId_0)) && (((d.Id == @__id_0) && (d.TenantId == @__tenantId_1)) && Not(d.IsDeleted))
                ) AS s
                LEFT JOIN 
                (
                    SELECT d2.Id, d2.CreatedAt, d2.DeletedAt, d2.DoctorId, d2.DurationMinutes, d2.IsActive, d2.IsDeleted, d2.Price, d2.ServiceName, d2.TenantId, d2.UpdatedAt
                    FROM DoctorServices AS d2
                    WHERE (Not(d2.IsDeleted) && (d2.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(d2.IsDeleted)
                ) AS d3 ON s.Id == d3.DoctorId
                ORDER BY s.Id ASC, s.Id0 ASC, s.Id1 ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Doctor.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Doctor.AvgVisitDurationMinutes (int) Required, 1], [Property: Doctor.Bio (string), 2], [Property: Doctor.CreatedAt (DateTime) Required, 3], [Property: Doctor.DeletedAt (DateTime?), 4], [Property: Doctor.IsDeleted (bool) Required, 5], [Property: Doctor.IsEnabled (bool) Required, 6], [Property: Doctor.Name (string) Required MaxLength(200), 7], [Property: Doctor.Phone (string) MaxLength(20), 8], [Property: Doctor.PhotoUrl (string), 9], [Property: Doctor.Specialty (string) MaxLength(100), 10], [Property: Doctor.TenantId (Guid) Required, 11], [Property: Doctor.UpdatedAt (DateTime) Required, 12], [Property: Doctor.UrgentCaseMode (UrgentCaseMode) Required, 13], [Property: Doctor.UserId (Guid) Required FK Index, 14] }
                    1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                    2 -> 0
                    3 -> 15
                    4 -> 37
                    5 -> Dictionary<IProperty, int> { [Property: DoctorService.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 38], [Property: DoctorService.CreatedAt (DateTime) Required, 39], [Property: DoctorService.DeletedAt (DateTime?), 40], [Property: DoctorService.DoctorId (Guid) Required FK Index, 41], [Property: DoctorService.DurationMinutes (int?), 42], [Property: DoctorService.IsActive (bool) Required, 43], [Property: DoctorService.IsDeleted (bool) Required, 44], [Property: DoctorService.Price (decimal) Required, 45], [Property: DoctorService.ServiceName (string) Required MaxLength(200), 46], [Property: DoctorService.TenantId (Guid) Required, 47], [Property: DoctorService.UpdatedAt (DateTime) Required, 48] }
                    6 -> 38
                    7 -> Dictionary<IProperty, int> { [Property: DoctorVisitFieldConfig.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: DoctorVisitFieldConfig.BMI (bool) Required, 49], [Property: DoctorVisitFieldConfig.BloodPressure (bool) Required, 50], [Property: DoctorVisitFieldConfig.BloodSugar (bool) Required, 51], [Property: DoctorVisitFieldConfig.CreatedAt (DateTime) Required, 52], [Property: DoctorVisitFieldConfig.DeletedAt (DateTime?), 53], [Property: DoctorVisitFieldConfig.DoctorId (Guid) Required FK Index, 54], [Property: DoctorVisitFieldConfig.HeartRate (bool) Required, 55], [Property: DoctorVisitFieldConfig.Height (bool) Required, 56], [Property: DoctorVisitFieldConfig.IsDeleted (bool) Required, 57], [Property: DoctorVisitFieldConfig.OxygenSaturation (bool) Required, 58], [Property: DoctorVisitFieldConfig.RespiratoryRate (bool) Required, 59], [Property: DoctorVisitFieldConfig.Temperature (bool) Required, 60], [Property: DoctorVisitFieldConfig.TenantId (Guid) Required, 61], [Property: DoctorVisitFieldConfig.UpdatedAt (DateTime) Required, 62], [Property: DoctorVisitFieldConfig.Weight (bool) Required, 63] }
                SELECT s.Id, s.AvgVisitDurationMinutes, s.Bio, s.CreatedAt, s.DeletedAt, s.IsDeleted, s.IsEnabled, s.Name, s.Phone, s.PhotoUrl, s.Specialty, s.TenantId, s.UpdatedAt, s.UrgentCaseMode, s.UserId, s.Id0, s.AccessFailedCount, s.ConcurrencyStamp, s.CreatedAt0, s.DisplayName, s.Email, s.EmailConfirmed, s.IsActive, s.LastLoginAt, s.LockoutEnabled, s.LockoutEnd, s.NormalizedEmail, s.NormalizedUserName, s.PasswordHash, s.PhoneNumber, s.PhoneNumberConfirmed, s.RefreshToken, s.RefreshTokenExpiry, s.SecurityStamp, s.TenantId0, s.TwoFactorEnabled, s.UserName, s.Id1, d3.Id, d3.CreatedAt, d3.DeletedAt, d3.DoctorId, d3.DurationMinutes, d3.IsActive, d3.IsDeleted, d3.Price, d3.ServiceName, d3.TenantId, d3.UpdatedAt, s.BMI, s.BloodPressure, s.BloodSugar, s.CreatedAt1, s.DeletedAt0, s.DoctorId, s.HeartRate, s.Height, s.IsDeleted0, s.OxygenSaturation, s.RespiratoryRate, s.Temperature, s.TenantId1, s.UpdatedAt0, s.Weight
                FROM 
                (
                    SELECT TOP(1) d.Id, d.AvgVisitDurationMinutes, d.Bio, d.CreatedAt, d.DeletedAt, d.IsDeleted, d.IsEnabled, d.Name, d.Phone, d.PhotoUrl, d.Specialty, d.TenantId, d.UpdatedAt, d.UrgentCaseMode, d.UserId, a.Id AS Id0, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt AS CreatedAt0, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId AS TenantId0, a.TwoFactorEnabled, a.UserName, d1.Id AS Id1, d1.BMI, d1.BloodPressure, d1.BloodSugar, d1.CreatedAt AS CreatedAt1, d1.DeletedAt AS DeletedAt0, d1.DoctorId, d1.HeartRate, d1.Height, d1.IsDeleted AS IsDeleted0, d1.OxygenSaturation, d1.RespiratoryRate, d1.Temperature, d1.TenantId AS TenantId1, d1.UpdatedAt AS UpdatedAt0, d1.Weight
                    FROM Doctors AS d
                    INNER JOIN AspNetUsers AS a ON d.UserId == a.Id
                    LEFT JOIN 
                    (
                        SELECT d0.Id, d0.BMI, d0.BloodPressure, d0.BloodSugar, d0.CreatedAt, d0.DeletedAt, d0.DoctorId, d0.HeartRate, d0.Height, d0.IsDeleted, d0.OxygenSaturation, d0.RespiratoryRate, d0.Temperature, d0.TenantId, d0.UpdatedAt, d0.Weight
                        FROM DoctorVisitFieldConfigs AS d0
                        WHERE Not(d0.IsDeleted) && (d0.TenantId == @__ef_filter__CurrentTenantId_0)
                    ) AS d1 ON d.Id == d1.DoctorId
                    WHERE (Not(d.IsDeleted) && (d.TenantId == @__ef_filter__CurrentTenantId_0)) && (((d.Id == @__id_0) && (d.TenantId == @__tenantId_1)) && Not(d.IsDeleted))
                ) AS s
                LEFT JOIN 
                (
                    SELECT d2.Id, d2.CreatedAt, d2.DeletedAt, d2.DoctorId, d2.DurationMinutes, d2.IsActive, d2.IsDeleted, d2.Price, d2.ServiceName, d2.TenantId, d2.UpdatedAt
                    FROM DoctorServices AS d2
                    WHERE (Not(d2.IsDeleted) && (d2.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(d2.IsDeleted)
                ) AS d3 ON s.Id == d3.DoctorId
                ORDER BY s.Id ASC, s.Id0 ASC, s.Id1 ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                resultContext.Values == null ? 
                {
                    Doctor entity;
                    ApplicationUser entity;
                    DoctorVisitFieldConfig entity;
                    entity = 
                    {
                        MaterializationContext materializationContext1;
                        IEntityType entityType1;
                        Doctor instance1;
                        InternalEntityEntry entry1;
                        bool hasNullKey1;
                        materializationContext1 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance1 = default(Doctor);
                        entry1 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Doctor.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindPrimaryKey()], 
                            keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                            throwOnNullKey: True, 
                            hasNullKey: hasNullKey1);
                        !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                        {
                            entityType1 = entry1.EntityType;
                            return instance1 = (Doctor)entry1.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot1;
                            shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType1 = [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor")];
                            instance1 = switch (entityType1)
                            {
                                case [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor")]: 
                                    {
                                        return 
                                        {
                                            Doctor instance;
                                            instance = new Doctor();
                                            instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                            instance.<AvgVisitDurationMinutes>k__BackingField = dataReader.GetInt32(1);
                                            instance.<Bio>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                            instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                            instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                            instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                            instance.<IsEnabled>k__BackingField = dataReader.GetBoolean(6);
                                            instance.<Name>k__BackingField = dataReader.GetString(7);
                                            instance.<Phone>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<PhotoUrl>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Specialty>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                            instance.<TenantId>k__BackingField = dataReader.GetGuid(11);
                                            instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(12);
                                            instance.<UrgentCaseMode>k__BackingField = Invoke(((EnumToNumberConverter<UrgentCaseMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Doctor.UrgentCaseMode (UrgentCaseMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindProperty("UrgentCaseMode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(13));
                                            instance.<UserId>k__BackingField = dataReader.GetGuid(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext1.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Doctor)
                            }
                            ;
                            entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType1, 
                                entity: instance1, 
                                snapshot: shadowSnapshot1);
                            return instance1;
                        } : default(void);
                        return instance1;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        ApplicationUser instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(ApplicationUser);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: ApplicationUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser").FindPrimaryKey()], 
                            keyValues: new object[]{ (object)dataReader.GetGuid(15) }, 
                            throwOnNullKey: True, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (ApplicationUser)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]: 
                                    {
                                        return 
                                        {
                                            ApplicationUser instance;
                                            instance = new ApplicationUser();
                                            instance.<Id>k__BackingField = dataReader.GetGuid(15);
                                            instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(16);
                                            instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                            instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(18);
                                            instance.<DisplayName>k__BackingField = dataReader.GetString(19);
                                            instance.<Email>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                            instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                            instance.<IsActive>k__BackingField = dataReader.GetBoolean(22);
                                            instance.<LastLoginAt>k__BackingField = dataReader.IsDBNull(23) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(23);
                                            instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(24);
                                            instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(25) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(25);
                                            instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                            instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                            instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(28) ? default(string) : dataReader.GetString(28);
                                            instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(29) ? default(string) : dataReader.GetString(29);
                                            instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(30);
                                            instance.<RefreshToken>k__BackingField = dataReader.IsDBNull(31) ? default(string) : dataReader.GetString(31);
                                            instance.<RefreshTokenExpiry>k__BackingField = dataReader.IsDBNull(32) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(32);
                                            instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                            instance.<TenantId>k__BackingField = dataReader.IsDBNull(34) ? default(Guid?) : (Guid?)dataReader.GetGuid(34);
                                            instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(35);
                                            instance.<UserName>k__BackingField = dataReader.IsDBNull(36) ? default(string) : dataReader.GetString(36);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(ApplicationUser)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext4;
                        IEntityType entityType4;
                        DoctorVisitFieldConfig instance4;
                        InternalEntityEntry entry4;
                        bool hasNullKey4;
                        materializationContext4 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance4 = default(DoctorVisitFieldConfig);
                        entry4 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: DoctorVisitFieldConfig.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorVisitFieldConfig").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(37) ? default(object) : (object)dataReader.GetGuid(37) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey4);
                        !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                        {
                            entityType4 = entry4.EntityType;
                            return instance4 = (DoctorVisitFieldConfig)entry4.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot4;
                            shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType4 = [LIFTABLE Constant: EntityType: DoctorVisitFieldConfig | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorVisitFieldConfig")];
                            instance4 = switch (entityType4)
                            {
                                case [LIFTABLE Constant: EntityType: DoctorVisitFieldConfig | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorVisitFieldConfig")]: 
                                    {
                                        return 
                                        {
                                            DoctorVisitFieldConfig instance;
                                            instance = new DoctorVisitFieldConfig();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(37) ? default(Guid) : dataReader.GetGuid(37);
                                            instance.<BMI>k__BackingField = dataReader.IsDBNull(49) ? default(bool) : dataReader.GetBoolean(49);
                                            instance.<BloodPressure>k__BackingField = dataReader.IsDBNull(50) ? default(bool) : dataReader.GetBoolean(50);
                                            instance.<BloodSugar>k__BackingField = dataReader.IsDBNull(51) ? default(bool) : dataReader.GetBoolean(51);
                                            instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(52) ? default(DateTime) : dataReader.GetDateTime(52);
                                            instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(53) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(53);
                                            instance.<DoctorId>k__BackingField = dataReader.IsDBNull(54) ? default(Guid) : dataReader.GetGuid(54);
                                            instance.<HeartRate>k__BackingField = dataReader.IsDBNull(55) ? default(bool) : dataReader.GetBoolean(55);
                                            instance.<Height>k__BackingField = dataReader.IsDBNull(56) ? default(bool) : dataReader.GetBoolean(56);
                                            instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(57) ? default(bool) : dataReader.GetBoolean(57);
                                            instance.<OxygenSaturation>k__BackingField = dataReader.IsDBNull(58) ? default(bool) : dataReader.GetBoolean(58);
                                            instance.<RespiratoryRate>k__BackingField = dataReader.IsDBNull(59) ? default(bool) : dataReader.GetBoolean(59);
                                            instance.<Temperature>k__BackingField = dataReader.IsDBNull(60) ? default(bool) : dataReader.GetBoolean(60);
                                            instance.<TenantId>k__BackingField = dataReader.IsDBNull(61) ? default(Guid) : dataReader.GetGuid(61);
                                            instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(62) ? default(DateTime) : dataReader.GetDateTime(62);
                                            instance.<Weight>k__BackingField = dataReader.IsDBNull(63) ? default(bool) : dataReader.GetBoolean(63);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext4.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: DoctorVisitFieldConfig | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorVisitFieldConfig")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(DoctorVisitFieldConfig)
                            }
                            ;
                            entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType4, 
                                entity: instance4, 
                                snapshot: shadowSnapshot4);
                            return instance4;
                        } : default(void);
                        return instance4;
                    };
                    resultContext.Values = new object[]
                    { 
                        entity, 
                        entity, 
                        entity 
                    };
                    ShaperProcessingExpressionVisitor.IncludeReference<Doctor, Doctor, ApplicationUser>(
                        queryContext: queryContext, 
                        entity: (Doctor)(resultContext.Values[0]), 
                        relatedEntity: (ApplicationUser)(resultContext.Values[1]), 
                        navigation: [LIFTABLE Constant: Navigation: Doctor.User (ApplicationUser) ToPrincipal ApplicationUser | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindNavigation("User")], 
                        inverseNavigation: default(INavigation), 
                        fixup: (namelessParameter{11}, namelessParameter{12}) => 
                        {
                            return namelessParameter{11}.<User>k__BackingField = namelessParameter{12};
                        }, 
                        trackingQuery: True);
                    ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Doctor, Doctor>(
                        collectionId: 0, 
                        queryContext: queryContext, 
                        dbDataReader: dataReader, 
                        resultCoordinator: resultCoordinator, 
                        entity: (Doctor)(resultContext.Values[0]), 
                        parentIdentifier: (queryContext, dataReader) => new object[]
                        { 
                            (object)(Guid?)dataReader.GetGuid(0), 
                            (object)(Guid?)dataReader.GetGuid(15), 
                            (object)dataReader.IsDBNull(37) ? default(Guid?) : (Guid?)dataReader.GetGuid(37) 
                        }, 
                        outerIdentifier: (queryContext, dataReader) => new object[]
                        { 
                            (object)(Guid?)dataReader.GetGuid(0), 
                            (object)(Guid?)dataReader.GetGuid(15), 
                            (object)dataReader.IsDBNull(37) ? default(Guid?) : (Guid?)dataReader.GetGuid(37) 
                        }, 
                        navigation: [LIFTABLE Constant: Navigation: Doctor.Services (ICollection<DoctorService>) Collection ToDependent DoctorService Inverse: Doctor | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindNavigation("Services")], 
                        clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Doctor, ICollection<DoctorService>, DoctorService> | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindNavigation("Services").GetCollectionAccessor()], 
                        trackingQuery: True, 
                        setLoaded: True);
                    ShaperProcessingExpressionVisitor.IncludeReference<Doctor, Doctor, DoctorVisitFieldConfig>(
                        queryContext: queryContext, 
                        entity: (Doctor)(resultContext.Values[0]), 
                        relatedEntity: (DoctorVisitFieldConfig)(resultContext.Values[2]), 
                        navigation: [LIFTABLE Constant: Navigation: Doctor.VisitFieldConfig (DoctorVisitFieldConfig) ToDependent DoctorVisitFieldConfig Inverse: Doctor | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindNavigation("VisitFieldConfig")], 
                        inverseNavigation: [LIFTABLE Constant: Navigation: DoctorVisitFieldConfig.Doctor (Doctor) ToPrincipal Doctor Inverse: VisitFieldConfig | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorVisitFieldConfig").FindNavigation("Doctor")], 
                        fixup: (namelessParameter{17}, namelessParameter{18}) => 
                        {
                            namelessParameter{17}.<VisitFieldConfig>k__BackingField = namelessParameter{18};
                            return namelessParameter{18}.<Doctor>k__BackingField = namelessParameter{17};
                        }, 
                        trackingQuery: True);
                } : default(void);
                ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Doctor, DoctorService>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: (queryContext, dataReader) => new object[]
                    { 
                        (object)(Guid?)dataReader.GetGuid(0), 
                        (object)(Guid?)dataReader.GetGuid(15), 
                        (object)dataReader.IsDBNull(37) ? default(Guid?) : (Guid?)dataReader.GetGuid(37) 
                    }, 
                    outerIdentifier: (queryContext, dataReader) => new object[]
                    { 
                        (object)(Guid?)dataReader.GetGuid(0), 
                        (object)(Guid?)dataReader.GetGuid(15), 
                        (object)dataReader.IsDBNull(37) ? default(Guid?) : (Guid?)dataReader.GetGuid(37) 
                    }, 
                    selfIdentifier: (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(38) ? default(Guid?) : (Guid?)dataReader.GetGuid(38) }, 
                    parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) 
                    }], 
                    outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) 
                    }], 
                    selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                    {
                        DoctorService entity;
                        entity = 
                        {
                            MaterializationContext materializationContext3;
                            IEntityType entityType3;
                            DoctorService instance3;
                            InternalEntityEntry entry3;
                            bool hasNullKey3;
                            materializationContext3 = new MaterializationContext(
                                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                                queryContext.Context
                            );
                            instance3 = default(DoctorService);
                            entry3 = queryContext.TryGetEntry(
                                key: [LIFTABLE Constant: Key: DoctorService.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorService").FindPrimaryKey()], 
                                keyValues: new object[]{ dataReader.IsDBNull(38) ? default(object) : (object)dataReader.GetGuid(38) }, 
                                throwOnNullKey: False, 
                                hasNullKey: hasNullKey3);
                            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                            {
                                entityType3 = entry3.EntityType;
                                return instance3 = (DoctorService)entry3.Entity;
                            } : 
                            {
                                ISnapshot shadowSnapshot3;
                                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                                entityType3 = [LIFTABLE Constant: EntityType: DoctorService | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorService")];
                                instance3 = switch (entityType3)
                                {
                                    case [LIFTABLE Constant: EntityType: DoctorService | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorService")]: 
                                        {
                                            return 
                                            {
                                                DoctorService instance;
                                                instance = new DoctorService();
                                                instance.<Id>k__BackingField = dataReader.IsDBNull(38) ? default(Guid) : dataReader.GetGuid(38);
                                                instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(39) ? default(DateTime) : dataReader.GetDateTime(39);
                                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(40) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(40);
                                                instance.<DoctorId>k__BackingField = dataReader.IsDBNull(41) ? default(Guid) : dataReader.GetGuid(41);
                                                instance.<DurationMinutes>k__BackingField = dataReader.IsDBNull(42) ? default(int?) : (int?)dataReader.GetInt32(42);
                                                instance.<IsActive>k__BackingField = dataReader.IsDBNull(43) ? default(bool) : dataReader.GetBoolean(43);
                                                instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(44) ? default(bool) : dataReader.GetBoolean(44);
                                                instance.<Price>k__BackingField = dataReader.IsDBNull(45) ? default(decimal) : dataReader.GetDecimal(45);
                                                instance.<ServiceName>k__BackingField = dataReader.IsDBNull(46) ? default(string) : dataReader.GetString(46);
                                                instance.<TenantId>k__BackingField = dataReader.IsDBNull(47) ? default(Guid) : dataReader.GetGuid(47);
                                                instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(48) ? default(DateTime) : dataReader.GetDateTime(48);
                                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                    context: materializationContext3.Context, 
                                                    entity: instance, 
                                                    queryTrackingBehavior: TrackAll, 
                                                    structuralType: [LIFTABLE Constant: EntityType: DoctorService | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorService")]) : default(void);
                                                return instance;
                                            }}
                                    default: 
                                        default(DoctorService)
                                }
                                ;
                                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                    entityType: entityType3, 
                                    entity: instance3, 
                                    snapshot: shadowSnapshot3);
                                return instance3;
                            } : default(void);
                            return instance3;
                        };
                        return entity;
                    }, 
                    inverseNavigation: [LIFTABLE Constant: Navigation: DoctorService.Doctor (Doctor) ToPrincipal Doctor Inverse: Services | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorService").FindNavigation("Doctor")], 
                    fixup: (namelessParameter{23}, namelessParameter{24}) => 
                    {
                        [LIFTABLE Constant: ClrICollectionAccessor<Doctor, ICollection<DoctorService>, DoctorService> | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindNavigation("Services").GetCollectionAccessor()].Add(
                            entity: namelessParameter{23}, 
                            value: namelessParameter{24}, 
                            forMaterialization: True);
                        return namelessParameter{24}.<Doctor>k__BackingField = namelessParameter{23};
                    }, 
                    trackingQuery: True);
                return IsTrue(resultCoordinator.ResultReady)
                 ? (Doctor)(resultContext.Values[0]) : default(Doctor);
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:23:57.378 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.379 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.381 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:57.381 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:57.382 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:57.383 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AvgVisitDurationMinutes], [s].[Bio], [s].[CreatedAt], [s].[DeletedAt], [s].[IsDeleted], [s].[IsEnabled], [s].[Name], [s].[Phone], [s].[PhotoUrl], [s].[Specialty], [s].[TenantId], [s].[UpdatedAt], [s].[UrgentCaseMode], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [s].[Id1], [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt], [s].[BMI], [s].[BloodPressure], [s].[BloodSugar], [s].[CreatedAt1], [s].[DeletedAt0], [s].[DoctorId], [s].[HeartRate], [s].[Height], [s].[IsDeleted0], [s].[OxygenSaturation], [s].[RespiratoryRate], [s].[Temperature], [s].[TenantId1], [s].[UpdatedAt0], [s].[Weight]
FROM (
    SELECT TOP(1) [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName], [d1].[Id] AS [Id1], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt] AS [CreatedAt1], [d1].[DeletedAt] AS [DeletedAt0], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted] AS [IsDeleted0], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId] AS [TenantId1], [d1].[UpdatedAt] AS [UpdatedAt0], [d1].[Weight]
    FROM [Doctors] AS [d]
    INNER JOIN [AspNetUsers] AS [a] ON [d].[UserId] = [a].[Id]
    LEFT JOIN (
        SELECT [d0].[Id], [d0].[BMI], [d0].[BloodPressure], [d0].[BloodSugar], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[DoctorId], [d0].[HeartRate], [d0].[Height], [d0].[IsDeleted], [d0].[OxygenSaturation], [d0].[RespiratoryRate], [d0].[Temperature], [d0].[TenantId], [d0].[UpdatedAt], [d0].[Weight]
        FROM [DoctorVisitFieldConfigs] AS [d0]
        WHERE [d0].[IsDeleted] = CAST(0 AS bit) AND [d0].[TenantId] = @__ef_filter__CurrentTenantId_0
    ) AS [d1] ON [d].[Id] = [d1].[DoctorId]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[Id] = @__id_0 AND [d].[TenantId] = @__tenantId_1 AND [d].[IsDeleted] = CAST(0 AS bit)
) AS [s]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[DurationMinutes], [d2].[IsActive], [d2].[IsDeleted], [d2].[Price], [d2].[ServiceName], [d2].[TenantId], [d2].[UpdatedAt]
    FROM [DoctorServices] AS [d2]
    WHERE [d2].[IsDeleted] = CAST(0 AS bit) AND [d2].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d2].[IsDeleted] = CAST(0 AS bit)
) AS [d3] ON [s].[Id] = [d3].[DoctorId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1]
2026-02-07 09:23:57.509 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AvgVisitDurationMinutes], [s].[Bio], [s].[CreatedAt], [s].[DeletedAt], [s].[IsDeleted], [s].[IsEnabled], [s].[Name], [s].[Phone], [s].[PhotoUrl], [s].[Specialty], [s].[TenantId], [s].[UpdatedAt], [s].[UrgentCaseMode], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [s].[Id1], [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt], [s].[BMI], [s].[BloodPressure], [s].[BloodSugar], [s].[CreatedAt1], [s].[DeletedAt0], [s].[DoctorId], [s].[HeartRate], [s].[Height], [s].[IsDeleted0], [s].[OxygenSaturation], [s].[RespiratoryRate], [s].[Temperature], [s].[TenantId1], [s].[UpdatedAt0], [s].[Weight]
FROM (
    SELECT TOP(1) [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName], [d1].[Id] AS [Id1], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt] AS [CreatedAt1], [d1].[DeletedAt] AS [DeletedAt0], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted] AS [IsDeleted0], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId] AS [TenantId1], [d1].[UpdatedAt] AS [UpdatedAt0], [d1].[Weight]
    FROM [Doctors] AS [d]
    INNER JOIN [AspNetUsers] AS [a] ON [d].[UserId] = [a].[Id]
    LEFT JOIN (
        SELECT [d0].[Id], [d0].[BMI], [d0].[BloodPressure], [d0].[BloodSugar], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[DoctorId], [d0].[HeartRate], [d0].[Height], [d0].[IsDeleted], [d0].[OxygenSaturation], [d0].[RespiratoryRate], [d0].[Temperature], [d0].[TenantId], [d0].[UpdatedAt], [d0].[Weight]
        FROM [DoctorVisitFieldConfigs] AS [d0]
        WHERE [d0].[IsDeleted] = CAST(0 AS bit) AND [d0].[TenantId] = @__ef_filter__CurrentTenantId_0
    ) AS [d1] ON [d].[Id] = [d1].[DoctorId]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[Id] = @__id_0 AND [d].[TenantId] = @__tenantId_1 AND [d].[IsDeleted] = CAST(0 AS bit)
) AS [s]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[DurationMinutes], [d2].[IsActive], [d2].[IsDeleted], [d2].[Price], [d2].[ServiceName], [d2].[TenantId], [d2].[UpdatedAt]
    FROM [DoctorServices] AS [d2]
    WHERE [d2].[IsDeleted] = CAST(0 AS bit) AND [d2].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d2].[IsDeleted] = CAST(0 AS bit)
) AS [d3] ON [s].[Id] = [d3].[DoctorId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1]
2026-02-07 09:23:57.516 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.518 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 5ms reading results.
2026-02-07 09:23:57.519 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.520 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:57.522 +02:00 [INF] Doctor created: Dr. Test Doctor for tenant "3d8808ad-0e68-4e6a-8cfb-2a7333da8dbd"
2026-02-07 09:23:57.523 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:57.524 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:57.525 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:57.525 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:57.526 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:57.529 +02:00 [INF] Executing ObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:57.536 +02:00 [INF] Executed action EliteClinic.Api.Controllers.DoctorsController.CreateDoctor (EliteClinic.Api) in 2114.8093ms
2026-02-07 09:23:57.537 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.DoctorsController.CreateDoctor (EliteClinic.Api)'
2026-02-07 09:23:57.537 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:57.538 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:57.539 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.539 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:23:57.540 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/clinic/doctors - 201 null application/json; charset=utf-8 2301.2301ms
2026-02-07 09:23:57.547 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/doctors - application/json null
2026-02-07 09:23:57.549 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/doctors'
2026-02-07 09:23:57.550 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetAllDoctors (EliteClinic.Api)' with route pattern 'api/clinic/doctors' is valid for the request path '/api/clinic/doctors'
2026-02-07 09:23:57.551 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetAllDoctors (EliteClinic.Api)'
2026-02-07 09:23:57.552 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:57.553 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:57.554 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:57.555 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:57.556 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.556 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.557 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:57.557 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:57.558 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:57.558 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:57.679 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:57.681 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.682 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:57.683 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.684 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:57.685 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:57.686 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:57.687 +02:00 [DBG] Authorization was successful.
2026-02-07 09:23:57.687 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetAllDoctors (EliteClinic.Api)'
2026-02-07 09:23:57.691 +02:00 [INF] Route matched with {action = "GetAllDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Common.Models.PagedResult`1[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto]]]] GetAllDoctors(Int32, Int32) on controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api).
2026-02-07 09:23:57.692 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:57.693 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:57.694 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:57.696 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:57.697 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:57.698 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:23:57.701 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:23:57.702 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:23:57.704 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:23:57.705 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:23:57.706 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:23:57.707 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:23:57.708 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:23:57.709 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:23:57.710 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:23:57.711 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:23:57.711 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:23:57.712 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:23:57.713 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:23:57.714 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:23:57.714 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:23:57.718 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .Include(d => d.User)
    .Include(d => d.Services
        .Where(s => !(s.IsDeleted)))
    .Include(d => d.VisitFieldConfig)
    .Where(d => d.TenantId == __tenantId_0)
    .Count()'
2026-02-07 09:23:57.721 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT COUNT(*)
                FROM Doctors AS d
                WHERE (Not(d.IsDeleted) && (d.TenantId == @__ef_filter__CurrentTenantId_0)) && (d.TenantId == @__tenantId_0)) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT COUNT(*)
                FROM Doctors AS d
                WHERE (Not(d.IsDeleted) && (d.TenantId == @__ef_filter__CurrentTenantId_0)) && (d.TenantId == @__tenantId_0), 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
                return (int)value1;
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:23:57.723 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.724 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.725 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:57.726 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:57.727 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:57.728 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[TenantId] = @__tenantId_0
2026-02-07 09:23:57.861 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[TenantId] = @__tenantId_0
2026-02-07 09:23:57.862 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.863 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:57.863 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.864 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:57.865 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .Include(d => d.User)
    .Include(d => d.Services
        .Where(s => !(s.IsDeleted)))
    .Include(d => d.VisitFieldConfig)
    .Where(d => d.TenantId == __tenantId_0)
    .OrderByDescending(d => d.CreatedAt)
    .Skip(__p_1)
    .Take(__p_2)'
2026-02-07 09:23:57.867 +02:00 [DBG] Including navigation: 'Doctor.User'.
2026-02-07 09:23:57.868 +02:00 [DBG] Including navigation: 'Doctor.Services'.
2026-02-07 09:23:57.868 +02:00 [DBG] Including navigation: 'Doctor.VisitFieldConfig'.
2026-02-07 09:23:57.874 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return SingleQueryingEnumerable.Create<Doctor>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Doctor.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Doctor.AvgVisitDurationMinutes (int) Required, 1], [Property: Doctor.Bio (string), 2], [Property: Doctor.CreatedAt (DateTime) Required, 3], [Property: Doctor.DeletedAt (DateTime?), 4], [Property: Doctor.IsDeleted (bool) Required, 5], [Property: Doctor.IsEnabled (bool) Required, 6], [Property: Doctor.Name (string) Required MaxLength(200), 7], [Property: Doctor.Phone (string) MaxLength(20), 8], [Property: Doctor.PhotoUrl (string), 9], [Property: Doctor.Specialty (string) MaxLength(100), 10], [Property: Doctor.TenantId (Guid) Required, 11], [Property: Doctor.UpdatedAt (DateTime) Required, 12], [Property: Doctor.UrgentCaseMode (UrgentCaseMode) Required, 13], [Property: Doctor.UserId (Guid) Required FK Index, 14] }
                1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                2 -> 0
                3 -> 15
                4 -> 37
                5 -> Dictionary<IProperty, int> { [Property: DoctorService.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 38], [Property: DoctorService.CreatedAt (DateTime) Required, 39], [Property: DoctorService.DeletedAt (DateTime?), 40], [Property: DoctorService.DoctorId (Guid) Required FK Index, 41], [Property: DoctorService.DurationMinutes (int?), 42], [Property: DoctorService.IsActive (bool) Required, 43], [Property: DoctorService.IsDeleted (bool) Required, 44], [Property: DoctorService.Price (decimal) Required, 45], [Property: DoctorService.ServiceName (string) Required MaxLength(200), 46], [Property: DoctorService.TenantId (Guid) Required, 47], [Property: DoctorService.UpdatedAt (DateTime) Required, 48] }
                6 -> 38
                7 -> Dictionary<IProperty, int> { [Property: DoctorVisitFieldConfig.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: DoctorVisitFieldConfig.BMI (bool) Required, 49], [Property: DoctorVisitFieldConfig.BloodPressure (bool) Required, 50], [Property: DoctorVisitFieldConfig.BloodSugar (bool) Required, 51], [Property: DoctorVisitFieldConfig.CreatedAt (DateTime) Required, 52], [Property: DoctorVisitFieldConfig.DeletedAt (DateTime?), 53], [Property: DoctorVisitFieldConfig.DoctorId (Guid) Required FK Index, 54], [Property: DoctorVisitFieldConfig.HeartRate (bool) Required, 55], [Property: DoctorVisitFieldConfig.Height (bool) Required, 56], [Property: DoctorVisitFieldConfig.IsDeleted (bool) Required, 57], [Property: DoctorVisitFieldConfig.OxygenSaturation (bool) Required, 58], [Property: DoctorVisitFieldConfig.RespiratoryRate (bool) Required, 59], [Property: DoctorVisitFieldConfig.Temperature (bool) Required, 60], [Property: DoctorVisitFieldConfig.TenantId (Guid) Required, 61], [Property: DoctorVisitFieldConfig.UpdatedAt (DateTime) Required, 62], [Property: DoctorVisitFieldConfig.Weight (bool) Required, 63] }
            SELECT d0.Id, d0.AvgVisitDurationMinutes, d0.Bio, d0.CreatedAt, d0.DeletedAt, d0.IsDeleted, d0.IsEnabled, d0.Name, d0.Phone, d0.PhotoUrl, d0.Specialty, d0.TenantId, d0.UpdatedAt, d0.UrgentCaseMode, d0.UserId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName, d2.Id, d4.Id, d4.CreatedAt, d4.DeletedAt, d4.DoctorId, d4.DurationMinutes, d4.IsActive, d4.IsDeleted, d4.Price, d4.ServiceName, d4.TenantId, d4.UpdatedAt, d2.BMI, d2.BloodPressure, d2.BloodSugar, d2.CreatedAt, d2.DeletedAt, d2.DoctorId, d2.HeartRate, d2.Height, d2.IsDeleted, d2.OxygenSaturation, d2.RespiratoryRate, d2.Temperature, d2.TenantId, d2.UpdatedAt, d2.Weight
            FROM 
            (
                SELECT d.Id, d.AvgVisitDurationMinutes, d.Bio, d.CreatedAt, d.DeletedAt, d.IsDeleted, d.IsEnabled, d.Name, d.Phone, d.PhotoUrl, d.Specialty, d.TenantId, d.UpdatedAt, d.UrgentCaseMode, d.UserId
                FROM Doctors AS d
                WHERE (Not(d.IsDeleted) && (d.TenantId == @__ef_filter__CurrentTenantId_0)) && (d.TenantId == @__tenantId_0)
                ORDER BY d.CreatedAt DESC
                OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
            ) AS d0
            INNER JOIN AspNetUsers AS a ON d0.UserId == a.Id
            LEFT JOIN 
            (
                SELECT d1.Id, d1.BMI, d1.BloodPressure, d1.BloodSugar, d1.CreatedAt, d1.DeletedAt, d1.DoctorId, d1.HeartRate, d1.Height, d1.IsDeleted, d1.OxygenSaturation, d1.RespiratoryRate, d1.Temperature, d1.TenantId, d1.UpdatedAt, d1.Weight
                FROM DoctorVisitFieldConfigs AS d1
                WHERE Not(d1.IsDeleted) && (d1.TenantId == @__ef_filter__CurrentTenantId_0)
            ) AS d2 ON d0.Id == d2.DoctorId
            LEFT JOIN 
            (
                SELECT d3.Id, d3.CreatedAt, d3.DeletedAt, d3.DoctorId, d3.DurationMinutes, d3.IsActive, d3.IsDeleted, d3.Price, d3.ServiceName, d3.TenantId, d3.UpdatedAt
                FROM DoctorServices AS d3
                WHERE (Not(d3.IsDeleted) && (d3.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(d3.IsDeleted)
            ) AS d4 ON d0.Id == d4.DoctorId
            ORDER BY d0.CreatedAt DESC, d0.Id ASC, a.Id ASC, d2.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Doctor.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Doctor.AvgVisitDurationMinutes (int) Required, 1], [Property: Doctor.Bio (string), 2], [Property: Doctor.CreatedAt (DateTime) Required, 3], [Property: Doctor.DeletedAt (DateTime?), 4], [Property: Doctor.IsDeleted (bool) Required, 5], [Property: Doctor.IsEnabled (bool) Required, 6], [Property: Doctor.Name (string) Required MaxLength(200), 7], [Property: Doctor.Phone (string) MaxLength(20), 8], [Property: Doctor.PhotoUrl (string), 9], [Property: Doctor.Specialty (string) MaxLength(100), 10], [Property: Doctor.TenantId (Guid) Required, 11], [Property: Doctor.UpdatedAt (DateTime) Required, 12], [Property: Doctor.UrgentCaseMode (UrgentCaseMode) Required, 13], [Property: Doctor.UserId (Guid) Required FK Index, 14] }
                1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                2 -> 0
                3 -> 15
                4 -> 37
                5 -> Dictionary<IProperty, int> { [Property: DoctorService.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 38], [Property: DoctorService.CreatedAt (DateTime) Required, 39], [Property: DoctorService.DeletedAt (DateTime?), 40], [Property: DoctorService.DoctorId (Guid) Required FK Index, 41], [Property: DoctorService.DurationMinutes (int?), 42], [Property: DoctorService.IsActive (bool) Required, 43], [Property: DoctorService.IsDeleted (bool) Required, 44], [Property: DoctorService.Price (decimal) Required, 45], [Property: DoctorService.ServiceName (string) Required MaxLength(200), 46], [Property: DoctorService.TenantId (Guid) Required, 47], [Property: DoctorService.UpdatedAt (DateTime) Required, 48] }
                6 -> 38
                7 -> Dictionary<IProperty, int> { [Property: DoctorVisitFieldConfig.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: DoctorVisitFieldConfig.BMI (bool) Required, 49], [Property: DoctorVisitFieldConfig.BloodPressure (bool) Required, 50], [Property: DoctorVisitFieldConfig.BloodSugar (bool) Required, 51], [Property: DoctorVisitFieldConfig.CreatedAt (DateTime) Required, 52], [Property: DoctorVisitFieldConfig.DeletedAt (DateTime?), 53], [Property: DoctorVisitFieldConfig.DoctorId (Guid) Required FK Index, 54], [Property: DoctorVisitFieldConfig.HeartRate (bool) Required, 55], [Property: DoctorVisitFieldConfig.Height (bool) Required, 56], [Property: DoctorVisitFieldConfig.IsDeleted (bool) Required, 57], [Property: DoctorVisitFieldConfig.OxygenSaturation (bool) Required, 58], [Property: DoctorVisitFieldConfig.RespiratoryRate (bool) Required, 59], [Property: DoctorVisitFieldConfig.Temperature (bool) Required, 60], [Property: DoctorVisitFieldConfig.TenantId (Guid) Required, 61], [Property: DoctorVisitFieldConfig.UpdatedAt (DateTime) Required, 62], [Property: DoctorVisitFieldConfig.Weight (bool) Required, 63] }
            SELECT d0.Id, d0.AvgVisitDurationMinutes, d0.Bio, d0.CreatedAt, d0.DeletedAt, d0.IsDeleted, d0.IsEnabled, d0.Name, d0.Phone, d0.PhotoUrl, d0.Specialty, d0.TenantId, d0.UpdatedAt, d0.UrgentCaseMode, d0.UserId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName, d2.Id, d4.Id, d4.CreatedAt, d4.DeletedAt, d4.DoctorId, d4.DurationMinutes, d4.IsActive, d4.IsDeleted, d4.Price, d4.ServiceName, d4.TenantId, d4.UpdatedAt, d2.BMI, d2.BloodPressure, d2.BloodSugar, d2.CreatedAt, d2.DeletedAt, d2.DoctorId, d2.HeartRate, d2.Height, d2.IsDeleted, d2.OxygenSaturation, d2.RespiratoryRate, d2.Temperature, d2.TenantId, d2.UpdatedAt, d2.Weight
            FROM 
            (
                SELECT d.Id, d.AvgVisitDurationMinutes, d.Bio, d.CreatedAt, d.DeletedAt, d.IsDeleted, d.IsEnabled, d.Name, d.Phone, d.PhotoUrl, d.Specialty, d.TenantId, d.UpdatedAt, d.UrgentCaseMode, d.UserId
                FROM Doctors AS d
                WHERE (Not(d.IsDeleted) && (d.TenantId == @__ef_filter__CurrentTenantId_0)) && (d.TenantId == @__tenantId_0)
                ORDER BY d.CreatedAt DESC
                OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
            ) AS d0
            INNER JOIN AspNetUsers AS a ON d0.UserId == a.Id
            LEFT JOIN 
            (
                SELECT d1.Id, d1.BMI, d1.BloodPressure, d1.BloodSugar, d1.CreatedAt, d1.DeletedAt, d1.DoctorId, d1.HeartRate, d1.Height, d1.IsDeleted, d1.OxygenSaturation, d1.RespiratoryRate, d1.Temperature, d1.TenantId, d1.UpdatedAt, d1.Weight
                FROM DoctorVisitFieldConfigs AS d1
                WHERE Not(d1.IsDeleted) && (d1.TenantId == @__ef_filter__CurrentTenantId_0)
            ) AS d2 ON d0.Id == d2.DoctorId
            LEFT JOIN 
            (
                SELECT d3.Id, d3.CreatedAt, d3.DeletedAt, d3.DoctorId, d3.DurationMinutes, d3.IsActive, d3.IsDeleted, d3.Price, d3.ServiceName, d3.TenantId, d3.UpdatedAt
                FROM DoctorServices AS d3
                WHERE (Not(d3.IsDeleted) && (d3.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(d3.IsDeleted)
            ) AS d4 ON d0.Id == d4.DoctorId
            ORDER BY d0.CreatedAt DESC, d0.Id ASC, a.Id ASC, d2.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Doctor entity;
                ApplicationUser entity;
                DoctorVisitFieldConfig entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Doctor instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Doctor);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Doctor.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Doctor)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor")]: 
                                {
                                    return 
                                    {
                                        Doctor instance;
                                        instance = new Doctor();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<AvgVisitDurationMinutes>k__BackingField = dataReader.GetInt32(1);
                                        instance.<Bio>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                        instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                        instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                        instance.<IsEnabled>k__BackingField = dataReader.GetBoolean(6);
                                        instance.<Name>k__BackingField = dataReader.GetString(7);
                                        instance.<Phone>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<PhotoUrl>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Specialty>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                        instance.<TenantId>k__BackingField = dataReader.GetGuid(11);
                                        instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(12);
                                        instance.<UrgentCaseMode>k__BackingField = Invoke(((EnumToNumberConverter<UrgentCaseMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Doctor.UrgentCaseMode (UrgentCaseMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindProperty("UrgentCaseMode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(13));
                                        instance.<UserId>k__BackingField = dataReader.GetGuid(14);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Doctor)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    ApplicationUser instance2;
                    InternalEntityEntry entry2;
                    bool hasNullKey2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(ApplicationUser);
                    entry2 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: ApplicationUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(15) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey2);
                    !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                    {
                        entityType2 = entry2.EntityType;
                        return instance2 = (ApplicationUser)entry2.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]: 
                                {
                                    return 
                                    {
                                        ApplicationUser instance;
                                        instance = new ApplicationUser();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(15);
                                        instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(16);
                                        instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                        instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(18);
                                        instance.<DisplayName>k__BackingField = dataReader.GetString(19);
                                        instance.<Email>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                        instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                        instance.<IsActive>k__BackingField = dataReader.GetBoolean(22);
                                        instance.<LastLoginAt>k__BackingField = dataReader.IsDBNull(23) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(23);
                                        instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(24);
                                        instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(25) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(25);
                                        instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                        instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                        instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(28) ? default(string) : dataReader.GetString(28);
                                        instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(29) ? default(string) : dataReader.GetString(29);
                                        instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(30);
                                        instance.<RefreshToken>k__BackingField = dataReader.IsDBNull(31) ? default(string) : dataReader.GetString(31);
                                        instance.<RefreshTokenExpiry>k__BackingField = dataReader.IsDBNull(32) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(32);
                                        instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                        instance.<TenantId>k__BackingField = dataReader.IsDBNull(34) ? default(Guid?) : (Guid?)dataReader.GetGuid(34);
                                        instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(35);
                                        instance.<UserName>k__BackingField = dataReader.IsDBNull(36) ? default(string) : dataReader.GetString(36);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ApplicationUser)
                        }
                        ;
                        entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType2, 
                            entity: instance2, 
                            snapshot: shadowSnapshot2);
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                entity = 
                {
                    MaterializationContext materializationContext4;
                    IEntityType entityType4;
                    DoctorVisitFieldConfig instance4;
                    InternalEntityEntry entry4;
                    bool hasNullKey4;
                    materializationContext4 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance4 = default(DoctorVisitFieldConfig);
                    entry4 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: DoctorVisitFieldConfig.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorVisitFieldConfig").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(37) ? default(object) : (object)dataReader.GetGuid(37) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey4);
                    !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                    {
                        entityType4 = entry4.EntityType;
                        return instance4 = (DoctorVisitFieldConfig)entry4.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot4;
                        shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType4 = [LIFTABLE Constant: EntityType: DoctorVisitFieldConfig | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorVisitFieldConfig")];
                        instance4 = switch (entityType4)
                        {
                            case [LIFTABLE Constant: EntityType: DoctorVisitFieldConfig | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorVisitFieldConfig")]: 
                                {
                                    return 
                                    {
                                        DoctorVisitFieldConfig instance;
                                        instance = new DoctorVisitFieldConfig();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(37) ? default(Guid) : dataReader.GetGuid(37);
                                        instance.<BMI>k__BackingField = dataReader.IsDBNull(49) ? default(bool) : dataReader.GetBoolean(49);
                                        instance.<BloodPressure>k__BackingField = dataReader.IsDBNull(50) ? default(bool) : dataReader.GetBoolean(50);
                                        instance.<BloodSugar>k__BackingField = dataReader.IsDBNull(51) ? default(bool) : dataReader.GetBoolean(51);
                                        instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(52) ? default(DateTime) : dataReader.GetDateTime(52);
                                        instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(53) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(53);
                                        instance.<DoctorId>k__BackingField = dataReader.IsDBNull(54) ? default(Guid) : dataReader.GetGuid(54);
                                        instance.<HeartRate>k__BackingField = dataReader.IsDBNull(55) ? default(bool) : dataReader.GetBoolean(55);
                                        instance.<Height>k__BackingField = dataReader.IsDBNull(56) ? default(bool) : dataReader.GetBoolean(56);
                                        instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(57) ? default(bool) : dataReader.GetBoolean(57);
                                        instance.<OxygenSaturation>k__BackingField = dataReader.IsDBNull(58) ? default(bool) : dataReader.GetBoolean(58);
                                        instance.<RespiratoryRate>k__BackingField = dataReader.IsDBNull(59) ? default(bool) : dataReader.GetBoolean(59);
                                        instance.<Temperature>k__BackingField = dataReader.IsDBNull(60) ? default(bool) : dataReader.GetBoolean(60);
                                        instance.<TenantId>k__BackingField = dataReader.IsDBNull(61) ? default(Guid) : dataReader.GetGuid(61);
                                        instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(62) ? default(DateTime) : dataReader.GetDateTime(62);
                                        instance.<Weight>k__BackingField = dataReader.IsDBNull(63) ? default(bool) : dataReader.GetBoolean(63);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext4.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: DoctorVisitFieldConfig | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorVisitFieldConfig")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(DoctorVisitFieldConfig)
                        }
                        ;
                        entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType4, 
                            entity: instance4, 
                            snapshot: shadowSnapshot4);
                        return instance4;
                    } : default(void);
                    return instance4;
                };
                resultContext.Values = new object[]
                { 
                    entity, 
                    entity, 
                    entity 
                };
                ShaperProcessingExpressionVisitor.IncludeReference<Doctor, Doctor, ApplicationUser>(
                    queryContext: queryContext, 
                    entity: (Doctor)(resultContext.Values[0]), 
                    relatedEntity: (ApplicationUser)(resultContext.Values[1]), 
                    navigation: [LIFTABLE Constant: Navigation: Doctor.User (ApplicationUser) ToPrincipal ApplicationUser | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindNavigation("User")], 
                    inverseNavigation: default(INavigation), 
                    fixup: (namelessParameter{11}, namelessParameter{12}) => 
                    {
                        return namelessParameter{11}.<User>k__BackingField = namelessParameter{12};
                    }, 
                    trackingQuery: True);
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Doctor, Doctor>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Doctor)(resultContext.Values[0]), 
                    parentIdentifier: (queryContext, dataReader) => new object[]
                    { 
                        (object)(Guid?)dataReader.GetGuid(0), 
                        (object)(Guid?)dataReader.GetGuid(15), 
                        (object)dataReader.IsDBNull(37) ? default(Guid?) : (Guid?)dataReader.GetGuid(37) 
                    }, 
                    outerIdentifier: (queryContext, dataReader) => new object[]
                    { 
                        (object)(Guid?)dataReader.GetGuid(0), 
                        (object)(Guid?)dataReader.GetGuid(15), 
                        (object)dataReader.IsDBNull(37) ? default(Guid?) : (Guid?)dataReader.GetGuid(37) 
                    }, 
                    navigation: [LIFTABLE Constant: Navigation: Doctor.Services (ICollection<DoctorService>) Collection ToDependent DoctorService Inverse: Doctor | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindNavigation("Services")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Doctor, ICollection<DoctorService>, DoctorService> | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindNavigation("Services").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
                ShaperProcessingExpressionVisitor.IncludeReference<Doctor, Doctor, DoctorVisitFieldConfig>(
                    queryContext: queryContext, 
                    entity: (Doctor)(resultContext.Values[0]), 
                    relatedEntity: (DoctorVisitFieldConfig)(resultContext.Values[2]), 
                    navigation: [LIFTABLE Constant: Navigation: Doctor.VisitFieldConfig (DoctorVisitFieldConfig) ToDependent DoctorVisitFieldConfig Inverse: Doctor | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindNavigation("VisitFieldConfig")], 
                    inverseNavigation: [LIFTABLE Constant: Navigation: DoctorVisitFieldConfig.Doctor (Doctor) ToPrincipal Doctor Inverse: VisitFieldConfig | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorVisitFieldConfig").FindNavigation("Doctor")], 
                    fixup: (namelessParameter{17}, namelessParameter{18}) => 
                    {
                        namelessParameter{17}.<VisitFieldConfig>k__BackingField = namelessParameter{18};
                        return namelessParameter{18}.<Doctor>k__BackingField = namelessParameter{17};
                    }, 
                    trackingQuery: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Doctor, DoctorService>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: (queryContext, dataReader) => new object[]
                { 
                    (object)(Guid?)dataReader.GetGuid(0), 
                    (object)(Guid?)dataReader.GetGuid(15), 
                    (object)dataReader.IsDBNull(37) ? default(Guid?) : (Guid?)dataReader.GetGuid(37) 
                }, 
                outerIdentifier: (queryContext, dataReader) => new object[]
                { 
                    (object)(Guid?)dataReader.GetGuid(0), 
                    (object)(Guid?)dataReader.GetGuid(15), 
                    (object)dataReader.IsDBNull(37) ? default(Guid?) : (Guid?)dataReader.GetGuid(37) 
                }, 
                selfIdentifier: (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(38) ? default(Guid?) : (Guid?)dataReader.GetGuid(38) }, 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) 
                }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) 
                }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    DoctorService entity;
                    entity = 
                    {
                        MaterializationContext materializationContext3;
                        IEntityType entityType3;
                        DoctorService instance3;
                        InternalEntityEntry entry3;
                        bool hasNullKey3;
                        materializationContext3 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance3 = default(DoctorService);
                        entry3 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: DoctorService.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorService").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(38) ? default(object) : (object)dataReader.GetGuid(38) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey3);
                        !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                        {
                            entityType3 = entry3.EntityType;
                            return instance3 = (DoctorService)entry3.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot3;
                            shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType3 = [LIFTABLE Constant: EntityType: DoctorService | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorService")];
                            instance3 = switch (entityType3)
                            {
                                case [LIFTABLE Constant: EntityType: DoctorService | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorService")]: 
                                    {
                                        return 
                                        {
                                            DoctorService instance;
                                            instance = new DoctorService();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(38) ? default(Guid) : dataReader.GetGuid(38);
                                            instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(39) ? default(DateTime) : dataReader.GetDateTime(39);
                                            instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(40) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(40);
                                            instance.<DoctorId>k__BackingField = dataReader.IsDBNull(41) ? default(Guid) : dataReader.GetGuid(41);
                                            instance.<DurationMinutes>k__BackingField = dataReader.IsDBNull(42) ? default(int?) : (int?)dataReader.GetInt32(42);
                                            instance.<IsActive>k__BackingField = dataReader.IsDBNull(43) ? default(bool) : dataReader.GetBoolean(43);
                                            instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(44) ? default(bool) : dataReader.GetBoolean(44);
                                            instance.<Price>k__BackingField = dataReader.IsDBNull(45) ? default(decimal) : dataReader.GetDecimal(45);
                                            instance.<ServiceName>k__BackingField = dataReader.IsDBNull(46) ? default(string) : dataReader.GetString(46);
                                            instance.<TenantId>k__BackingField = dataReader.IsDBNull(47) ? default(Guid) : dataReader.GetGuid(47);
                                            instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(48) ? default(DateTime) : dataReader.GetDateTime(48);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext3.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: DoctorService | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorService")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(DoctorService)
                            }
                            ;
                            entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType3, 
                                entity: instance3, 
                                snapshot: shadowSnapshot3);
                            return instance3;
                        } : default(void);
                        return instance3;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: DoctorService.Doctor (Doctor) ToPrincipal Doctor Inverse: Services | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorService").FindNavigation("Doctor")], 
                fixup: (namelessParameter{23}, namelessParameter{24}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Doctor, ICollection<DoctorService>, DoctorService> | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindNavigation("Services").GetCollectionAccessor()].Add(
                        entity: namelessParameter{23}, 
                        value: namelessParameter{24}, 
                        forMaterialization: True);
                    return namelessParameter{24}.<Doctor>k__BackingField = namelessParameter{23};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Doctor)(resultContext.Values[0]) : default(Doctor);
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True);
}'
2026-02-07 09:23:57.897 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.898 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:57.899 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:57.899 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:57.900 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:57.901 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d0].[Id], [d0].[AvgVisitDurationMinutes], [d0].[Bio], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[IsDeleted], [d0].[IsEnabled], [d0].[Name], [d0].[Phone], [d0].[PhotoUrl], [d0].[Specialty], [d0].[TenantId], [d0].[UpdatedAt], [d0].[UrgentCaseMode], [d0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName], [d2].[Id], [d4].[Id], [d4].[CreatedAt], [d4].[DeletedAt], [d4].[DoctorId], [d4].[DurationMinutes], [d4].[IsActive], [d4].[IsDeleted], [d4].[Price], [d4].[ServiceName], [d4].[TenantId], [d4].[UpdatedAt], [d2].[BMI], [d2].[BloodPressure], [d2].[BloodSugar], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[HeartRate], [d2].[Height], [d2].[IsDeleted], [d2].[OxygenSaturation], [d2].[RespiratoryRate], [d2].[Temperature], [d2].[TenantId], [d2].[UpdatedAt], [d2].[Weight]
FROM (
    SELECT [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId]
    FROM [Doctors] AS [d]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[TenantId] = @__tenantId_0
    ORDER BY [d].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [d0]
INNER JOIN [AspNetUsers] AS [a] ON [d0].[UserId] = [a].[Id]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt], [d1].[DeletedAt], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId], [d1].[UpdatedAt], [d1].[Weight]
    FROM [DoctorVisitFieldConfigs] AS [d1]
    WHERE [d1].[IsDeleted] = CAST(0 AS bit) AND [d1].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [d2] ON [d0].[Id] = [d2].[DoctorId]
LEFT JOIN (
    SELECT [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt]
    FROM [DoctorServices] AS [d3]
    WHERE [d3].[IsDeleted] = CAST(0 AS bit) AND [d3].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d3].[IsDeleted] = CAST(0 AS bit)
) AS [d4] ON [d0].[Id] = [d4].[DoctorId]
ORDER BY [d0].[CreatedAt] DESC, [d0].[Id], [a].[Id], [d2].[Id]
2026-02-07 09:23:58.020 +02:00 [INF] Executed DbCommand (119ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d0].[Id], [d0].[AvgVisitDurationMinutes], [d0].[Bio], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[IsDeleted], [d0].[IsEnabled], [d0].[Name], [d0].[Phone], [d0].[PhotoUrl], [d0].[Specialty], [d0].[TenantId], [d0].[UpdatedAt], [d0].[UrgentCaseMode], [d0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName], [d2].[Id], [d4].[Id], [d4].[CreatedAt], [d4].[DeletedAt], [d4].[DoctorId], [d4].[DurationMinutes], [d4].[IsActive], [d4].[IsDeleted], [d4].[Price], [d4].[ServiceName], [d4].[TenantId], [d4].[UpdatedAt], [d2].[BMI], [d2].[BloodPressure], [d2].[BloodSugar], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[HeartRate], [d2].[Height], [d2].[IsDeleted], [d2].[OxygenSaturation], [d2].[RespiratoryRate], [d2].[Temperature], [d2].[TenantId], [d2].[UpdatedAt], [d2].[Weight]
FROM (
    SELECT [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId]
    FROM [Doctors] AS [d]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[TenantId] = @__tenantId_0
    ORDER BY [d].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [d0]
INNER JOIN [AspNetUsers] AS [a] ON [d0].[UserId] = [a].[Id]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt], [d1].[DeletedAt], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId], [d1].[UpdatedAt], [d1].[Weight]
    FROM [DoctorVisitFieldConfigs] AS [d1]
    WHERE [d1].[IsDeleted] = CAST(0 AS bit) AND [d1].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [d2] ON [d0].[Id] = [d2].[DoctorId]
LEFT JOIN (
    SELECT [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt]
    FROM [DoctorServices] AS [d3]
    WHERE [d3].[IsDeleted] = CAST(0 AS bit) AND [d3].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d3].[IsDeleted] = CAST(0 AS bit)
) AS [d4] ON [d0].[Id] = [d4].[DoctorId]
ORDER BY [d0].[CreatedAt] DESC, [d0].[Id], [a].[Id], [d2].[Id]
2026-02-07 09:23:58.025 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.026 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.027 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.028 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.029 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.033 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.034 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.035 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.036 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.037 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.043 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.063 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.064 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.065 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.065 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.066 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.067 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.067 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.068 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.069 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.070 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.070 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.071 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.072 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.073 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.076 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.077 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.079 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.080 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.081 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.083 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.084 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.084 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.085 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.086 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.087 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.088 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.089 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.090 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.091 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.092 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.093 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.094 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.095 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.096 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.097 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.099 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.101 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.102 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.105 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.106 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.107 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.109 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.110 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.112 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.113 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.116 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.118 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.119 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.119 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 95ms reading results.
2026-02-07 09:23:58.120 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.121 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:58.123 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:58.124 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:58.125 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:58.125 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:58.126 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:58.126 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Common.Models.PagedResult`1[[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:58.133 +02:00 [INF] Executed action EliteClinic.Api.Controllers.DoctorsController.GetAllDoctors (EliteClinic.Api) in 434.5354ms
2026-02-07 09:23:58.134 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetAllDoctors (EliteClinic.Api)'
2026-02-07 09:23:58.135 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:58.136 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:58.137 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.138 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:23:58.139 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/doctors - 200 null application/json; charset=utf-8 591.9398ms
2026-02-07 09:23:58.154 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f - application/json null
2026-02-07 09:23:58.156 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f'
2026-02-07 09:23:58.157 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetDoctorById (EliteClinic.Api)' with route pattern 'api/clinic/doctors/{id:guid}' is valid for the request path '/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f'
2026-02-07 09:23:58.158 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetDoctorById (EliteClinic.Api)'
2026-02-07 09:23:58.160 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:58.162 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:58.163 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:58.164 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:58.165 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.166 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.167 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:58.168 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:58.169 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:58.170 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:58.314 +02:00 [INF] Executed DbCommand (144ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:58.317 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.318 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:23:58.319 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.320 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:58.322 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:58.323 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:58.324 +02:00 [DBG] Authorization was successful.
2026-02-07 09:23:58.325 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetDoctorById (EliteClinic.Api)'
2026-02-07 09:23:58.331 +02:00 [INF] Route matched with {action = "GetDoctorById", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto]]] GetDoctorById(System.Guid) on controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api).
2026-02-07 09:23:58.332 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:58.333 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:58.335 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:58.336 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:58.337 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:58.338 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:23:58.340 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:23:58.341 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:23:58.341 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:23:58.342 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:58.343 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:58.343 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:23:58.345 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:58.350 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.352 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.353 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:58.355 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:58.356 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:23:58.357 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AvgVisitDurationMinutes], [s].[Bio], [s].[CreatedAt], [s].[DeletedAt], [s].[IsDeleted], [s].[IsEnabled], [s].[Name], [s].[Phone], [s].[PhotoUrl], [s].[Specialty], [s].[TenantId], [s].[UpdatedAt], [s].[UrgentCaseMode], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [s].[Id1], [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt], [s].[BMI], [s].[BloodPressure], [s].[BloodSugar], [s].[CreatedAt1], [s].[DeletedAt0], [s].[DoctorId], [s].[HeartRate], [s].[Height], [s].[IsDeleted0], [s].[OxygenSaturation], [s].[RespiratoryRate], [s].[Temperature], [s].[TenantId1], [s].[UpdatedAt0], [s].[Weight]
FROM (
    SELECT TOP(1) [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName], [d1].[Id] AS [Id1], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt] AS [CreatedAt1], [d1].[DeletedAt] AS [DeletedAt0], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted] AS [IsDeleted0], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId] AS [TenantId1], [d1].[UpdatedAt] AS [UpdatedAt0], [d1].[Weight]
    FROM [Doctors] AS [d]
    INNER JOIN [AspNetUsers] AS [a] ON [d].[UserId] = [a].[Id]
    LEFT JOIN (
        SELECT [d0].[Id], [d0].[BMI], [d0].[BloodPressure], [d0].[BloodSugar], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[DoctorId], [d0].[HeartRate], [d0].[Height], [d0].[IsDeleted], [d0].[OxygenSaturation], [d0].[RespiratoryRate], [d0].[Temperature], [d0].[TenantId], [d0].[UpdatedAt], [d0].[Weight]
        FROM [DoctorVisitFieldConfigs] AS [d0]
        WHERE [d0].[IsDeleted] = CAST(0 AS bit) AND [d0].[TenantId] = @__ef_filter__CurrentTenantId_0
    ) AS [d1] ON [d].[Id] = [d1].[DoctorId]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[Id] = @__id_0 AND [d].[TenantId] = @__tenantId_1 AND [d].[IsDeleted] = CAST(0 AS bit)
) AS [s]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[DurationMinutes], [d2].[IsActive], [d2].[IsDeleted], [d2].[Price], [d2].[ServiceName], [d2].[TenantId], [d2].[UpdatedAt]
    FROM [DoctorServices] AS [d2]
    WHERE [d2].[IsDeleted] = CAST(0 AS bit) AND [d2].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d2].[IsDeleted] = CAST(0 AS bit)
) AS [d3] ON [s].[Id] = [d3].[DoctorId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1]
2026-02-07 09:23:58.489 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AvgVisitDurationMinutes], [s].[Bio], [s].[CreatedAt], [s].[DeletedAt], [s].[IsDeleted], [s].[IsEnabled], [s].[Name], [s].[Phone], [s].[PhotoUrl], [s].[Specialty], [s].[TenantId], [s].[UpdatedAt], [s].[UrgentCaseMode], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [s].[Id1], [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt], [s].[BMI], [s].[BloodPressure], [s].[BloodSugar], [s].[CreatedAt1], [s].[DeletedAt0], [s].[DoctorId], [s].[HeartRate], [s].[Height], [s].[IsDeleted0], [s].[OxygenSaturation], [s].[RespiratoryRate], [s].[Temperature], [s].[TenantId1], [s].[UpdatedAt0], [s].[Weight]
FROM (
    SELECT TOP(1) [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName], [d1].[Id] AS [Id1], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt] AS [CreatedAt1], [d1].[DeletedAt] AS [DeletedAt0], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted] AS [IsDeleted0], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId] AS [TenantId1], [d1].[UpdatedAt] AS [UpdatedAt0], [d1].[Weight]
    FROM [Doctors] AS [d]
    INNER JOIN [AspNetUsers] AS [a] ON [d].[UserId] = [a].[Id]
    LEFT JOIN (
        SELECT [d0].[Id], [d0].[BMI], [d0].[BloodPressure], [d0].[BloodSugar], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[DoctorId], [d0].[HeartRate], [d0].[Height], [d0].[IsDeleted], [d0].[OxygenSaturation], [d0].[RespiratoryRate], [d0].[Temperature], [d0].[TenantId], [d0].[UpdatedAt], [d0].[Weight]
        FROM [DoctorVisitFieldConfigs] AS [d0]
        WHERE [d0].[IsDeleted] = CAST(0 AS bit) AND [d0].[TenantId] = @__ef_filter__CurrentTenantId_0
    ) AS [d1] ON [d].[Id] = [d1].[DoctorId]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[Id] = @__id_0 AND [d].[TenantId] = @__tenantId_1 AND [d].[IsDeleted] = CAST(0 AS bit)
) AS [s]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[DurationMinutes], [d2].[IsActive], [d2].[IsDeleted], [d2].[Price], [d2].[ServiceName], [d2].[TenantId], [d2].[UpdatedAt]
    FROM [DoctorServices] AS [d2]
    WHERE [d2].[IsDeleted] = CAST(0 AS bit) AND [d2].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d2].[IsDeleted] = CAST(0 AS bit)
) AS [d3] ON [s].[Id] = [d3].[DoctorId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1]
2026-02-07 09:23:58.494 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.496 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.498 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.501 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.502 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:58.503 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.504 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 10ms reading results.
2026-02-07 09:23:58.506 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.506 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:58.508 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:58.510 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:58.511 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:58.511 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:58.512 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:58.514 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:58.516 +02:00 [INF] Executed action EliteClinic.Api.Controllers.DoctorsController.GetDoctorById (EliteClinic.Api) in 178.1064ms
2026-02-07 09:23:58.517 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetDoctorById (EliteClinic.Api)'
2026-02-07 09:23:58.518 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:58.520 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:58.521 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.522 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:23:58.524 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f - 200 null application/json; charset=utf-8 369.296ms
2026-02-07 09:23:58.531 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5094/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f - application/json 73
2026-02-07 09:23:58.532 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f'
2026-02-07 09:23:58.533 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.DoctorsController.UpdateDoctor (EliteClinic.Api)' with route pattern 'api/clinic/doctors/{id:guid}' is valid for the request path '/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f'
2026-02-07 09:23:58.535 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.DoctorsController.UpdateDoctor (EliteClinic.Api)'
2026-02-07 09:23:58.535 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:58.536 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:58.538 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:58.539 +02:00 [DBG] Created DbConnection. (1ms).
2026-02-07 09:23:58.540 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.541 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.542 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:58.543 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:58.543 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:58.544 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:58.879 +02:00 [INF] Executed DbCommand (335ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:23:58.881 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.882 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:58.882 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.883 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:58.884 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:23:58.884 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:23:58.885 +02:00 [DBG] Authorization was successful.
2026-02-07 09:23:58.886 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.DoctorsController.UpdateDoctor (EliteClinic.Api)'
2026-02-07 09:23:58.889 +02:00 [INF] Route matched with {action = "UpdateDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto]]] UpdateDoctor(System.Guid, EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorRequest) on controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api).
2026-02-07 09:23:58.891 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:23:58.891 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:23:58.892 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:23:58.895 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:23:58.896 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:23:58.897 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:23:58.898 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:23:58.900 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:23:58.901 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:23:58.903 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:58.903 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:58.905 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:23:58.906 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:23:58.907 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorRequest' ...
2026-02-07 09:23:58.909 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorRequest' using the name '' in request data ...
2026-02-07 09:23:58.910 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:23:58.911 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000016": started reading request body.
2026-02-07 09:23:58.912 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000016": done reading request body.
2026-02-07 09:23:58.914 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorRequest'
2026-02-07 09:23:58.915 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorRequest'.
2026-02-07 09:23:58.916 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorRequest'.
2026-02-07 09:23:58.917 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorRequest' ...
2026-02-07 09:23:58.919 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorRequest'.
2026-02-07 09:23:58.922 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.923 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:58.924 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:58.924 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:58.925 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:58.925 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AvgVisitDurationMinutes], [s].[Bio], [s].[CreatedAt], [s].[DeletedAt], [s].[IsDeleted], [s].[IsEnabled], [s].[Name], [s].[Phone], [s].[PhotoUrl], [s].[Specialty], [s].[TenantId], [s].[UpdatedAt], [s].[UrgentCaseMode], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [s].[Id1], [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt], [s].[BMI], [s].[BloodPressure], [s].[BloodSugar], [s].[CreatedAt1], [s].[DeletedAt0], [s].[DoctorId], [s].[HeartRate], [s].[Height], [s].[IsDeleted0], [s].[OxygenSaturation], [s].[RespiratoryRate], [s].[Temperature], [s].[TenantId1], [s].[UpdatedAt0], [s].[Weight]
FROM (
    SELECT TOP(1) [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName], [d1].[Id] AS [Id1], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt] AS [CreatedAt1], [d1].[DeletedAt] AS [DeletedAt0], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted] AS [IsDeleted0], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId] AS [TenantId1], [d1].[UpdatedAt] AS [UpdatedAt0], [d1].[Weight]
    FROM [Doctors] AS [d]
    INNER JOIN [AspNetUsers] AS [a] ON [d].[UserId] = [a].[Id]
    LEFT JOIN (
        SELECT [d0].[Id], [d0].[BMI], [d0].[BloodPressure], [d0].[BloodSugar], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[DoctorId], [d0].[HeartRate], [d0].[Height], [d0].[IsDeleted], [d0].[OxygenSaturation], [d0].[RespiratoryRate], [d0].[Temperature], [d0].[TenantId], [d0].[UpdatedAt], [d0].[Weight]
        FROM [DoctorVisitFieldConfigs] AS [d0]
        WHERE [d0].[IsDeleted] = CAST(0 AS bit) AND [d0].[TenantId] = @__ef_filter__CurrentTenantId_0
    ) AS [d1] ON [d].[Id] = [d1].[DoctorId]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[Id] = @__id_0 AND [d].[TenantId] = @__tenantId_1 AND [d].[IsDeleted] = CAST(0 AS bit)
) AS [s]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[DurationMinutes], [d2].[IsActive], [d2].[IsDeleted], [d2].[Price], [d2].[ServiceName], [d2].[TenantId], [d2].[UpdatedAt]
    FROM [DoctorServices] AS [d2]
    WHERE [d2].[IsDeleted] = CAST(0 AS bit) AND [d2].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d2].[IsDeleted] = CAST(0 AS bit)
) AS [d3] ON [s].[Id] = [d3].[DoctorId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1]
2026-02-07 09:23:59.060 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AvgVisitDurationMinutes], [s].[Bio], [s].[CreatedAt], [s].[DeletedAt], [s].[IsDeleted], [s].[IsEnabled], [s].[Name], [s].[Phone], [s].[PhotoUrl], [s].[Specialty], [s].[TenantId], [s].[UpdatedAt], [s].[UrgentCaseMode], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [s].[Id1], [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt], [s].[BMI], [s].[BloodPressure], [s].[BloodSugar], [s].[CreatedAt1], [s].[DeletedAt0], [s].[DoctorId], [s].[HeartRate], [s].[Height], [s].[IsDeleted0], [s].[OxygenSaturation], [s].[RespiratoryRate], [s].[Temperature], [s].[TenantId1], [s].[UpdatedAt0], [s].[Weight]
FROM (
    SELECT TOP(1) [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName], [d1].[Id] AS [Id1], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt] AS [CreatedAt1], [d1].[DeletedAt] AS [DeletedAt0], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted] AS [IsDeleted0], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId] AS [TenantId1], [d1].[UpdatedAt] AS [UpdatedAt0], [d1].[Weight]
    FROM [Doctors] AS [d]
    INNER JOIN [AspNetUsers] AS [a] ON [d].[UserId] = [a].[Id]
    LEFT JOIN (
        SELECT [d0].[Id], [d0].[BMI], [d0].[BloodPressure], [d0].[BloodSugar], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[DoctorId], [d0].[HeartRate], [d0].[Height], [d0].[IsDeleted], [d0].[OxygenSaturation], [d0].[RespiratoryRate], [d0].[Temperature], [d0].[TenantId], [d0].[UpdatedAt], [d0].[Weight]
        FROM [DoctorVisitFieldConfigs] AS [d0]
        WHERE [d0].[IsDeleted] = CAST(0 AS bit) AND [d0].[TenantId] = @__ef_filter__CurrentTenantId_0
    ) AS [d1] ON [d].[Id] = [d1].[DoctorId]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[Id] = @__id_0 AND [d].[TenantId] = @__tenantId_1 AND [d].[IsDeleted] = CAST(0 AS bit)
) AS [s]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[DurationMinutes], [d2].[IsActive], [d2].[IsDeleted], [d2].[Price], [d2].[ServiceName], [d2].[TenantId], [d2].[UpdatedAt]
    FROM [DoctorServices] AS [d2]
    WHERE [d2].[IsDeleted] = CAST(0 AS bit) AND [d2].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d2].[IsDeleted] = CAST(0 AS bit)
) AS [d3] ON [s].[Id] = [d3].[DoctorId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1]
2026-02-07 09:23:59.063 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:59.063 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:59.064 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:59.065 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:59.067 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:59.068 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:59.069 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 6ms reading results.
2026-02-07 09:23:59.069 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:59.070 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:59.071 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:59.071 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:59.072 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:59.072 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:59.073 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:59.073 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:59.360 +02:00 [INF] Executed DbCommand (286ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:23:59.361 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:59.362 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:59.363 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:59.364 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:23:59.365 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:59.365 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:59.366 +02:00 [DBG] The unchanged property 'Doctor.AvgVisitDurationMinutes' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:59.367 +02:00 [DBG] An entity of type 'Doctor' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:59.368 +02:00 [DBG] The unchanged property 'Doctor.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:59.369 +02:00 [DBG] The unchanged property 'Doctor.Phone' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:59.370 +02:00 [DBG] The unchanged property 'Doctor.Specialty' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:59.371 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:59.374 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:59.375 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:59.376 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:59.376 +02:00 [DBG] The unchanged property 'Doctor.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:23:59.377 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:59.378 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:23:59.379 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:59.379 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:59.380 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:23:59.679 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:23:59.681 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:59.681 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:59.682 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:59.683 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p42='?' (DbType = Guid), @p37='?' (DbType = Int32), @p38='?' (Size = 200), @p39='?' (Size = 20), @p40='?' (Size = 100), @p41='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
UPDATE [Doctors] SET [AvgVisitDurationMinutes] = @p37, [Name] = @p38, [Phone] = @p39, [Specialty] = @p40, [UpdatedAt] = @p41
OUTPUT 1
WHERE [Id] = @p42;
2026-02-07 09:23:59.809 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p42='?' (DbType = Guid), @p37='?' (DbType = Int32), @p38='?' (Size = 200), @p39='?' (Size = 20), @p40='?' (Size = 100), @p41='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
UPDATE [Doctors] SET [AvgVisitDurationMinutes] = @p37, [Name] = @p38, [Phone] = @p39, [Specialty] = @p40, [UpdatedAt] = @p41
OUTPUT 1
WHERE [Id] = @p42;
2026-02-07 09:23:59.812 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:59.812 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:23:59.813 +02:00 [DBG] Committing transaction.
2026-02-07 09:23:59.950 +02:00 [DBG] Committed transaction.
2026-02-07 09:23:59.951 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:59.952 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:23:59.954 +02:00 [DBG] Disposing transaction.
2026-02-07 09:23:59.956 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:59.959 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:59.961 +02:00 [DBG] An entity of type 'Doctor' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:23:59.963 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:23:59.965 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:59.966 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:59.966 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:59.967 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:23:59.967 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:23:59.968 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 0 entities written to the database.
2026-02-07 09:23:59.969 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:23:59.970 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:23:59.971 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:23:59.971 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:23:59.971 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:23:59.972 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:23:59.973 +02:00 [INF] Executed action EliteClinic.Api.Controllers.DoctorsController.UpdateDoctor (EliteClinic.Api) in 1075.7034ms
2026-02-07 09:23:59.974 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.DoctorsController.UpdateDoctor (EliteClinic.Api)'
2026-02-07 09:23:59.974 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:23:59.975 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:23:59.976 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:59.976 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:23:59.977 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5094/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f - 200 null application/json; charset=utf-8 1446.8115ms
2026-02-07 09:23:59.983 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5094/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/services - application/json 169
2026-02-07 09:23:59.984 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/services'
2026-02-07 09:23:59.985 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.DoctorsController.UpdateServices (EliteClinic.Api)' with route pattern 'api/clinic/doctors/{id:guid}/services' is valid for the request path '/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/services'
2026-02-07 09:23:59.986 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.DoctorsController.UpdateServices (EliteClinic.Api)'
2026-02-07 09:23:59.986 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:23:59.988 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:23:59.989 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:23:59.990 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:23:59.991 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:59.992 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:23:59.993 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:23:59.993 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:23:59.994 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:23:59.995 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:00.121 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:00.124 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.125 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:00.127 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.128 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:00.129 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:00.130 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:00.132 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:00.132 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.DoctorsController.UpdateServices (EliteClinic.Api)'
2026-02-07 09:24:00.140 +02:00 [INF] Route matched with {action = "UpdateServices", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[System.Collections.Generic.List`1[EliteClinic.Application.Features.Clinic.DTOs.DoctorServiceDto]]]] UpdateServices(System.Guid, EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorServicesRequest) on controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api).
2026-02-07 09:24:00.141 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:00.143 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:00.144 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:00.146 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:00.147 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:00.148 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:24:00.149 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:24:00.151 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:00.152 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:24:00.153 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:00.154 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:00.155 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:00.156 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:00.157 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorServicesRequest' ...
2026-02-07 09:24:00.159 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorServicesRequest' using the name '' in request data ...
2026-02-07 09:24:00.161 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:00.165 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000017": started reading request body.
2026-02-07 09:24:00.166 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000017": done reading request body.
2026-02-07 09:24:00.170 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorServicesRequest'
2026-02-07 09:24:00.171 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorServicesRequest'.
2026-02-07 09:24:00.172 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorServicesRequest'.
2026-02-07 09:24:00.173 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorServicesRequest' ...
2026-02-07 09:24:00.177 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateDoctorServicesRequest'.
2026-02-07 09:24:00.180 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .Include(d => d.Services
        .Where(s => !(s.IsDeleted)))
    .FirstOrDefault(d => d.Id == __doctorId_0 && d.TenantId == __tenantId_1 && !(d.IsDeleted))'
2026-02-07 09:24:00.182 +02:00 [DBG] Including navigation: 'Doctor.Services'.
2026-02-07 09:24:00.186 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Doctor>(
        asyncEnumerable: SingleQueryingEnumerable.Create<Doctor>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Doctor.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Doctor.AvgVisitDurationMinutes (int) Required, 1], [Property: Doctor.Bio (string), 2], [Property: Doctor.CreatedAt (DateTime) Required, 3], [Property: Doctor.DeletedAt (DateTime?), 4], [Property: Doctor.IsDeleted (bool) Required, 5], [Property: Doctor.IsEnabled (bool) Required, 6], [Property: Doctor.Name (string) Required MaxLength(200), 7], [Property: Doctor.Phone (string) MaxLength(20), 8], [Property: Doctor.PhotoUrl (string), 9], [Property: Doctor.Specialty (string) MaxLength(100), 10], [Property: Doctor.TenantId (Guid) Required, 11], [Property: Doctor.UpdatedAt (DateTime) Required, 12], [Property: Doctor.UrgentCaseMode (UrgentCaseMode) Required, 13], [Property: Doctor.UserId (Guid) Required FK Index, 14] }
                    1 -> 0
                    2 -> Dictionary<IProperty, int> { [Property: DoctorService.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: DoctorService.CreatedAt (DateTime) Required, 16], [Property: DoctorService.DeletedAt (DateTime?), 17], [Property: DoctorService.DoctorId (Guid) Required FK Index, 18], [Property: DoctorService.DurationMinutes (int?), 19], [Property: DoctorService.IsActive (bool) Required, 20], [Property: DoctorService.IsDeleted (bool) Required, 21], [Property: DoctorService.Price (decimal) Required, 22], [Property: DoctorService.ServiceName (string) Required MaxLength(200), 23], [Property: DoctorService.TenantId (Guid) Required, 24], [Property: DoctorService.UpdatedAt (DateTime) Required, 25] }
                    3 -> 15
                SELECT d1.Id, d1.AvgVisitDurationMinutes, d1.Bio, d1.CreatedAt, d1.DeletedAt, d1.IsDeleted, d1.IsEnabled, d1.Name, d1.Phone, d1.PhotoUrl, d1.Specialty, d1.TenantId, d1.UpdatedAt, d1.UrgentCaseMode, d1.UserId, d2.Id, d2.CreatedAt, d2.DeletedAt, d2.DoctorId, d2.DurationMinutes, d2.IsActive, d2.IsDeleted, d2.Price, d2.ServiceName, d2.TenantId, d2.UpdatedAt
                FROM 
                (
                    SELECT TOP(1) d.Id, d.AvgVisitDurationMinutes, d.Bio, d.CreatedAt, d.DeletedAt, d.IsDeleted, d.IsEnabled, d.Name, d.Phone, d.PhotoUrl, d.Specialty, d.TenantId, d.UpdatedAt, d.UrgentCaseMode, d.UserId
                    FROM Doctors AS d
                    WHERE (Not(d.IsDeleted) && (d.TenantId == @__ef_filter__CurrentTenantId_0)) && (((d.Id == @__doctorId_0) && (d.TenantId == @__tenantId_1)) && Not(d.IsDeleted))
                ) AS d1
                LEFT JOIN 
                (
                    SELECT d0.Id, d0.CreatedAt, d0.DeletedAt, d0.DoctorId, d0.DurationMinutes, d0.IsActive, d0.IsDeleted, d0.Price, d0.ServiceName, d0.TenantId, d0.UpdatedAt
                    FROM DoctorServices AS d0
                    WHERE (Not(d0.IsDeleted) && (d0.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(d0.IsDeleted)
                ) AS d2 ON d1.Id == d2.DoctorId
                ORDER BY d1.Id ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Doctor.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Doctor.AvgVisitDurationMinutes (int) Required, 1], [Property: Doctor.Bio (string), 2], [Property: Doctor.CreatedAt (DateTime) Required, 3], [Property: Doctor.DeletedAt (DateTime?), 4], [Property: Doctor.IsDeleted (bool) Required, 5], [Property: Doctor.IsEnabled (bool) Required, 6], [Property: Doctor.Name (string) Required MaxLength(200), 7], [Property: Doctor.Phone (string) MaxLength(20), 8], [Property: Doctor.PhotoUrl (string), 9], [Property: Doctor.Specialty (string) MaxLength(100), 10], [Property: Doctor.TenantId (Guid) Required, 11], [Property: Doctor.UpdatedAt (DateTime) Required, 12], [Property: Doctor.UrgentCaseMode (UrgentCaseMode) Required, 13], [Property: Doctor.UserId (Guid) Required FK Index, 14] }
                    1 -> 0
                    2 -> Dictionary<IProperty, int> { [Property: DoctorService.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: DoctorService.CreatedAt (DateTime) Required, 16], [Property: DoctorService.DeletedAt (DateTime?), 17], [Property: DoctorService.DoctorId (Guid) Required FK Index, 18], [Property: DoctorService.DurationMinutes (int?), 19], [Property: DoctorService.IsActive (bool) Required, 20], [Property: DoctorService.IsDeleted (bool) Required, 21], [Property: DoctorService.Price (decimal) Required, 22], [Property: DoctorService.ServiceName (string) Required MaxLength(200), 23], [Property: DoctorService.TenantId (Guid) Required, 24], [Property: DoctorService.UpdatedAt (DateTime) Required, 25] }
                    3 -> 15
                SELECT d1.Id, d1.AvgVisitDurationMinutes, d1.Bio, d1.CreatedAt, d1.DeletedAt, d1.IsDeleted, d1.IsEnabled, d1.Name, d1.Phone, d1.PhotoUrl, d1.Specialty, d1.TenantId, d1.UpdatedAt, d1.UrgentCaseMode, d1.UserId, d2.Id, d2.CreatedAt, d2.DeletedAt, d2.DoctorId, d2.DurationMinutes, d2.IsActive, d2.IsDeleted, d2.Price, d2.ServiceName, d2.TenantId, d2.UpdatedAt
                FROM 
                (
                    SELECT TOP(1) d.Id, d.AvgVisitDurationMinutes, d.Bio, d.CreatedAt, d.DeletedAt, d.IsDeleted, d.IsEnabled, d.Name, d.Phone, d.PhotoUrl, d.Specialty, d.TenantId, d.UpdatedAt, d.UrgentCaseMode, d.UserId
                    FROM Doctors AS d
                    WHERE (Not(d.IsDeleted) && (d.TenantId == @__ef_filter__CurrentTenantId_0)) && (((d.Id == @__doctorId_0) && (d.TenantId == @__tenantId_1)) && Not(d.IsDeleted))
                ) AS d1
                LEFT JOIN 
                (
                    SELECT d0.Id, d0.CreatedAt, d0.DeletedAt, d0.DoctorId, d0.DurationMinutes, d0.IsActive, d0.IsDeleted, d0.Price, d0.ServiceName, d0.TenantId, d0.UpdatedAt
                    FROM DoctorServices AS d0
                    WHERE (Not(d0.IsDeleted) && (d0.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(d0.IsDeleted)
                ) AS d2 ON d1.Id == d2.DoctorId
                ORDER BY d1.Id ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                resultContext.Values == null ? 
                {
                    Doctor entity;
                    entity = 
                    {
                        MaterializationContext materializationContext1;
                        IEntityType entityType1;
                        Doctor instance1;
                        InternalEntityEntry entry1;
                        bool hasNullKey1;
                        materializationContext1 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance1 = default(Doctor);
                        entry1 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Doctor.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindPrimaryKey()], 
                            keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                            throwOnNullKey: True, 
                            hasNullKey: hasNullKey1);
                        !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                        {
                            entityType1 = entry1.EntityType;
                            return instance1 = (Doctor)entry1.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot1;
                            shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType1 = [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor")];
                            instance1 = switch (entityType1)
                            {
                                case [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor")]: 
                                    {
                                        return 
                                        {
                                            Doctor instance;
                                            instance = new Doctor();
                                            instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                            instance.<AvgVisitDurationMinutes>k__BackingField = dataReader.GetInt32(1);
                                            instance.<Bio>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                            instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                            instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                            instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                            instance.<IsEnabled>k__BackingField = dataReader.GetBoolean(6);
                                            instance.<Name>k__BackingField = dataReader.GetString(7);
                                            instance.<Phone>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                            instance.<PhotoUrl>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<Specialty>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                            instance.<TenantId>k__BackingField = dataReader.GetGuid(11);
                                            instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(12);
                                            instance.<UrgentCaseMode>k__BackingField = Invoke(((EnumToNumberConverter<UrgentCaseMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Doctor.UrgentCaseMode (UrgentCaseMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindProperty("UrgentCaseMode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(13));
                                            instance.<UserId>k__BackingField = dataReader.GetGuid(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext1.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Doctor)
                            }
                            ;
                            entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType1, 
                                entity: instance1, 
                                snapshot: shadowSnapshot1);
                            return instance1;
                        } : default(void);
                        return instance1;
                    };
                    resultContext.Values = new object[]{ entity };
                    ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Doctor, Doctor>(
                        collectionId: 0, 
                        queryContext: queryContext, 
                        dbDataReader: dataReader, 
                        resultCoordinator: resultCoordinator, 
                        entity: (Doctor)(resultContext.Values[0]), 
                        parentIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                        outerIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                        navigation: [LIFTABLE Constant: Navigation: Doctor.Services (ICollection<DoctorService>) Collection ToDependent DoctorService Inverse: Doctor | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindNavigation("Services")], 
                        clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Doctor, ICollection<DoctorService>, DoctorService> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindNavigation("Services").GetCollectionAccessor()], 
                        trackingQuery: True, 
                        setLoaded: True);
                } : default(void);
                ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Doctor, DoctorService>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                    outerIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                    selfIdentifier: (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(15) ? default(Guid?) : (Guid?)dataReader.GetGuid(15) }, 
                    parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                    {
                        DoctorService entity;
                        entity = 
                        {
                            MaterializationContext materializationContext2;
                            IEntityType entityType2;
                            DoctorService instance2;
                            InternalEntityEntry entry2;
                            bool hasNullKey2;
                            materializationContext2 = new MaterializationContext(
                                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                                queryContext.Context
                            );
                            instance2 = default(DoctorService);
                            entry2 = queryContext.TryGetEntry(
                                key: [LIFTABLE Constant: Key: DoctorService.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorService").FindPrimaryKey()], 
                                keyValues: new object[]{ dataReader.IsDBNull(15) ? default(object) : (object)dataReader.GetGuid(15) }, 
                                throwOnNullKey: False, 
                                hasNullKey: hasNullKey2);
                            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                            {
                                entityType2 = entry2.EntityType;
                                return instance2 = (DoctorService)entry2.Entity;
                            } : 
                            {
                                ISnapshot shadowSnapshot2;
                                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                                entityType2 = [LIFTABLE Constant: EntityType: DoctorService | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorService")];
                                instance2 = switch (entityType2)
                                {
                                    case [LIFTABLE Constant: EntityType: DoctorService | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorService")]: 
                                        {
                                            return 
                                            {
                                                DoctorService instance;
                                                instance = new DoctorService();
                                                instance.<Id>k__BackingField = dataReader.IsDBNull(15) ? default(Guid) : dataReader.GetGuid(15);
                                                instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(16) ? default(DateTime) : dataReader.GetDateTime(16);
                                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(17) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(17);
                                                instance.<DoctorId>k__BackingField = dataReader.IsDBNull(18) ? default(Guid) : dataReader.GetGuid(18);
                                                instance.<DurationMinutes>k__BackingField = dataReader.IsDBNull(19) ? default(int?) : (int?)dataReader.GetInt32(19);
                                                instance.<IsActive>k__BackingField = dataReader.IsDBNull(20) ? default(bool) : dataReader.GetBoolean(20);
                                                instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(21) ? default(bool) : dataReader.GetBoolean(21);
                                                instance.<Price>k__BackingField = dataReader.IsDBNull(22) ? default(decimal) : dataReader.GetDecimal(22);
                                                instance.<ServiceName>k__BackingField = dataReader.IsDBNull(23) ? default(string) : dataReader.GetString(23);
                                                instance.<TenantId>k__BackingField = dataReader.IsDBNull(24) ? default(Guid) : dataReader.GetGuid(24);
                                                instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(25) ? default(DateTime) : dataReader.GetDateTime(25);
                                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                    context: materializationContext2.Context, 
                                                    entity: instance, 
                                                    queryTrackingBehavior: TrackAll, 
                                                    structuralType: [LIFTABLE Constant: EntityType: DoctorService | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorService")]) : default(void);
                                                return instance;
                                            }}
                                    default: 
                                        default(DoctorService)
                                }
                                ;
                                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                    entityType: entityType2, 
                                    entity: instance2, 
                                    snapshot: shadowSnapshot2);
                                return instance2;
                            } : default(void);
                            return instance2;
                        };
                        return entity;
                    }, 
                    inverseNavigation: [LIFTABLE Constant: Navigation: DoctorService.Doctor (Doctor) ToPrincipal Doctor Inverse: Services | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorService").FindNavigation("Doctor")], 
                    fixup: (namelessParameter{10}, namelessParameter{11}) => 
                    {
                        [LIFTABLE Constant: ClrICollectionAccessor<Doctor, ICollection<DoctorService>, DoctorService> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindNavigation("Services").GetCollectionAccessor()].Add(
                            entity: namelessParameter{10}, 
                            value: namelessParameter{11}, 
                            forMaterialization: True);
                        return namelessParameter{11}.<Doctor>k__BackingField = namelessParameter{10};
                    }, 
                    trackingQuery: True);
                return IsTrue(resultCoordinator.ResultReady)
                 ? (Doctor)(resultContext.Values[0]) : default(Doctor);
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:24:00.196 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.197 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.198 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:00.198 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:00.199 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:00.200 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__doctorId_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d1].[Id], [d1].[AvgVisitDurationMinutes], [d1].[Bio], [d1].[CreatedAt], [d1].[DeletedAt], [d1].[IsDeleted], [d1].[IsEnabled], [d1].[Name], [d1].[Phone], [d1].[PhotoUrl], [d1].[Specialty], [d1].[TenantId], [d1].[UpdatedAt], [d1].[UrgentCaseMode], [d1].[UserId], [d2].[Id], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[DurationMinutes], [d2].[IsActive], [d2].[IsDeleted], [d2].[Price], [d2].[ServiceName], [d2].[TenantId], [d2].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId]
    FROM [Doctors] AS [d]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[Id] = @__doctorId_0 AND [d].[TenantId] = @__tenantId_1 AND [d].[IsDeleted] = CAST(0 AS bit)
) AS [d1]
LEFT JOIN (
    SELECT [d0].[Id], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[DoctorId], [d0].[DurationMinutes], [d0].[IsActive], [d0].[IsDeleted], [d0].[Price], [d0].[ServiceName], [d0].[TenantId], [d0].[UpdatedAt]
    FROM [DoctorServices] AS [d0]
    WHERE [d0].[IsDeleted] = CAST(0 AS bit) AND [d0].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d0].[IsDeleted] = CAST(0 AS bit)
) AS [d2] ON [d1].[Id] = [d2].[DoctorId]
ORDER BY [d1].[Id]
2026-02-07 09:24:00.300 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__doctorId_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d1].[Id], [d1].[AvgVisitDurationMinutes], [d1].[Bio], [d1].[CreatedAt], [d1].[DeletedAt], [d1].[IsDeleted], [d1].[IsEnabled], [d1].[Name], [d1].[Phone], [d1].[PhotoUrl], [d1].[Specialty], [d1].[TenantId], [d1].[UpdatedAt], [d1].[UrgentCaseMode], [d1].[UserId], [d2].[Id], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[DurationMinutes], [d2].[IsActive], [d2].[IsDeleted], [d2].[Price], [d2].[ServiceName], [d2].[TenantId], [d2].[UpdatedAt]
FROM (
    SELECT TOP(1) [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId]
    FROM [Doctors] AS [d]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[Id] = @__doctorId_0 AND [d].[TenantId] = @__tenantId_1 AND [d].[IsDeleted] = CAST(0 AS bit)
) AS [d1]
LEFT JOIN (
    SELECT [d0].[Id], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[DoctorId], [d0].[DurationMinutes], [d0].[IsActive], [d0].[IsDeleted], [d0].[Price], [d0].[ServiceName], [d0].[TenantId], [d0].[UpdatedAt]
    FROM [DoctorServices] AS [d0]
    WHERE [d0].[IsDeleted] = CAST(0 AS bit) AND [d0].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d0].[IsDeleted] = CAST(0 AS bit)
) AS [d2] ON [d1].[Id] = [d2].[DoctorId]
ORDER BY [d1].[Id]
2026-02-07 09:24:00.303 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:00.308 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.309 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 6ms reading results.
2026-02-07 09:24:00.310 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.311 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:00.314 +02:00 [DBG] The navigation 'DoctorService.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:00.314 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:00.315 +02:00 [DBG] The navigation 'DoctorService.Doctor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:00.316 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:00.316 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:00.323 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:00.326 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:00.327 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:00.328 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:00.328 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:00.329 +02:00 [DBG] The unchanged property 'DoctorService.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:00.329 +02:00 [DBG] The unchanged property 'DoctorService.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:00.330 +02:00 [DBG] The unchanged property 'DoctorService.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:00.331 +02:00 [DBG] The unchanged property 'DoctorService.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:00.332 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:00.333 +02:00 [DBG] Executing 4 update commands as a batch.
2026-02-07 09:24:00.334 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.335 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.335 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:24:00.460 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:24:00.462 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:00.462 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:00.463 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:00.464 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?' (DbType = DateTime2), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Guid), @p32='?' (DbType = Int32), @p33='?' (DbType = Boolean), @p34='?' (DbType = Boolean), @p35='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p36='?' (Size = 200), @p37='?' (DbType = Guid), @p38='?' (DbType = DateTime2), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Guid), @p43='?' (DbType = Int32), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p47='?' (Size = 200), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
INSERT INTO [DoctorServices] ([Id], [CreatedAt], [DeletedAt], [DoctorId], [DurationMinutes], [IsActive], [IsDeleted], [Price], [ServiceName], [TenantId], [UpdatedAt])
VALUES (@p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38),
(@p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49);
2026-02-07 09:24:00.589 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Guid), @p28='?' (DbType = Guid), @p29='?' (DbType = DateTime2), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Guid), @p32='?' (DbType = Int32), @p33='?' (DbType = Boolean), @p34='?' (DbType = Boolean), @p35='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p36='?' (Size = 200), @p37='?' (DbType = Guid), @p38='?' (DbType = DateTime2), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime2), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Guid), @p43='?' (DbType = Int32), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p47='?' (Size = 200), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
INSERT INTO [DoctorServices] ([Id], [CreatedAt], [DeletedAt], [DoctorId], [DurationMinutes], [IsActive], [IsDeleted], [Price], [ServiceName], [TenantId], [UpdatedAt])
VALUES (@p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38),
(@p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49);
2026-02-07 09:24:00.591 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.592 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:00.593 +02:00 [DBG] Committing transaction.
2026-02-07 09:24:00.709 +02:00 [DBG] Committed transaction.
2026-02-07 09:24:00.710 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.710 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:00.711 +02:00 [DBG] Disposing transaction.
2026-02-07 09:24:00.712 +02:00 [DBG] An entity of type 'DoctorService' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:00.713 +02:00 [DBG] An entity of type 'DoctorService' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:00.714 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:00.715 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:00.716 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 4 entities written to the database.
2026-02-07 09:24:00.720 +02:00 [DBG] Compiling query expression: 
'DbSet<DoctorService>()
    .Where(s => s.DoctorId == __doctorId_0 && !(s.IsDeleted))
    .Select(s => new DoctorServiceDto{ 
        Id = s.Id, 
        ServiceName = s.ServiceName, 
        Price = s.Price, 
        DurationMinutes = s.DurationMinutes, 
        IsActive = s.IsActive 
    }
    )'
2026-02-07 09:24:00.724 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return SingleQueryingEnumerable.Create<DoctorServiceDto>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                Id -> 0
                ServiceName -> 1
                Price -> 2
                DurationMinutes -> 3
                IsActive -> 4
            SELECT d.Id, d.ServiceName, d.Price, d.DurationMinutes, d.IsActive
            FROM DoctorServices AS d
            WHERE (Not(d.IsDeleted) && (d.TenantId == @__ef_filter__CurrentTenantId_0)) && ((d.DoctorId == @__doctorId_0) && Not(d.IsDeleted))) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                Id -> 0
                ServiceName -> 1
                Price -> 2
                DurationMinutes -> 3
                IsActive -> 4
            SELECT d.Id, d.ServiceName, d.Price, d.DurationMinutes, d.IsActive
            FROM DoctorServices AS d
            WHERE (Not(d.IsDeleted) && (d.TenantId == @__ef_filter__CurrentTenantId_0)) && ((d.DoctorId == @__doctorId_0) && Not(d.IsDeleted)), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Guid? value1;
            string value2;
            decimal? value3;
            int? value4;
            bool? value5;
            value1 = (Guid?)dataReader.GetGuid(0);
            value2 = dataReader.GetString(1);
            value3 = (decimal?)dataReader.GetDecimal(2);
            value4 = dataReader.IsDBNull(3) ? default(int?) : (int?)dataReader.GetInt32(3);
            value5 = (bool?)dataReader.GetBoolean(4);
            return new DoctorServiceDto{ 
                Id = (Guid)value1, 
                ServiceName = value2, 
                Price = (decimal)value3, 
                DurationMinutes = value4, 
                IsActive = (bool)value5 
            }
            ;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True);
}'
2026-02-07 09:24:00.727 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.728 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.729 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:00.730 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:00.731 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:00.732 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__doctorId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ServiceName], [d].[Price], [d].[DurationMinutes], [d].[IsActive]
FROM [DoctorServices] AS [d]
WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[DoctorId] = @__doctorId_0 AND [d].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:00.870 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__doctorId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[ServiceName], [d].[Price], [d].[DurationMinutes], [d].[IsActive]
FROM [DoctorServices] AS [d]
WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[DoctorId] = @__doctorId_0 AND [d].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:00.872 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.872 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:00.873 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.874 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:00.875 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:00.876 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:00.877 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:00.877 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:00.878 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:00.878 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[System.Collections.Generic.List`1[[EliteClinic.Application.Features.Clinic.DTOs.DoctorServiceDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-07 09:24:00.880 +02:00 [INF] Executed action EliteClinic.Api.Controllers.DoctorsController.UpdateServices (EliteClinic.Api) in 732.0812ms
2026-02-07 09:24:00.881 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.DoctorsController.UpdateServices (EliteClinic.Api)'
2026-02-07 09:24:00.882 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:00.883 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:00.883 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.884 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:00.885 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5094/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/services - 200 null application/json; charset=utf-8 901.9216ms
2026-02-07 09:24:00.893 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5094/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/visit-fields - application/json 167
2026-02-07 09:24:00.896 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/visit-fields'
2026-02-07 09:24:00.897 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.DoctorsController.UpdateVisitFields (EliteClinic.Api)' with route pattern 'api/clinic/doctors/{id:guid}/visit-fields' is valid for the request path '/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/visit-fields'
2026-02-07 09:24:00.898 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.DoctorsController.UpdateVisitFields (EliteClinic.Api)'
2026-02-07 09:24:00.898 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:00.899 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:00.901 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:00.902 +02:00 [DBG] Created DbConnection. (1ms).
2026-02-07 09:24:00.903 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.904 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:00.905 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:00.906 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:00.907 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:00.908 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:01.051 +02:00 [INF] Executed DbCommand (143ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:01.053 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.054 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:01.055 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.056 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:01.057 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:01.057 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:01.058 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:01.058 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.DoctorsController.UpdateVisitFields (EliteClinic.Api)'
2026-02-07 09:24:01.062 +02:00 [INF] Route matched with {action = "UpdateVisitFields", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.DoctorVisitFieldConfigDto]]] UpdateVisitFields(System.Guid, EliteClinic.Application.Features.Clinic.DTOs.UpdateVisitFieldsRequest) on controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api).
2026-02-07 09:24:01.063 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:01.064 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:01.064 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:01.065 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:01.066 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:01.067 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:24:01.068 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:24:01.068 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:01.069 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:24:01.070 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:01.071 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:01.071 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:01.072 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:01.073 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateVisitFieldsRequest' ...
2026-02-07 09:24:01.074 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateVisitFieldsRequest' using the name '' in request data ...
2026-02-07 09:24:01.075 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:01.076 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000018": started reading request body.
2026-02-07 09:24:01.076 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000018": done reading request body.
2026-02-07 09:24:01.079 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateVisitFieldsRequest'
2026-02-07 09:24:01.079 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateVisitFieldsRequest'.
2026-02-07 09:24:01.080 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateVisitFieldsRequest'.
2026-02-07 09:24:01.081 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateVisitFieldsRequest' ...
2026-02-07 09:24:01.082 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdateVisitFieldsRequest'.
2026-02-07 09:24:01.086 +02:00 [DBG] Compiling query expression: 
'DbSet<Doctor>()
    .Include(d => d.VisitFieldConfig)
    .FirstOrDefault(d => d.Id == __doctorId_0 && d.TenantId == __tenantId_1 && !(d.IsDeleted))'
2026-02-07 09:24:01.087 +02:00 [DBG] Including navigation: 'Doctor.VisitFieldConfig'.
2026-02-07 09:24:01.091 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Doctor>(
        asyncEnumerable: SingleQueryingEnumerable.Create<Doctor>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Doctor.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Doctor.AvgVisitDurationMinutes (int) Required, 1], [Property: Doctor.Bio (string), 2], [Property: Doctor.CreatedAt (DateTime) Required, 3], [Property: Doctor.DeletedAt (DateTime?), 4], [Property: Doctor.IsDeleted (bool) Required, 5], [Property: Doctor.IsEnabled (bool) Required, 6], [Property: Doctor.Name (string) Required MaxLength(200), 7], [Property: Doctor.Phone (string) MaxLength(20), 8], [Property: Doctor.PhotoUrl (string), 9], [Property: Doctor.Specialty (string) MaxLength(100), 10], [Property: Doctor.TenantId (Guid) Required, 11], [Property: Doctor.UpdatedAt (DateTime) Required, 12], [Property: Doctor.UrgentCaseMode (UrgentCaseMode) Required, 13], [Property: Doctor.UserId (Guid) Required FK Index, 14] }
                    1 -> Dictionary<IProperty, int> { [Property: DoctorVisitFieldConfig.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: DoctorVisitFieldConfig.BMI (bool) Required, 16], [Property: DoctorVisitFieldConfig.BloodPressure (bool) Required, 17], [Property: DoctorVisitFieldConfig.BloodSugar (bool) Required, 18], [Property: DoctorVisitFieldConfig.CreatedAt (DateTime) Required, 19], [Property: DoctorVisitFieldConfig.DeletedAt (DateTime?), 20], [Property: DoctorVisitFieldConfig.DoctorId (Guid) Required FK Index, 21], [Property: DoctorVisitFieldConfig.HeartRate (bool) Required, 22], [Property: DoctorVisitFieldConfig.Height (bool) Required, 23], [Property: DoctorVisitFieldConfig.IsDeleted (bool) Required, 24], [Property: DoctorVisitFieldConfig.OxygenSaturation (bool) Required, 25], [Property: DoctorVisitFieldConfig.RespiratoryRate (bool) Required, 26], [Property: DoctorVisitFieldConfig.Temperature (bool) Required, 27], [Property: DoctorVisitFieldConfig.TenantId (Guid) Required, 28], [Property: DoctorVisitFieldConfig.UpdatedAt (DateTime) Required, 29], [Property: DoctorVisitFieldConfig.Weight (bool) Required, 30] }
                SELECT TOP(1) d.Id, d.AvgVisitDurationMinutes, d.Bio, d.CreatedAt, d.DeletedAt, d.IsDeleted, d.IsEnabled, d.Name, d.Phone, d.PhotoUrl, d.Specialty, d.TenantId, d.UpdatedAt, d.UrgentCaseMode, d.UserId, d1.Id, d1.BMI, d1.BloodPressure, d1.BloodSugar, d1.CreatedAt, d1.DeletedAt, d1.DoctorId, d1.HeartRate, d1.Height, d1.IsDeleted, d1.OxygenSaturation, d1.RespiratoryRate, d1.Temperature, d1.TenantId, d1.UpdatedAt, d1.Weight
                FROM Doctors AS d
                LEFT JOIN 
                (
                    SELECT d0.Id, d0.BMI, d0.BloodPressure, d0.BloodSugar, d0.CreatedAt, d0.DeletedAt, d0.DoctorId, d0.HeartRate, d0.Height, d0.IsDeleted, d0.OxygenSaturation, d0.RespiratoryRate, d0.Temperature, d0.TenantId, d0.UpdatedAt, d0.Weight
                    FROM DoctorVisitFieldConfigs AS d0
                    WHERE Not(d0.IsDeleted) && (d0.TenantId == @__ef_filter__CurrentTenantId_0)
                ) AS d1 ON d.Id == d1.DoctorId
                WHERE (Not(d.IsDeleted) && (d.TenantId == @__ef_filter__CurrentTenantId_0)) && (((d.Id == @__doctorId_0) && (d.TenantId == @__tenantId_1)) && Not(d.IsDeleted))) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Doctor.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Doctor.AvgVisitDurationMinutes (int) Required, 1], [Property: Doctor.Bio (string), 2], [Property: Doctor.CreatedAt (DateTime) Required, 3], [Property: Doctor.DeletedAt (DateTime?), 4], [Property: Doctor.IsDeleted (bool) Required, 5], [Property: Doctor.IsEnabled (bool) Required, 6], [Property: Doctor.Name (string) Required MaxLength(200), 7], [Property: Doctor.Phone (string) MaxLength(20), 8], [Property: Doctor.PhotoUrl (string), 9], [Property: Doctor.Specialty (string) MaxLength(100), 10], [Property: Doctor.TenantId (Guid) Required, 11], [Property: Doctor.UpdatedAt (DateTime) Required, 12], [Property: Doctor.UrgentCaseMode (UrgentCaseMode) Required, 13], [Property: Doctor.UserId (Guid) Required FK Index, 14] }
                    1 -> Dictionary<IProperty, int> { [Property: DoctorVisitFieldConfig.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: DoctorVisitFieldConfig.BMI (bool) Required, 16], [Property: DoctorVisitFieldConfig.BloodPressure (bool) Required, 17], [Property: DoctorVisitFieldConfig.BloodSugar (bool) Required, 18], [Property: DoctorVisitFieldConfig.CreatedAt (DateTime) Required, 19], [Property: DoctorVisitFieldConfig.DeletedAt (DateTime?), 20], [Property: DoctorVisitFieldConfig.DoctorId (Guid) Required FK Index, 21], [Property: DoctorVisitFieldConfig.HeartRate (bool) Required, 22], [Property: DoctorVisitFieldConfig.Height (bool) Required, 23], [Property: DoctorVisitFieldConfig.IsDeleted (bool) Required, 24], [Property: DoctorVisitFieldConfig.OxygenSaturation (bool) Required, 25], [Property: DoctorVisitFieldConfig.RespiratoryRate (bool) Required, 26], [Property: DoctorVisitFieldConfig.Temperature (bool) Required, 27], [Property: DoctorVisitFieldConfig.TenantId (Guid) Required, 28], [Property: DoctorVisitFieldConfig.UpdatedAt (DateTime) Required, 29], [Property: DoctorVisitFieldConfig.Weight (bool) Required, 30] }
                SELECT TOP(1) d.Id, d.AvgVisitDurationMinutes, d.Bio, d.CreatedAt, d.DeletedAt, d.IsDeleted, d.IsEnabled, d.Name, d.Phone, d.PhotoUrl, d.Specialty, d.TenantId, d.UpdatedAt, d.UrgentCaseMode, d.UserId, d1.Id, d1.BMI, d1.BloodPressure, d1.BloodSugar, d1.CreatedAt, d1.DeletedAt, d1.DoctorId, d1.HeartRate, d1.Height, d1.IsDeleted, d1.OxygenSaturation, d1.RespiratoryRate, d1.Temperature, d1.TenantId, d1.UpdatedAt, d1.Weight
                FROM Doctors AS d
                LEFT JOIN 
                (
                    SELECT d0.Id, d0.BMI, d0.BloodPressure, d0.BloodSugar, d0.CreatedAt, d0.DeletedAt, d0.DoctorId, d0.HeartRate, d0.Height, d0.IsDeleted, d0.OxygenSaturation, d0.RespiratoryRate, d0.Temperature, d0.TenantId, d0.UpdatedAt, d0.Weight
                    FROM DoctorVisitFieldConfigs AS d0
                    WHERE Not(d0.IsDeleted) && (d0.TenantId == @__ef_filter__CurrentTenantId_0)
                ) AS d1 ON d.Id == d1.DoctorId
                WHERE (Not(d.IsDeleted) && (d.TenantId == @__ef_filter__CurrentTenantId_0)) && (((d.Id == @__doctorId_0) && (d.TenantId == @__tenantId_1)) && Not(d.IsDeleted)), 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Doctor entity;
                DoctorVisitFieldConfig entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Doctor instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Doctor);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Doctor.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Doctor)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor")]: 
                                {
                                    return 
                                    {
                                        Doctor instance;
                                        instance = new Doctor();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<AvgVisitDurationMinutes>k__BackingField = dataReader.GetInt32(1);
                                        instance.<Bio>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                        instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                        instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                        instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                        instance.<IsEnabled>k__BackingField = dataReader.GetBoolean(6);
                                        instance.<Name>k__BackingField = dataReader.GetString(7);
                                        instance.<Phone>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<PhotoUrl>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<Specialty>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                        instance.<TenantId>k__BackingField = dataReader.GetGuid(11);
                                        instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(12);
                                        instance.<UrgentCaseMode>k__BackingField = Invoke(((EnumToNumberConverter<UrgentCaseMode, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Doctor.UrgentCaseMode (UrgentCaseMode) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindProperty("UrgentCaseMode")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(13));
                                        instance.<UserId>k__BackingField = dataReader.GetGuid(14);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Doctor | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Doctor)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    DoctorVisitFieldConfig instance2;
                    InternalEntityEntry entry2;
                    bool hasNullKey2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(DoctorVisitFieldConfig);
                    entry2 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: DoctorVisitFieldConfig.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorVisitFieldConfig").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(15) ? default(object) : (object)dataReader.GetGuid(15) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey2);
                    !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                    {
                        entityType2 = entry2.EntityType;
                        return instance2 = (DoctorVisitFieldConfig)entry2.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: DoctorVisitFieldConfig | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorVisitFieldConfig")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: DoctorVisitFieldConfig | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorVisitFieldConfig")]: 
                                {
                                    return 
                                    {
                                        DoctorVisitFieldConfig instance;
                                        instance = new DoctorVisitFieldConfig();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(15) ? default(Guid) : dataReader.GetGuid(15);
                                        instance.<BMI>k__BackingField = dataReader.IsDBNull(16) ? default(bool) : dataReader.GetBoolean(16);
                                        instance.<BloodPressure>k__BackingField = dataReader.IsDBNull(17) ? default(bool) : dataReader.GetBoolean(17);
                                        instance.<BloodSugar>k__BackingField = dataReader.IsDBNull(18) ? default(bool) : dataReader.GetBoolean(18);
                                        instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(19) ? default(DateTime) : dataReader.GetDateTime(19);
                                        instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(20) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(20);
                                        instance.<DoctorId>k__BackingField = dataReader.IsDBNull(21) ? default(Guid) : dataReader.GetGuid(21);
                                        instance.<HeartRate>k__BackingField = dataReader.IsDBNull(22) ? default(bool) : dataReader.GetBoolean(22);
                                        instance.<Height>k__BackingField = dataReader.IsDBNull(23) ? default(bool) : dataReader.GetBoolean(23);
                                        instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(24) ? default(bool) : dataReader.GetBoolean(24);
                                        instance.<OxygenSaturation>k__BackingField = dataReader.IsDBNull(25) ? default(bool) : dataReader.GetBoolean(25);
                                        instance.<RespiratoryRate>k__BackingField = dataReader.IsDBNull(26) ? default(bool) : dataReader.GetBoolean(26);
                                        instance.<Temperature>k__BackingField = dataReader.IsDBNull(27) ? default(bool) : dataReader.GetBoolean(27);
                                        instance.<TenantId>k__BackingField = dataReader.IsDBNull(28) ? default(Guid) : dataReader.GetGuid(28);
                                        instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(29) ? default(DateTime) : dataReader.GetDateTime(29);
                                        instance.<Weight>k__BackingField = dataReader.IsDBNull(30) ? default(bool) : dataReader.GetBoolean(30);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: DoctorVisitFieldConfig | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorVisitFieldConfig")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(DoctorVisitFieldConfig)
                        }
                        ;
                        entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType2, 
                            entity: instance2, 
                            snapshot: shadowSnapshot2);
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                ShaperProcessingExpressionVisitor.IncludeReference<Doctor, Doctor, DoctorVisitFieldConfig>(
                    queryContext: queryContext, 
                    entity: entity, 
                    relatedEntity: entity, 
                    navigation: [LIFTABLE Constant: Navigation: Doctor.VisitFieldConfig (DoctorVisitFieldConfig) ToDependent DoctorVisitFieldConfig Inverse: Doctor | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Doctor").FindNavigation("VisitFieldConfig")], 
                    inverseNavigation: [LIFTABLE Constant: Navigation: DoctorVisitFieldConfig.Doctor (Doctor) ToPrincipal Doctor Inverse: VisitFieldConfig | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.DoctorVisitFieldConfig").FindNavigation("Doctor")], 
                    fixup: (namelessParameter{9}, namelessParameter{10}) => 
                    {
                        namelessParameter{9}.<VisitFieldConfig>k__BackingField = namelessParameter{10};
                        return namelessParameter{10}.<Doctor>k__BackingField = namelessParameter{9};
                    }, 
                    trackingQuery: True);
                return entity;
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:24:01.100 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.102 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.103 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:01.104 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:01.105 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:01.106 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__doctorId_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId], [d1].[Id], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt], [d1].[DeletedAt], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId], [d1].[UpdatedAt], [d1].[Weight]
FROM [Doctors] AS [d]
LEFT JOIN (
    SELECT [d0].[Id], [d0].[BMI], [d0].[BloodPressure], [d0].[BloodSugar], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[DoctorId], [d0].[HeartRate], [d0].[Height], [d0].[IsDeleted], [d0].[OxygenSaturation], [d0].[RespiratoryRate], [d0].[Temperature], [d0].[TenantId], [d0].[UpdatedAt], [d0].[Weight]
    FROM [DoctorVisitFieldConfigs] AS [d0]
    WHERE [d0].[IsDeleted] = CAST(0 AS bit) AND [d0].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [d1] ON [d].[Id] = [d1].[DoctorId]
WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[Id] = @__doctorId_0 AND [d].[TenantId] = @__tenantId_1 AND [d].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:01.230 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__doctorId_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId], [d1].[Id], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt], [d1].[DeletedAt], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId], [d1].[UpdatedAt], [d1].[Weight]
FROM [Doctors] AS [d]
LEFT JOIN (
    SELECT [d0].[Id], [d0].[BMI], [d0].[BloodPressure], [d0].[BloodSugar], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[DoctorId], [d0].[HeartRate], [d0].[Height], [d0].[IsDeleted], [d0].[OxygenSaturation], [d0].[RespiratoryRate], [d0].[Temperature], [d0].[TenantId], [d0].[UpdatedAt], [d0].[Weight]
    FROM [DoctorVisitFieldConfigs] AS [d0]
    WHERE [d0].[IsDeleted] = CAST(0 AS bit) AND [d0].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [d1] ON [d].[Id] = [d1].[DoctorId]
WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[Id] = @__doctorId_0 AND [d].[TenantId] = @__tenantId_1 AND [d].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:01.232 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:01.233 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:01.234 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:01.235 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.236 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 4ms reading results.
2026-02-07 09:24:01.237 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.237 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:01.238 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:01.239 +02:00 [DBG] The unchanged property 'DoctorVisitFieldConfig.BloodPressure' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:01.240 +02:00 [DBG] An entity of type 'DoctorVisitFieldConfig' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:01.241 +02:00 [DBG] The unchanged property 'DoctorVisitFieldConfig.HeartRate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:01.241 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:01.243 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:01.244 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:01.247 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:01.251 +02:00 [DBG] The unchanged property 'DoctorVisitFieldConfig.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:01.257 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:01.261 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:24:01.264 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.270 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.275 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:24:01.402 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:24:01.403 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:01.405 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:01.406 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:24:01.408 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p17='?' (DbType = Guid), @p14='?' (DbType = Boolean), @p15='?' (DbType = Boolean), @p16='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
UPDATE [DoctorVisitFieldConfigs] SET [BloodPressure] = @p14, [HeartRate] = @p15, [UpdatedAt] = @p16
OUTPUT 1
WHERE [Id] = @p17;
2026-02-07 09:24:01.529 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p17='?' (DbType = Guid), @p14='?' (DbType = Boolean), @p15='?' (DbType = Boolean), @p16='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
UPDATE [DoctorVisitFieldConfigs] SET [BloodPressure] = @p14, [HeartRate] = @p15, [UpdatedAt] = @p16
OUTPUT 1
WHERE [Id] = @p17;
2026-02-07 09:24:01.531 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.531 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:01.532 +02:00 [DBG] Committing transaction.
2026-02-07 09:24:01.659 +02:00 [DBG] Committed transaction.
2026-02-07 09:24:01.660 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.661 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:01.662 +02:00 [DBG] Disposing transaction.
2026-02-07 09:24:01.662 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:01.663 +02:00 [DBG] An entity of type 'DoctorVisitFieldConfig' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:01.664 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:24:01.665 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:01.666 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:01.666 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:01.667 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:01.667 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:01.668 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.DoctorVisitFieldConfigDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:01.669 +02:00 [INF] Executed action EliteClinic.Api.Controllers.DoctorsController.UpdateVisitFields (EliteClinic.Api) in 602.0628ms
2026-02-07 09:24:01.670 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.DoctorsController.UpdateVisitFields (EliteClinic.Api)'
2026-02-07 09:24:01.670 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:01.671 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:01.671 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.672 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:24:01.673 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5094/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/visit-fields - 200 null application/json; charset=utf-8 779.6368ms
2026-02-07 09:24:01.682 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/disable - application/json 0
2026-02-07 09:24:01.683 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/disable'
2026-02-07 09:24:01.684 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.DoctorsController.DisableDoctor (EliteClinic.Api)' with route pattern 'api/clinic/doctors/{id:guid}/disable' is valid for the request path '/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/disable'
2026-02-07 09:24:01.685 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.DoctorsController.DisableDoctor (EliteClinic.Api)'
2026-02-07 09:24:01.686 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:01.687 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:01.688 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:01.689 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:01.689 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.690 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.690 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:01.690 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:01.691 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:01.691 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:01.829 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:01.831 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.832 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:01.833 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.834 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:01.835 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:01.836 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:01.837 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:01.837 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.DoctorsController.DisableDoctor (EliteClinic.Api)'
2026-02-07 09:24:01.841 +02:00 [INF] Route matched with {action = "DisableDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto]]] DisableDoctor(System.Guid) on controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api).
2026-02-07 09:24:01.842 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:01.843 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:01.844 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:01.845 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:01.846 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:01.847 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:24:01.848 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:24:01.849 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:01.850 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:24:01.851 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:01.852 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:01.853 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:01.854 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:01.857 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.858 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:01.858 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:01.859 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:01.860 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:01.860 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AvgVisitDurationMinutes], [s].[Bio], [s].[CreatedAt], [s].[DeletedAt], [s].[IsDeleted], [s].[IsEnabled], [s].[Name], [s].[Phone], [s].[PhotoUrl], [s].[Specialty], [s].[TenantId], [s].[UpdatedAt], [s].[UrgentCaseMode], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [s].[Id1], [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt], [s].[BMI], [s].[BloodPressure], [s].[BloodSugar], [s].[CreatedAt1], [s].[DeletedAt0], [s].[DoctorId], [s].[HeartRate], [s].[Height], [s].[IsDeleted0], [s].[OxygenSaturation], [s].[RespiratoryRate], [s].[Temperature], [s].[TenantId1], [s].[UpdatedAt0], [s].[Weight]
FROM (
    SELECT TOP(1) [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName], [d1].[Id] AS [Id1], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt] AS [CreatedAt1], [d1].[DeletedAt] AS [DeletedAt0], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted] AS [IsDeleted0], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId] AS [TenantId1], [d1].[UpdatedAt] AS [UpdatedAt0], [d1].[Weight]
    FROM [Doctors] AS [d]
    INNER JOIN [AspNetUsers] AS [a] ON [d].[UserId] = [a].[Id]
    LEFT JOIN (
        SELECT [d0].[Id], [d0].[BMI], [d0].[BloodPressure], [d0].[BloodSugar], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[DoctorId], [d0].[HeartRate], [d0].[Height], [d0].[IsDeleted], [d0].[OxygenSaturation], [d0].[RespiratoryRate], [d0].[Temperature], [d0].[TenantId], [d0].[UpdatedAt], [d0].[Weight]
        FROM [DoctorVisitFieldConfigs] AS [d0]
        WHERE [d0].[IsDeleted] = CAST(0 AS bit) AND [d0].[TenantId] = @__ef_filter__CurrentTenantId_0
    ) AS [d1] ON [d].[Id] = [d1].[DoctorId]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[Id] = @__id_0 AND [d].[TenantId] = @__tenantId_1 AND [d].[IsDeleted] = CAST(0 AS bit)
) AS [s]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[DurationMinutes], [d2].[IsActive], [d2].[IsDeleted], [d2].[Price], [d2].[ServiceName], [d2].[TenantId], [d2].[UpdatedAt]
    FROM [DoctorServices] AS [d2]
    WHERE [d2].[IsDeleted] = CAST(0 AS bit) AND [d2].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d2].[IsDeleted] = CAST(0 AS bit)
) AS [d3] ON [s].[Id] = [d3].[DoctorId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1]
2026-02-07 09:24:02.000 +02:00 [INF] Executed DbCommand (139ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AvgVisitDurationMinutes], [s].[Bio], [s].[CreatedAt], [s].[DeletedAt], [s].[IsDeleted], [s].[IsEnabled], [s].[Name], [s].[Phone], [s].[PhotoUrl], [s].[Specialty], [s].[TenantId], [s].[UpdatedAt], [s].[UrgentCaseMode], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [s].[Id1], [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt], [s].[BMI], [s].[BloodPressure], [s].[BloodSugar], [s].[CreatedAt1], [s].[DeletedAt0], [s].[DoctorId], [s].[HeartRate], [s].[Height], [s].[IsDeleted0], [s].[OxygenSaturation], [s].[RespiratoryRate], [s].[Temperature], [s].[TenantId1], [s].[UpdatedAt0], [s].[Weight]
FROM (
    SELECT TOP(1) [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName], [d1].[Id] AS [Id1], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt] AS [CreatedAt1], [d1].[DeletedAt] AS [DeletedAt0], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted] AS [IsDeleted0], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId] AS [TenantId1], [d1].[UpdatedAt] AS [UpdatedAt0], [d1].[Weight]
    FROM [Doctors] AS [d]
    INNER JOIN [AspNetUsers] AS [a] ON [d].[UserId] = [a].[Id]
    LEFT JOIN (
        SELECT [d0].[Id], [d0].[BMI], [d0].[BloodPressure], [d0].[BloodSugar], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[DoctorId], [d0].[HeartRate], [d0].[Height], [d0].[IsDeleted], [d0].[OxygenSaturation], [d0].[RespiratoryRate], [d0].[Temperature], [d0].[TenantId], [d0].[UpdatedAt], [d0].[Weight]
        FROM [DoctorVisitFieldConfigs] AS [d0]
        WHERE [d0].[IsDeleted] = CAST(0 AS bit) AND [d0].[TenantId] = @__ef_filter__CurrentTenantId_0
    ) AS [d1] ON [d].[Id] = [d1].[DoctorId]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[Id] = @__id_0 AND [d].[TenantId] = @__tenantId_1 AND [d].[IsDeleted] = CAST(0 AS bit)
) AS [s]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[DurationMinutes], [d2].[IsActive], [d2].[IsDeleted], [d2].[Price], [d2].[ServiceName], [d2].[TenantId], [d2].[UpdatedAt]
    FROM [DoctorServices] AS [d2]
    WHERE [d2].[IsDeleted] = CAST(0 AS bit) AND [d2].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d2].[IsDeleted] = CAST(0 AS bit)
) AS [d3] ON [s].[Id] = [d3].[DoctorId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1]
2026-02-07 09:24:02.003 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.004 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.005 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.006 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.007 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.008 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.009 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.010 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.010 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 7ms reading results.
2026-02-07 09:24:02.011 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.012 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:02.013 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.013 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.014 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:02.014 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:02.015 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:02.015 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:02.150 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:02.152 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.153 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:02.154 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.156 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:02.157 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.158 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:02.159 +02:00 [DBG] The unchanged property 'Doctor.IsEnabled' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:02.160 +02:00 [DBG] An entity of type 'Doctor' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.161 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:02.162 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.163 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:02.164 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:02.165 +02:00 [DBG] The unchanged property 'Doctor.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:02.166 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:02.167 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:24:02.168 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.169 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.170 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:24:02.289 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:24:02.290 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:02.291 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:02.292 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:02.293 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p39='?' (DbType = Guid), @p37='?' (DbType = Boolean), @p38='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
UPDATE [Doctors] SET [IsEnabled] = @p37, [UpdatedAt] = @p38
OUTPUT 1
WHERE [Id] = @p39;
2026-02-07 09:24:02.400 +02:00 [INF] Executed DbCommand (107ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p39='?' (DbType = Guid), @p37='?' (DbType = Boolean), @p38='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
UPDATE [Doctors] SET [IsEnabled] = @p37, [UpdatedAt] = @p38
OUTPUT 1
WHERE [Id] = @p39;
2026-02-07 09:24:02.403 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.404 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:02.405 +02:00 [DBG] Committing transaction.
2026-02-07 09:24:02.531 +02:00 [DBG] Committed transaction.
2026-02-07 09:24:02.532 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.533 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:02.534 +02:00 [DBG] Disposing transaction.
2026-02-07 09:24:02.535 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.536 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.537 +02:00 [DBG] An entity of type 'Doctor' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.538 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:24:02.538 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:02.539 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:02.540 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:02.540 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:02.541 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:02.542 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 0 entities written to the database.
2026-02-07 09:24:02.542 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:02.543 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:02.544 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:02.544 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:02.545 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:02.545 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:02.546 +02:00 [INF] Executed action EliteClinic.Api.Controllers.DoctorsController.DisableDoctor (EliteClinic.Api) in 699.5045ms
2026-02-07 09:24:02.547 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.DoctorsController.DisableDoctor (EliteClinic.Api)'
2026-02-07 09:24:02.547 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:02.548 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:02.549 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.550 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:02.550 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/disable - 200 null application/json; charset=utf-8 868.3565ms
2026-02-07 09:24:02.561 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/enable - application/json 0
2026-02-07 09:24:02.562 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/enable'
2026-02-07 09:24:02.563 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.DoctorsController.EnableDoctor (EliteClinic.Api)' with route pattern 'api/clinic/doctors/{id:guid}/enable' is valid for the request path '/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/enable'
2026-02-07 09:24:02.564 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.DoctorsController.EnableDoctor (EliteClinic.Api)'
2026-02-07 09:24:02.565 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:02.566 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:02.568 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:02.568 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:02.569 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.570 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.570 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:02.571 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:02.572 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:02.572 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:02.719 +02:00 [INF] Executed DbCommand (147ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:02.721 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.722 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:02.723 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.724 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:02.725 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:02.725 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:02.726 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:02.727 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.DoctorsController.EnableDoctor (EliteClinic.Api)'
2026-02-07 09:24:02.732 +02:00 [INF] Route matched with {action = "EnableDoctor", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto]]] EnableDoctor(System.Guid) on controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api).
2026-02-07 09:24:02.733 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:02.734 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:02.735 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:02.736 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:02.737 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:02.738 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:24:02.738 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:24:02.739 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:02.740 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:24:02.741 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:02.742 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:02.742 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:02.743 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:02.745 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.745 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.746 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:02.746 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:02.747 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:02.748 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AvgVisitDurationMinutes], [s].[Bio], [s].[CreatedAt], [s].[DeletedAt], [s].[IsDeleted], [s].[IsEnabled], [s].[Name], [s].[Phone], [s].[PhotoUrl], [s].[Specialty], [s].[TenantId], [s].[UpdatedAt], [s].[UrgentCaseMode], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [s].[Id1], [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt], [s].[BMI], [s].[BloodPressure], [s].[BloodSugar], [s].[CreatedAt1], [s].[DeletedAt0], [s].[DoctorId], [s].[HeartRate], [s].[Height], [s].[IsDeleted0], [s].[OxygenSaturation], [s].[RespiratoryRate], [s].[Temperature], [s].[TenantId1], [s].[UpdatedAt0], [s].[Weight]
FROM (
    SELECT TOP(1) [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName], [d1].[Id] AS [Id1], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt] AS [CreatedAt1], [d1].[DeletedAt] AS [DeletedAt0], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted] AS [IsDeleted0], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId] AS [TenantId1], [d1].[UpdatedAt] AS [UpdatedAt0], [d1].[Weight]
    FROM [Doctors] AS [d]
    INNER JOIN [AspNetUsers] AS [a] ON [d].[UserId] = [a].[Id]
    LEFT JOIN (
        SELECT [d0].[Id], [d0].[BMI], [d0].[BloodPressure], [d0].[BloodSugar], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[DoctorId], [d0].[HeartRate], [d0].[Height], [d0].[IsDeleted], [d0].[OxygenSaturation], [d0].[RespiratoryRate], [d0].[Temperature], [d0].[TenantId], [d0].[UpdatedAt], [d0].[Weight]
        FROM [DoctorVisitFieldConfigs] AS [d0]
        WHERE [d0].[IsDeleted] = CAST(0 AS bit) AND [d0].[TenantId] = @__ef_filter__CurrentTenantId_0
    ) AS [d1] ON [d].[Id] = [d1].[DoctorId]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[Id] = @__id_0 AND [d].[TenantId] = @__tenantId_1 AND [d].[IsDeleted] = CAST(0 AS bit)
) AS [s]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[DurationMinutes], [d2].[IsActive], [d2].[IsDeleted], [d2].[Price], [d2].[ServiceName], [d2].[TenantId], [d2].[UpdatedAt]
    FROM [DoctorServices] AS [d2]
    WHERE [d2].[IsDeleted] = CAST(0 AS bit) AND [d2].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d2].[IsDeleted] = CAST(0 AS bit)
) AS [d3] ON [s].[Id] = [d3].[DoctorId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1]
2026-02-07 09:24:02.899 +02:00 [INF] Executed DbCommand (151ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AvgVisitDurationMinutes], [s].[Bio], [s].[CreatedAt], [s].[DeletedAt], [s].[IsDeleted], [s].[IsEnabled], [s].[Name], [s].[Phone], [s].[PhotoUrl], [s].[Specialty], [s].[TenantId], [s].[UpdatedAt], [s].[UrgentCaseMode], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [s].[Id1], [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt], [s].[BMI], [s].[BloodPressure], [s].[BloodSugar], [s].[CreatedAt1], [s].[DeletedAt0], [s].[DoctorId], [s].[HeartRate], [s].[Height], [s].[IsDeleted0], [s].[OxygenSaturation], [s].[RespiratoryRate], [s].[Temperature], [s].[TenantId1], [s].[UpdatedAt0], [s].[Weight]
FROM (
    SELECT TOP(1) [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName], [d1].[Id] AS [Id1], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt] AS [CreatedAt1], [d1].[DeletedAt] AS [DeletedAt0], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted] AS [IsDeleted0], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId] AS [TenantId1], [d1].[UpdatedAt] AS [UpdatedAt0], [d1].[Weight]
    FROM [Doctors] AS [d]
    INNER JOIN [AspNetUsers] AS [a] ON [d].[UserId] = [a].[Id]
    LEFT JOIN (
        SELECT [d0].[Id], [d0].[BMI], [d0].[BloodPressure], [d0].[BloodSugar], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[DoctorId], [d0].[HeartRate], [d0].[Height], [d0].[IsDeleted], [d0].[OxygenSaturation], [d0].[RespiratoryRate], [d0].[Temperature], [d0].[TenantId], [d0].[UpdatedAt], [d0].[Weight]
        FROM [DoctorVisitFieldConfigs] AS [d0]
        WHERE [d0].[IsDeleted] = CAST(0 AS bit) AND [d0].[TenantId] = @__ef_filter__CurrentTenantId_0
    ) AS [d1] ON [d].[Id] = [d1].[DoctorId]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[Id] = @__id_0 AND [d].[TenantId] = @__tenantId_1 AND [d].[IsDeleted] = CAST(0 AS bit)
) AS [s]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[DurationMinutes], [d2].[IsActive], [d2].[IsDeleted], [d2].[Price], [d2].[ServiceName], [d2].[TenantId], [d2].[UpdatedAt]
    FROM [DoctorServices] AS [d2]
    WHERE [d2].[IsDeleted] = CAST(0 AS bit) AND [d2].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d2].[IsDeleted] = CAST(0 AS bit)
) AS [d3] ON [s].[Id] = [d3].[DoctorId]
ORDER BY [s].[Id], [s].[Id0], [s].[Id1]
2026-02-07 09:24:02.902 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.904 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.905 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.907 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.908 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.910 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.911 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:02.911 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.912 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 10ms reading results.
2026-02-07 09:24:02.913 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.914 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:02.916 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.916 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:02.917 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:02.918 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:02.919 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:02.919 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:03.043 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:03.045 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.045 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:03.046 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.047 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:03.048 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.050 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:03.051 +02:00 [DBG] The unchanged property 'Doctor.IsEnabled' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:03.052 +02:00 [DBG] An entity of type 'Doctor' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.054 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:03.054 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.055 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:03.056 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:03.057 +02:00 [DBG] The unchanged property 'Doctor.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:03.058 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:03.058 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:24:03.059 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.060 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.061 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:24:03.179 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:24:03.181 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:03.181 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:03.182 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:03.183 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p39='?' (DbType = Guid), @p37='?' (DbType = Boolean), @p38='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
UPDATE [Doctors] SET [IsEnabled] = @p37, [UpdatedAt] = @p38
OUTPUT 1
WHERE [Id] = @p39;
2026-02-07 09:24:03.319 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p39='?' (DbType = Guid), @p37='?' (DbType = Boolean), @p38='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
UPDATE [Doctors] SET [IsEnabled] = @p37, [UpdatedAt] = @p38
OUTPUT 1
WHERE [Id] = @p39;
2026-02-07 09:24:03.321 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.322 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:03.323 +02:00 [DBG] Committing transaction.
2026-02-07 09:24:03.439 +02:00 [DBG] Committed transaction.
2026-02-07 09:24:03.440 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.440 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:03.441 +02:00 [DBG] Disposing transaction.
2026-02-07 09:24:03.441 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.442 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.444 +02:00 [DBG] An entity of type 'Doctor' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.444 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:24:03.445 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:03.446 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:03.446 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:03.446 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:03.447 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:03.447 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 0 entities written to the database.
2026-02-07 09:24:03.448 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:03.449 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:03.450 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:03.450 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:03.451 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:03.452 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:03.453 +02:00 [INF] Executed action EliteClinic.Api.Controllers.DoctorsController.EnableDoctor (EliteClinic.Api) in 715.3063ms
2026-02-07 09:24:03.454 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.DoctorsController.EnableDoctor (EliteClinic.Api)'
2026-02-07 09:24:03.454 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:03.455 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:03.456 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.456 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:03.457 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/clinic/doctors/75dbcf62-0621-4a02-8eb9-d0338efebc9f/enable - 200 null application/json; charset=utf-8 896.6469ms
2026-02-07 09:24:03.464 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/doctors - application/json null
2026-02-07 09:24:03.465 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/doctors'
2026-02-07 09:24:03.466 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetAllDoctors (EliteClinic.Api)' with route pattern 'api/clinic/doctors' is valid for the request path '/api/clinic/doctors'
2026-02-07 09:24:03.467 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetAllDoctors (EliteClinic.Api)'
2026-02-07 09:24:03.467 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:03.468 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:03.469 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:03.469 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:03.470 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.470 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.471 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:03.472 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:03.472 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:03.473 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:03.611 +02:00 [INF] Executed DbCommand (139ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:03.615 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.615 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:03.616 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.617 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:03.618 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:03.618 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:03.619 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:03.619 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetAllDoctors (EliteClinic.Api)'
2026-02-07 09:24:03.620 +02:00 [INF] Route matched with {action = "GetAllDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Common.Models.PagedResult`1[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto]]]] GetAllDoctors(Int32, Int32) on controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api).
2026-02-07 09:24:03.620 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:03.621 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:03.622 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:03.623 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:03.624 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:03.625 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:24:03.626 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:24:03.627 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:03.628 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:03.629 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:03.630 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:03.631 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:03.631 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:03.632 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:03.633 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:03.634 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:03.635 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:03.636 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:03.636 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:03.637 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:03.638 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:03.639 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.640 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.641 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:03.641 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:03.642 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:03.643 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[TenantId] = @__tenantId_0
2026-02-07 09:24:03.769 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[TenantId] = @__tenantId_0
2026-02-07 09:24:03.771 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.771 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:03.772 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.772 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:03.773 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.774 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.776 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:03.777 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:03.779 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:24:03.779 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d0].[Id], [d0].[AvgVisitDurationMinutes], [d0].[Bio], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[IsDeleted], [d0].[IsEnabled], [d0].[Name], [d0].[Phone], [d0].[PhotoUrl], [d0].[Specialty], [d0].[TenantId], [d0].[UpdatedAt], [d0].[UrgentCaseMode], [d0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName], [d2].[Id], [d4].[Id], [d4].[CreatedAt], [d4].[DeletedAt], [d4].[DoctorId], [d4].[DurationMinutes], [d4].[IsActive], [d4].[IsDeleted], [d4].[Price], [d4].[ServiceName], [d4].[TenantId], [d4].[UpdatedAt], [d2].[BMI], [d2].[BloodPressure], [d2].[BloodSugar], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[HeartRate], [d2].[Height], [d2].[IsDeleted], [d2].[OxygenSaturation], [d2].[RespiratoryRate], [d2].[Temperature], [d2].[TenantId], [d2].[UpdatedAt], [d2].[Weight]
FROM (
    SELECT [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId]
    FROM [Doctors] AS [d]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[TenantId] = @__tenantId_0
    ORDER BY [d].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [d0]
INNER JOIN [AspNetUsers] AS [a] ON [d0].[UserId] = [a].[Id]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt], [d1].[DeletedAt], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId], [d1].[UpdatedAt], [d1].[Weight]
    FROM [DoctorVisitFieldConfigs] AS [d1]
    WHERE [d1].[IsDeleted] = CAST(0 AS bit) AND [d1].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [d2] ON [d0].[Id] = [d2].[DoctorId]
LEFT JOIN (
    SELECT [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt]
    FROM [DoctorServices] AS [d3]
    WHERE [d3].[IsDeleted] = CAST(0 AS bit) AND [d3].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d3].[IsDeleted] = CAST(0 AS bit)
) AS [d4] ON [d0].[Id] = [d4].[DoctorId]
ORDER BY [d0].[CreatedAt] DESC, [d0].[Id], [a].[Id], [d2].[Id]
2026-02-07 09:24:03.890 +02:00 [INF] Executed DbCommand (111ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d0].[Id], [d0].[AvgVisitDurationMinutes], [d0].[Bio], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[IsDeleted], [d0].[IsEnabled], [d0].[Name], [d0].[Phone], [d0].[PhotoUrl], [d0].[Specialty], [d0].[TenantId], [d0].[UpdatedAt], [d0].[UrgentCaseMode], [d0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName], [d2].[Id], [d4].[Id], [d4].[CreatedAt], [d4].[DeletedAt], [d4].[DoctorId], [d4].[DurationMinutes], [d4].[IsActive], [d4].[IsDeleted], [d4].[Price], [d4].[ServiceName], [d4].[TenantId], [d4].[UpdatedAt], [d2].[BMI], [d2].[BloodPressure], [d2].[BloodSugar], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[HeartRate], [d2].[Height], [d2].[IsDeleted], [d2].[OxygenSaturation], [d2].[RespiratoryRate], [d2].[Temperature], [d2].[TenantId], [d2].[UpdatedAt], [d2].[Weight]
FROM (
    SELECT [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId]
    FROM [Doctors] AS [d]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[TenantId] = @__tenantId_0
    ORDER BY [d].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [d0]
INNER JOIN [AspNetUsers] AS [a] ON [d0].[UserId] = [a].[Id]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt], [d1].[DeletedAt], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId], [d1].[UpdatedAt], [d1].[Weight]
    FROM [DoctorVisitFieldConfigs] AS [d1]
    WHERE [d1].[IsDeleted] = CAST(0 AS bit) AND [d1].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [d2] ON [d0].[Id] = [d2].[DoctorId]
LEFT JOIN (
    SELECT [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt]
    FROM [DoctorServices] AS [d3]
    WHERE [d3].[IsDeleted] = CAST(0 AS bit) AND [d3].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d3].[IsDeleted] = CAST(0 AS bit)
) AS [d4] ON [d0].[Id] = [d4].[DoctorId]
ORDER BY [d0].[CreatedAt] DESC, [d0].[Id], [a].[Id], [d2].[Id]
2026-02-07 09:24:03.893 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.894 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.895 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.896 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.897 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.898 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.899 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.901 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.902 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.904 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.905 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.905 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.906 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.907 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.908 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.908 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.909 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.910 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.910 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.911 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.912 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.913 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.914 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.915 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.916 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.916 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.917 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.918 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.918 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.919 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.919 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.920 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.921 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.921 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.922 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.923 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.923 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.924 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.925 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.926 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.926 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.927 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.927 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.928 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.929 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.930 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.932 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.933 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.934 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.934 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.935 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.936 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.937 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.937 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.938 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.938 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.939 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.940 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.940 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.941 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:03.942 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.943 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 50ms reading results.
2026-02-07 09:24:03.944 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.945 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:03.946 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:03.947 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:03.947 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:03.948 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:03.948 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:03.949 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Common.Models.PagedResult`1[[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:03.949 +02:00 [INF] Executed action EliteClinic.Api.Controllers.DoctorsController.GetAllDoctors (EliteClinic.Api) in 324.4872ms
2026-02-07 09:24:03.951 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetAllDoctors (EliteClinic.Api)'
2026-02-07 09:24:03.952 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:03.952 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:03.953 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.954 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:24:03.956 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/doctors - 200 null application/json; charset=utf-8 491.6023ms
2026-02-07 09:24:03.968 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/clinic/doctors - application/json 97
2026-02-07 09:24:03.969 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/doctors'
2026-02-07 09:24:03.970 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.DoctorsController.CreateDoctor (EliteClinic.Api)' with route pattern 'api/clinic/doctors' is valid for the request path '/api/clinic/doctors'
2026-02-07 09:24:03.971 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.DoctorsController.CreateDoctor (EliteClinic.Api)'
2026-02-07 09:24:03.972 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:03.973 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:03.974 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:03.975 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:03.975 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.976 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:03.976 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:03.977 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:03.978 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:03.978 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:04.111 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:04.112 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.113 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:04.114 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.115 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:04.116 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:04.117 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:04.118 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ClinicOwner|SuperAdmin)
2026-02-07 09:24:04.119 +02:00 [INF] AuthenticationScheme: Bearer was forbidden.
2026-02-07 09:24:04.120 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:04.122 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:04.124 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.127 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2026-02-07 09:24:04.128 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/clinic/doctors - 403 0 null 160.2877ms
2026-02-07 09:24:04.130 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000001C": started reading request body.
2026-02-07 09:24:04.132 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000001C": done reading request body.
2026-02-07 09:24:04.134 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/clinic/patients - application/json 85
2026-02-07 09:24:04.137 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/patients'
2026-02-07 09:24:04.139 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.PatientsController.CreatePatient (EliteClinic.Api)' with route pattern 'api/clinic/patients' is valid for the request path '/api/clinic/patients'
2026-02-07 09:24:04.140 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.PatientsController.CreatePatient (EliteClinic.Api)'
2026-02-07 09:24:04.141 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:04.142 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:04.143 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:04.144 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:04.145 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.146 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.147 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:04.147 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:04.148 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:04.149 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:04.290 +02:00 [INF] Executed DbCommand (141ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:04.292 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.293 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:04.294 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.295 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:04.296 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:04.297 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:04.298 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:04.299 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.PatientsController.CreatePatient (EliteClinic.Api)'
2026-02-07 09:24:04.305 +02:00 [INF] Route matched with {action = "CreatePatient", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.CreatePatientResponse]]] CreatePatient(EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest) on controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api).
2026-02-07 09:24:04.308 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:04.309 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:04.310 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:04.311 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:04.312 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:04.313 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:04.314 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:04.315 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest' ...
2026-02-07 09:24:04.316 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest' using the name '' in request data ...
2026-02-07 09:24:04.317 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:04.319 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000001D": started reading request body.
2026-02-07 09:24:04.320 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000001D": done reading request body.
2026-02-07 09:24:04.323 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest'
2026-02-07 09:24:04.323 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest'.
2026-02-07 09:24:04.324 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest'.
2026-02-07 09:24:04.325 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest' ...
2026-02-07 09:24:04.330 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest'.
2026-02-07 09:24:04.335 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .IgnoreQueryFilters()
    .FirstOrDefault(t => t.Id == __tenantId_0 && !(t.IsDeleted))'
2026-02-07 09:24:04.339 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tenant>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Tenant>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
            SELECT TOP(1) t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
            FROM Tenants AS t
            WHERE (t.Id == @__tenantId_0) && Not(t.IsDeleted)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
            SELECT TOP(1) t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
            FROM Tenants AS t
            WHERE (t.Id == @__tenantId_0) && Not(t.IsDeleted), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Tenant entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Tenant instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Tenant);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Tenant.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Tenant)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]: 
                            {
                                return 
                                {
                                    Tenant instance;
                                    instance = new Tenant();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ContactPhone>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LogoUrl>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Name>k__BackingField = dataReader.GetString(7);
                                    instance.<Slug>k__BackingField = dataReader.GetString(8);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<TenantStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Tenant.Status (TenantStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(9));
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Tenant)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:24:04.343 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.344 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.345 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:04.346 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:04.347 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:04.348 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Id] = @__tenantId_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:04.479 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[@__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Id] = @__tenantId_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:04.481 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:04.482 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.483 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:04.484 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.485 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:04.486 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Where(p => p.TenantId == __tenantId_0)
    .Count()'
2026-02-07 09:24:04.489 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT COUNT(*)
                FROM Patients AS p
                WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && (p.TenantId == @__tenantId_0)) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT COUNT(*)
                FROM Patients AS p
                WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && (p.TenantId == @__tenantId_0), 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
                return (int)value1;
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:24:04.491 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.492 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.493 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:04.493 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:04.494 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:04.495 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0
2026-02-07 09:24:04.619 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0
2026-02-07 09:24:04.622 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.624 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:04.625 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.626 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:04.627 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.628 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.629 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:04.629 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:04.630 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:04.630 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:04.769 +02:00 [INF] Executed DbCommand (139ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:04.772 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.773 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:04.774 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.775 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:04.838 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.840 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.841 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:04.841 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:04.842 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:04.843 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:04.960 +02:00 [INF] Executed DbCommand (116ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:04.961 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.962 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:04.962 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.963 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:04.965 +02:00 [DBG] The navigation 'ApplicationUser.Tenant' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:04.966 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:04.966 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:04.967 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:04.967 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:04.968 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:04.968 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:04.969 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.970 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:04.970 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:04.971 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:04.971 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:04.972 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (DbType = Guid), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [DisplayName], [Email], [EmailConfirmed], [IsActive], [LastLoginAt], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiry], [SecurityStamp], [TenantId], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2026-02-07 09:24:05.112 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (DbType = Guid), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [DisplayName], [Email], [EmailConfirmed], [IsActive], [LastLoginAt], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiry], [SecurityStamp], [TenantId], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2026-02-07 09:24:05.114 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.114 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:05.115 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.116 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:05.117 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:05.117 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:24:05.118 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.119 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.120 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:05.120 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:05.121 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:05.121 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:24:05.258 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:24:05.260 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:05.261 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.262 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:05.263 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.264 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:05.265 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.266 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.267 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:05.267 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:05.268 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:05.269 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid), @__p_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2026-02-07 09:24:05.390 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@__p_0='?' (DbType = Guid), @__p_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2026-02-07 09:24:05.392 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.393 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:05.393 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.394 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:05.395 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.395 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.396 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:05.397 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:05.397 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:05.398 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:24:05.520 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:24:05.521 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.522 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:05.523 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.523 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:05.525 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:05.526 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.528 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.529 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:05.530 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:05.530 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:05.531 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:05.650 +02:00 [INF] Executed DbCommand (119ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:05.653 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.655 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:05.656 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.657 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:05.658 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:05.659 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:05.659 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:05.660 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:05.660 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:05.661 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:05.662 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:24:05.662 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.663 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.663 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:24:05.791 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:24:05.792 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:05.792 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:05.793 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:05.794 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p23='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p24='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Guid), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [DisplayName] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsActive] = @p8, [LastLoginAt] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiry] = @p18, [SecurityStamp] = @p19, [TenantId] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2026-02-07 09:24:05.919 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p23='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p24='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Guid), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [DisplayName] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsActive] = @p8, [LastLoginAt] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiry] = @p18, [SecurityStamp] = @p19, [TenantId] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2026-02-07 09:24:05.921 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:05.922 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:05.922 +02:00 [DBG] Committing transaction.
2026-02-07 09:24:06.039 +02:00 [DBG] Committed transaction.
2026-02-07 09:24:06.040 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.041 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:06.041 +02:00 [DBG] Disposing transaction.
2026-02-07 09:24:06.042 +02:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.043 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.044 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:24:06.045 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.045 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.046 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:06.047 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:06.049 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.050 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:06.052 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:06.053 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:06.054 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:06.055 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:06.058 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:24:06.059 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.059 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.060 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:24:06.189 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:24:06.191 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:06.191 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:06.192 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:06.193 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:24:06.324 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:24:06.327 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.328 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:06.330 +02:00 [DBG] Committing transaction.
2026-02-07 09:24:06.450 +02:00 [DBG] Committed transaction.
2026-02-07 09:24:06.451 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.452 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:06.453 +02:00 [DBG] Disposing transaction.
2026-02-07 09:24:06.453 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.454 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.455 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:24:06.458 +02:00 [INF] Patient created: Test Patient for tenant "3d8808ad-0e68-4e6a-8cfb-2a7333da8dbd"
2026-02-07 09:24:06.459 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:06.461 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:06.461 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:06.462 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:06.462 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:06.463 +02:00 [INF] Executing ObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.CreatePatientResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:06.467 +02:00 [INF] Executed action EliteClinic.Api.Controllers.PatientsController.CreatePatient (EliteClinic.Api) in 2153.5071ms
2026-02-07 09:24:06.468 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.PatientsController.CreatePatient (EliteClinic.Api)'
2026-02-07 09:24:06.468 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:06.469 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:06.470 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.471 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:24:06.472 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/clinic/patients - 201 null application/json; charset=utf-8 2337.1387ms
2026-02-07 09:24:06.482 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/patients - application/json null
2026-02-07 09:24:06.483 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/patients'
2026-02-07 09:24:06.484 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)' with route pattern 'api/clinic/patients' is valid for the request path '/api/clinic/patients'
2026-02-07 09:24:06.485 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)'
2026-02-07 09:24:06.485 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:06.487 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:06.488 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:06.488 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:06.489 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.490 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.490 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:06.491 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:06.491 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:06.492 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:06.620 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:06.621 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.622 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:06.623 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.623 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:06.624 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:06.625 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:06.625 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:06.626 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)'
2026-02-07 09:24:06.629 +02:00 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Common.Models.PagedResult`1[EliteClinic.Application.Features.Clinic.DTOs.PatientDto]]]] GetAllPatients(Int32, Int32, System.String) on controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api).
2026-02-07 09:24:06.630 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:06.630 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:06.631 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:06.632 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:06.633 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:06.633 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:06.634 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:06.635 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:06.635 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:06.636 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:06.637 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:06.637 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:06.638 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:06.638 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:06.639 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:06.640 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:06.640 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:06.641 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:06.641 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:06.642 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:06.642 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:06.643 +02:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2026-02-07 09:24:06.643 +02:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2026-02-07 09:24:06.644 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2026-02-07 09:24:06.645 +02:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2026-02-07 09:24:06.645 +02:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2026-02-07 09:24:06.646 +02:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2026-02-07 09:24:06.647 +02:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2026-02-07 09:24:06.650 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Include(p => p.User)
    .Include(p => p.SubProfiles
        .Where(sp => !(sp.IsDeleted)))
    .Where(p => p.TenantId == __tenantId_0 && p.ParentPatientId == null)
    .Count()'
2026-02-07 09:24:06.654 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT COUNT(*)
                FROM Patients AS p
                WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && ((p.TenantId == @__tenantId_0) && (p.ParentPatientId == NULL))) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT COUNT(*)
                FROM Patients AS p
                WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && ((p.TenantId == @__tenantId_0) && (p.ParentPatientId == NULL)), 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
                return (int)value1;
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:24:06.658 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.659 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.660 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:06.660 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:06.661 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:06.661 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL
2026-02-07 09:24:06.799 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL
2026-02-07 09:24:06.803 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.805 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:24:06.808 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.810 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (2ms).
2026-02-07 09:24:06.813 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Include(p => p.User)
    .Include(p => p.SubProfiles
        .Where(sp => !(sp.IsDeleted)))
    .Where(p => p.TenantId == __tenantId_0 && p.ParentPatientId == null)
    .OrderByDescending(p => p.CreatedAt)
    .Skip(__p_1)
    .Take(__p_2)'
2026-02-07 09:24:06.815 +02:00 [DBG] Including navigation: 'Patient.User'.
2026-02-07 09:24:06.816 +02:00 [DBG] Including navigation: 'Patient.SubProfiles'.
2026-02-07 09:24:06.822 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return SingleQueryingEnumerable.Create<Patient>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Address (string), 1], [Property: Patient.CreatedAt (DateTime) Required, 2], [Property: Patient.DateOfBirth (DateTime?), 3], [Property: Patient.DeletedAt (DateTime?), 4], [Property: Patient.Gender (Gender) Required, 5], [Property: Patient.IsDefault (bool) Required, 6], [Property: Patient.IsDeleted (bool) Required, 7], [Property: Patient.Name (string) Required MaxLength(200), 8], [Property: Patient.Notes (string), 9], [Property: Patient.ParentPatientId (Guid?) FK Index, 10], [Property: Patient.Phone (string) Required MaxLength(20), 11], [Property: Patient.TenantId (Guid) Required, 12], [Property: Patient.UpdatedAt (DateTime) Required, 13], [Property: Patient.UserId (Guid) Required FK Index, 14] }
                1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                2 -> 0
                3 -> 15
                4 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: Patient.Address (string), 38], [Property: Patient.CreatedAt (DateTime) Required, 39], [Property: Patient.DateOfBirth (DateTime?), 40], [Property: Patient.DeletedAt (DateTime?), 41], [Property: Patient.Gender (Gender) Required, 42], [Property: Patient.IsDefault (bool) Required, 43], [Property: Patient.IsDeleted (bool) Required, 44], [Property: Patient.Name (string) Required MaxLength(200), 45], [Property: Patient.Notes (string), 46], [Property: Patient.ParentPatientId (Guid?) FK Index, 47], [Property: Patient.Phone (string) Required MaxLength(20), 48], [Property: Patient.TenantId (Guid) Required, 49], [Property: Patient.UpdatedAt (DateTime) Required, 50], [Property: Patient.UserId (Guid) Required FK Index, 51] }
                5 -> 37
            SELECT p0.Id, p0.Address, p0.CreatedAt, p0.DateOfBirth, p0.DeletedAt, p0.Gender, p0.IsDefault, p0.IsDeleted, p0.Name, p0.Notes, p0.ParentPatientId, p0.Phone, p0.TenantId, p0.UpdatedAt, p0.UserId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName, p2.Id, p2.Address, p2.CreatedAt, p2.DateOfBirth, p2.DeletedAt, p2.Gender, p2.IsDefault, p2.IsDeleted, p2.Name, p2.Notes, p2.ParentPatientId, p2.Phone, p2.TenantId, p2.UpdatedAt, p2.UserId
            FROM 
            (
                SELECT p.Id, p.Address, p.CreatedAt, p.DateOfBirth, p.DeletedAt, p.Gender, p.IsDefault, p.IsDeleted, p.Name, p.Notes, p.ParentPatientId, p.Phone, p.TenantId, p.UpdatedAt, p.UserId
                FROM Patients AS p
                WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && ((p.TenantId == @__tenantId_0) && (p.ParentPatientId == NULL))
                ORDER BY p.CreatedAt DESC
                OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
            ) AS p0
            INNER JOIN AspNetUsers AS a ON p0.UserId == a.Id
            LEFT JOIN 
            (
                SELECT p1.Id, p1.Address, p1.CreatedAt, p1.DateOfBirth, p1.DeletedAt, p1.Gender, p1.IsDefault, p1.IsDeleted, p1.Name, p1.Notes, p1.ParentPatientId, p1.Phone, p1.TenantId, p1.UpdatedAt, p1.UserId
                FROM Patients AS p1
                WHERE (Not(p1.IsDeleted) && (p1.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(p1.IsDeleted)
            ) AS p2 ON p0.Id == p2.ParentPatientId
            ORDER BY p0.CreatedAt DESC, p0.Id ASC, a.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Address (string), 1], [Property: Patient.CreatedAt (DateTime) Required, 2], [Property: Patient.DateOfBirth (DateTime?), 3], [Property: Patient.DeletedAt (DateTime?), 4], [Property: Patient.Gender (Gender) Required, 5], [Property: Patient.IsDefault (bool) Required, 6], [Property: Patient.IsDeleted (bool) Required, 7], [Property: Patient.Name (string) Required MaxLength(200), 8], [Property: Patient.Notes (string), 9], [Property: Patient.ParentPatientId (Guid?) FK Index, 10], [Property: Patient.Phone (string) Required MaxLength(20), 11], [Property: Patient.TenantId (Guid) Required, 12], [Property: Patient.UpdatedAt (DateTime) Required, 13], [Property: Patient.UserId (Guid) Required FK Index, 14] }
                1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                2 -> 0
                3 -> 15
                4 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: Patient.Address (string), 38], [Property: Patient.CreatedAt (DateTime) Required, 39], [Property: Patient.DateOfBirth (DateTime?), 40], [Property: Patient.DeletedAt (DateTime?), 41], [Property: Patient.Gender (Gender) Required, 42], [Property: Patient.IsDefault (bool) Required, 43], [Property: Patient.IsDeleted (bool) Required, 44], [Property: Patient.Name (string) Required MaxLength(200), 45], [Property: Patient.Notes (string), 46], [Property: Patient.ParentPatientId (Guid?) FK Index, 47], [Property: Patient.Phone (string) Required MaxLength(20), 48], [Property: Patient.TenantId (Guid) Required, 49], [Property: Patient.UpdatedAt (DateTime) Required, 50], [Property: Patient.UserId (Guid) Required FK Index, 51] }
                5 -> 37
            SELECT p0.Id, p0.Address, p0.CreatedAt, p0.DateOfBirth, p0.DeletedAt, p0.Gender, p0.IsDefault, p0.IsDeleted, p0.Name, p0.Notes, p0.ParentPatientId, p0.Phone, p0.TenantId, p0.UpdatedAt, p0.UserId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName, p2.Id, p2.Address, p2.CreatedAt, p2.DateOfBirth, p2.DeletedAt, p2.Gender, p2.IsDefault, p2.IsDeleted, p2.Name, p2.Notes, p2.ParentPatientId, p2.Phone, p2.TenantId, p2.UpdatedAt, p2.UserId
            FROM 
            (
                SELECT p.Id, p.Address, p.CreatedAt, p.DateOfBirth, p.DeletedAt, p.Gender, p.IsDefault, p.IsDeleted, p.Name, p.Notes, p.ParentPatientId, p.Phone, p.TenantId, p.UpdatedAt, p.UserId
                FROM Patients AS p
                WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && ((p.TenantId == @__tenantId_0) && (p.ParentPatientId == NULL))
                ORDER BY p.CreatedAt DESC
                OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
            ) AS p0
            INNER JOIN AspNetUsers AS a ON p0.UserId == a.Id
            LEFT JOIN 
            (
                SELECT p1.Id, p1.Address, p1.CreatedAt, p1.DateOfBirth, p1.DeletedAt, p1.Gender, p1.IsDefault, p1.IsDeleted, p1.Name, p1.Notes, p1.ParentPatientId, p1.Phone, p1.TenantId, p1.UpdatedAt, p1.UserId
                FROM Patients AS p1
                WHERE (Not(p1.IsDeleted) && (p1.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(p1.IsDeleted)
            ) AS p2 ON p0.Id == p2.ParentPatientId
            ORDER BY p0.CreatedAt DESC, p0.Id ASC, a.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Patient entity;
                ApplicationUser entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Patient instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Patient);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Patient.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Patient)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]: 
                                {
                                    return 
                                    {
                                        Patient instance;
                                        instance = new Patient();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                        instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                        instance.<Gender>k__BackingField = Invoke(((EnumToNumberConverter<Gender, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Patient.Gender (Gender) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindProperty("Gender")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<IsDefault>k__BackingField = dataReader.GetBoolean(6);
                                        instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(7);
                                        instance.<Name>k__BackingField = dataReader.GetString(8);
                                        instance.<Notes>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<ParentPatientId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid?) : (Guid?)dataReader.GetGuid(10);
                                        instance.<Phone>k__BackingField = dataReader.GetString(11);
                                        instance.<TenantId>k__BackingField = dataReader.GetGuid(12);
                                        instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(13);
                                        instance.<UserId>k__BackingField = dataReader.GetGuid(14);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Patient)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    ApplicationUser instance2;
                    InternalEntityEntry entry2;
                    bool hasNullKey2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(ApplicationUser);
                    entry2 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: ApplicationUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(15) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey2);
                    !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                    {
                        entityType2 = entry2.EntityType;
                        return instance2 = (ApplicationUser)entry2.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]: 
                                {
                                    return 
                                    {
                                        ApplicationUser instance;
                                        instance = new ApplicationUser();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(15);
                                        instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(16);
                                        instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                        instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(18);
                                        instance.<DisplayName>k__BackingField = dataReader.GetString(19);
                                        instance.<Email>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                        instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                        instance.<IsActive>k__BackingField = dataReader.GetBoolean(22);
                                        instance.<LastLoginAt>k__BackingField = dataReader.IsDBNull(23) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(23);
                                        instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(24);
                                        instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(25) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(25);
                                        instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                        instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                        instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(28) ? default(string) : dataReader.GetString(28);
                                        instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(29) ? default(string) : dataReader.GetString(29);
                                        instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(30);
                                        instance.<RefreshToken>k__BackingField = dataReader.IsDBNull(31) ? default(string) : dataReader.GetString(31);
                                        instance.<RefreshTokenExpiry>k__BackingField = dataReader.IsDBNull(32) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(32);
                                        instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                        instance.<TenantId>k__BackingField = dataReader.IsDBNull(34) ? default(Guid?) : (Guid?)dataReader.GetGuid(34);
                                        instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(35);
                                        instance.<UserName>k__BackingField = dataReader.IsDBNull(36) ? default(string) : dataReader.GetString(36);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ApplicationUser)
                        }
                        ;
                        entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType2, 
                            entity: instance2, 
                            snapshot: shadowSnapshot2);
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                resultContext.Values = new object[]
                { 
                    entity, 
                    entity 
                };
                ShaperProcessingExpressionVisitor.IncludeReference<Patient, Patient, ApplicationUser>(
                    queryContext: queryContext, 
                    entity: (Patient)(resultContext.Values[0]), 
                    relatedEntity: (ApplicationUser)(resultContext.Values[1]), 
                    navigation: [LIFTABLE Constant: Navigation: Patient.User (ApplicationUser) ToPrincipal ApplicationUser | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("User")], 
                    inverseNavigation: default(INavigation), 
                    fixup: (namelessParameter{8}, namelessParameter{9}) => 
                    {
                        return namelessParameter{8}.<User>k__BackingField = namelessParameter{9};
                    }, 
                    trackingQuery: True);
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Patient, Patient>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Patient)(resultContext.Values[0]), 
                    parentIdentifier: (queryContext, dataReader) => new object[]
                    { 
                        (object)(Guid?)dataReader.GetGuid(0), 
                        (object)(Guid?)dataReader.GetGuid(15) 
                    }, 
                    outerIdentifier: (queryContext, dataReader) => new object[]
                    { 
                        (object)(Guid?)dataReader.GetGuid(0), 
                        (object)(Guid?)dataReader.GetGuid(15) 
                    }, 
                    navigation: [LIFTABLE Constant: Navigation: Patient.SubProfiles (ICollection<Patient>) Collection ToDependent Patient Inverse: ParentPatient | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Patient, ICollection<Patient>, Patient> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Patient, Patient>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: (queryContext, dataReader) => new object[]
                { 
                    (object)(Guid?)dataReader.GetGuid(0), 
                    (object)(Guid?)dataReader.GetGuid(15) 
                }, 
                outerIdentifier: (queryContext, dataReader) => new object[]
                { 
                    (object)(Guid?)dataReader.GetGuid(0), 
                    (object)(Guid?)dataReader.GetGuid(15) 
                }, 
                selfIdentifier: (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(37) ? default(Guid?) : (Guid?)dataReader.GetGuid(37) }, 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) 
                }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) 
                }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Patient entity;
                    entity = 
                    {
                        MaterializationContext materializationContext3;
                        IEntityType entityType3;
                        Patient instance3;
                        InternalEntityEntry entry3;
                        bool hasNullKey3;
                        materializationContext3 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance3 = default(Patient);
                        entry3 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Patient.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(37) ? default(object) : (object)dataReader.GetGuid(37) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey3);
                        !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                        {
                            entityType3 = entry3.EntityType;
                            return instance3 = (Patient)entry3.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot3;
                            shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType3 = [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")];
                            instance3 = switch (entityType3)
                            {
                                case [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]: 
                                    {
                                        return 
                                        {
                                            Patient instance;
                                            instance = new Patient();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(37) ? default(Guid) : dataReader.GetGuid(37);
                                            instance.<Address>k__BackingField = dataReader.IsDBNull(38) ? default(string) : dataReader.GetString(38);
                                            instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(39) ? default(DateTime) : dataReader.GetDateTime(39);
                                            instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(40) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(40);
                                            instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(41) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(41);
                                            instance.<Gender>k__BackingField = dataReader.IsDBNull(42) ? default(Gender) : Invoke(((EnumToNumberConverter<Gender, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Patient.Gender (Gender) Required | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindProperty("Gender")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(42));
                                            instance.<IsDefault>k__BackingField = dataReader.IsDBNull(43) ? default(bool) : dataReader.GetBoolean(43);
                                            instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(44) ? default(bool) : dataReader.GetBoolean(44);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(45) ? default(string) : dataReader.GetString(45);
                                            instance.<Notes>k__BackingField = dataReader.IsDBNull(46) ? default(string) : dataReader.GetString(46);
                                            instance.<ParentPatientId>k__BackingField = dataReader.IsDBNull(47) ? default(Guid?) : (Guid?)dataReader.GetGuid(47);
                                            instance.<Phone>k__BackingField = dataReader.IsDBNull(48) ? default(string) : dataReader.GetString(48);
                                            instance.<TenantId>k__BackingField = dataReader.IsDBNull(49) ? default(Guid) : dataReader.GetGuid(49);
                                            instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(50) ? default(DateTime) : dataReader.GetDateTime(50);
                                            instance.<UserId>k__BackingField = dataReader.IsDBNull(51) ? default(Guid) : dataReader.GetGuid(51);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext3.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Patient)
                            }
                            ;
                            entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType3, 
                                entity: instance3, 
                                snapshot: shadowSnapshot3);
                            return instance3;
                        } : default(void);
                        return instance3;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Patient.ParentPatient (Patient) ToPrincipal Patient Inverse: SubProfiles | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("ParentPatient")], 
                fixup: (namelessParameter{17}, namelessParameter{18}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Patient, ICollection<Patient>, Patient> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{17}, 
                        value: namelessParameter{18}, 
                        forMaterialization: True);
                    return namelessParameter{18}.<ParentPatient>k__BackingField = namelessParameter{17};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Patient)(resultContext.Values[0]) : default(Patient);
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True);
}'
2026-02-07 09:24:06.842 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.843 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.843 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:06.844 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:06.845 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:06.846 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName], [p2].[Id], [p2].[Address], [p2].[CreatedAt], [p2].[DateOfBirth], [p2].[DeletedAt], [p2].[Gender], [p2].[IsDefault], [p2].[IsDeleted], [p2].[Name], [p2].[Notes], [p2].[ParentPatientId], [p2].[Phone], [p2].[TenantId], [p2].[UpdatedAt], [p2].[UserId]
FROM (
    SELECT [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId]
    FROM [Patients] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [p0]
INNER JOIN [AspNetUsers] AS [a] ON [p0].[UserId] = [a].[Id]
LEFT JOIN (
    SELECT [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
    FROM [Patients] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS bit) AND [p1].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p1].[IsDeleted] = CAST(0 AS bit)
) AS [p2] ON [p0].[Id] = [p2].[ParentPatientId]
ORDER BY [p0].[CreatedAt] DESC, [p0].[Id], [a].[Id]
2026-02-07 09:24:06.970 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName], [p2].[Id], [p2].[Address], [p2].[CreatedAt], [p2].[DateOfBirth], [p2].[DeletedAt], [p2].[Gender], [p2].[IsDefault], [p2].[IsDeleted], [p2].[Name], [p2].[Notes], [p2].[ParentPatientId], [p2].[Phone], [p2].[TenantId], [p2].[UpdatedAt], [p2].[UserId]
FROM (
    SELECT [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId]
    FROM [Patients] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [p0]
INNER JOIN [AspNetUsers] AS [a] ON [p0].[UserId] = [a].[Id]
LEFT JOIN (
    SELECT [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
    FROM [Patients] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS bit) AND [p1].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p1].[IsDeleted] = CAST(0 AS bit)
) AS [p2] ON [p0].[Id] = [p2].[ParentPatientId]
ORDER BY [p0].[CreatedAt] DESC, [p0].[Id], [a].[Id]
2026-02-07 09:24:06.973 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.974 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.975 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.978 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.978 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.979 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.979 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.980 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.980 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.981 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.981 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.982 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.983 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.983 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.984 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.984 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.985 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.985 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.986 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.986 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.987 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.988 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.989 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.991 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.992 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.993 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:06.993 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.994 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 21ms reading results.
2026-02-07 09:24:06.994 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:06.995 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:06.996 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:06.997 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:06.998 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:06.998 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:06.999 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:07.000 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Common.Models.PagedResult`1[[EliteClinic.Application.Features.Clinic.DTOs.PatientDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:07.006 +02:00 [INF] Executed action EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api) in 372.7398ms
2026-02-07 09:24:07.008 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)'
2026-02-07 09:24:07.009 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:07.009 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:07.010 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.011 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:24:07.012 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/patients - 200 null application/json; charset=utf-8 530.3062ms
2026-02-07 09:24:07.017 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196 - application/json null
2026-02-07 09:24:07.019 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196'
2026-02-07 09:24:07.020 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.PatientsController.GetPatientById (EliteClinic.Api)' with route pattern 'api/clinic/patients/{id:guid}' is valid for the request path '/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196'
2026-02-07 09:24:07.021 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.PatientsController.GetPatientById (EliteClinic.Api)'
2026-02-07 09:24:07.021 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:07.022 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:07.024 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:07.024 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:07.025 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.026 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.026 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:07.027 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:07.028 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:07.028 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:07.149 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:07.152 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.152 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:07.154 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.154 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:07.156 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:07.157 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:07.159 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:07.159 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.PatientsController.GetPatientById (EliteClinic.Api)'
2026-02-07 09:24:07.164 +02:00 [INF] Route matched with {action = "GetPatientById", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.PatientDto]]] GetPatientById(System.Guid) on controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api).
2026-02-07 09:24:07.166 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:07.166 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:07.167 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:07.168 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:07.169 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:07.170 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:07.172 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:07.173 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:07.174 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:24:07.175 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:07.175 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:07.176 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:07.177 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:07.181 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Include(p => p.User)
    .Include(p => p.SubProfiles
        .Where(sp => !(sp.IsDeleted)))
    .FirstOrDefault(p => p.Id == __id_0 && p.TenantId == __tenantId_1)'
2026-02-07 09:24:07.184 +02:00 [DBG] Including navigation: 'Patient.User'.
2026-02-07 09:24:07.185 +02:00 [DBG] Including navigation: 'Patient.SubProfiles'.
2026-02-07 09:24:07.189 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
        asyncEnumerable: SingleQueryingEnumerable.Create<Patient>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Address (string), 1], [Property: Patient.CreatedAt (DateTime) Required, 2], [Property: Patient.DateOfBirth (DateTime?), 3], [Property: Patient.DeletedAt (DateTime?), 4], [Property: Patient.Gender (Gender) Required, 5], [Property: Patient.IsDefault (bool) Required, 6], [Property: Patient.IsDeleted (bool) Required, 7], [Property: Patient.Name (string) Required MaxLength(200), 8], [Property: Patient.Notes (string), 9], [Property: Patient.ParentPatientId (Guid?) FK Index, 10], [Property: Patient.Phone (string) Required MaxLength(20), 11], [Property: Patient.TenantId (Guid) Required, 12], [Property: Patient.UpdatedAt (DateTime) Required, 13], [Property: Patient.UserId (Guid) Required FK Index, 14] }
                    1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                    2 -> 0
                    3 -> 15
                    4 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: Patient.Address (string), 38], [Property: Patient.CreatedAt (DateTime) Required, 39], [Property: Patient.DateOfBirth (DateTime?), 40], [Property: Patient.DeletedAt (DateTime?), 41], [Property: Patient.Gender (Gender) Required, 42], [Property: Patient.IsDefault (bool) Required, 43], [Property: Patient.IsDeleted (bool) Required, 44], [Property: Patient.Name (string) Required MaxLength(200), 45], [Property: Patient.Notes (string), 46], [Property: Patient.ParentPatientId (Guid?) FK Index, 47], [Property: Patient.Phone (string) Required MaxLength(20), 48], [Property: Patient.TenantId (Guid) Required, 49], [Property: Patient.UpdatedAt (DateTime) Required, 50], [Property: Patient.UserId (Guid) Required FK Index, 51] }
                    5 -> 37
                SELECT s.Id, s.Address, s.CreatedAt, s.DateOfBirth, s.DeletedAt, s.Gender, s.IsDefault, s.IsDeleted, s.Name, s.Notes, s.ParentPatientId, s.Phone, s.TenantId, s.UpdatedAt, s.UserId, s.Id0, s.AccessFailedCount, s.ConcurrencyStamp, s.CreatedAt0, s.DisplayName, s.Email, s.EmailConfirmed, s.IsActive, s.LastLoginAt, s.LockoutEnabled, s.LockoutEnd, s.NormalizedEmail, s.NormalizedUserName, s.PasswordHash, s.PhoneNumber, s.PhoneNumberConfirmed, s.RefreshToken, s.RefreshTokenExpiry, s.SecurityStamp, s.TenantId0, s.TwoFactorEnabled, s.UserName, p1.Id, p1.Address, p1.CreatedAt, p1.DateOfBirth, p1.DeletedAt, p1.Gender, p1.IsDefault, p1.IsDeleted, p1.Name, p1.Notes, p1.ParentPatientId, p1.Phone, p1.TenantId, p1.UpdatedAt, p1.UserId
                FROM 
                (
                    SELECT TOP(1) p.Id, p.Address, p.CreatedAt, p.DateOfBirth, p.DeletedAt, p.Gender, p.IsDefault, p.IsDeleted, p.Name, p.Notes, p.ParentPatientId, p.Phone, p.TenantId, p.UpdatedAt, p.UserId, a.Id AS Id0, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt AS CreatedAt0, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId AS TenantId0, a.TwoFactorEnabled, a.UserName
                    FROM Patients AS p
                    INNER JOIN AspNetUsers AS a ON p.UserId == a.Id
                    WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && ((p.Id == @__id_0) && (p.TenantId == @__tenantId_1))
                ) AS s
                LEFT JOIN 
                (
                    SELECT p0.Id, p0.Address, p0.CreatedAt, p0.DateOfBirth, p0.DeletedAt, p0.Gender, p0.IsDefault, p0.IsDeleted, p0.Name, p0.Notes, p0.ParentPatientId, p0.Phone, p0.TenantId, p0.UpdatedAt, p0.UserId
                    FROM Patients AS p0
                    WHERE (Not(p0.IsDeleted) && (p0.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(p0.IsDeleted)
                ) AS p1 ON s.Id == p1.ParentPatientId
                ORDER BY s.Id ASC, s.Id0 ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Address (string), 1], [Property: Patient.CreatedAt (DateTime) Required, 2], [Property: Patient.DateOfBirth (DateTime?), 3], [Property: Patient.DeletedAt (DateTime?), 4], [Property: Patient.Gender (Gender) Required, 5], [Property: Patient.IsDefault (bool) Required, 6], [Property: Patient.IsDeleted (bool) Required, 7], [Property: Patient.Name (string) Required MaxLength(200), 8], [Property: Patient.Notes (string), 9], [Property: Patient.ParentPatientId (Guid?) FK Index, 10], [Property: Patient.Phone (string) Required MaxLength(20), 11], [Property: Patient.TenantId (Guid) Required, 12], [Property: Patient.UpdatedAt (DateTime) Required, 13], [Property: Patient.UserId (Guid) Required FK Index, 14] }
                    1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                    2 -> 0
                    3 -> 15
                    4 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: Patient.Address (string), 38], [Property: Patient.CreatedAt (DateTime) Required, 39], [Property: Patient.DateOfBirth (DateTime?), 40], [Property: Patient.DeletedAt (DateTime?), 41], [Property: Patient.Gender (Gender) Required, 42], [Property: Patient.IsDefault (bool) Required, 43], [Property: Patient.IsDeleted (bool) Required, 44], [Property: Patient.Name (string) Required MaxLength(200), 45], [Property: Patient.Notes (string), 46], [Property: Patient.ParentPatientId (Guid?) FK Index, 47], [Property: Patient.Phone (string) Required MaxLength(20), 48], [Property: Patient.TenantId (Guid) Required, 49], [Property: Patient.UpdatedAt (DateTime) Required, 50], [Property: Patient.UserId (Guid) Required FK Index, 51] }
                    5 -> 37
                SELECT s.Id, s.Address, s.CreatedAt, s.DateOfBirth, s.DeletedAt, s.Gender, s.IsDefault, s.IsDeleted, s.Name, s.Notes, s.ParentPatientId, s.Phone, s.TenantId, s.UpdatedAt, s.UserId, s.Id0, s.AccessFailedCount, s.ConcurrencyStamp, s.CreatedAt0, s.DisplayName, s.Email, s.EmailConfirmed, s.IsActive, s.LastLoginAt, s.LockoutEnabled, s.LockoutEnd, s.NormalizedEmail, s.NormalizedUserName, s.PasswordHash, s.PhoneNumber, s.PhoneNumberConfirmed, s.RefreshToken, s.RefreshTokenExpiry, s.SecurityStamp, s.TenantId0, s.TwoFactorEnabled, s.UserName, p1.Id, p1.Address, p1.CreatedAt, p1.DateOfBirth, p1.DeletedAt, p1.Gender, p1.IsDefault, p1.IsDeleted, p1.Name, p1.Notes, p1.ParentPatientId, p1.Phone, p1.TenantId, p1.UpdatedAt, p1.UserId
                FROM 
                (
                    SELECT TOP(1) p.Id, p.Address, p.CreatedAt, p.DateOfBirth, p.DeletedAt, p.Gender, p.IsDefault, p.IsDeleted, p.Name, p.Notes, p.ParentPatientId, p.Phone, p.TenantId, p.UpdatedAt, p.UserId, a.Id AS Id0, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt AS CreatedAt0, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId AS TenantId0, a.TwoFactorEnabled, a.UserName
                    FROM Patients AS p
                    INNER JOIN AspNetUsers AS a ON p.UserId == a.Id
                    WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && ((p.Id == @__id_0) && (p.TenantId == @__tenantId_1))
                ) AS s
                LEFT JOIN 
                (
                    SELECT p0.Id, p0.Address, p0.CreatedAt, p0.DateOfBirth, p0.DeletedAt, p0.Gender, p0.IsDefault, p0.IsDeleted, p0.Name, p0.Notes, p0.ParentPatientId, p0.Phone, p0.TenantId, p0.UpdatedAt, p0.UserId
                    FROM Patients AS p0
                    WHERE (Not(p0.IsDeleted) && (p0.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(p0.IsDeleted)
                ) AS p1 ON s.Id == p1.ParentPatientId
                ORDER BY s.Id ASC, s.Id0 ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                resultContext.Values == null ? 
                {
                    Patient entity;
                    ApplicationUser entity;
                    entity = 
                    {
                        MaterializationContext materializationContext1;
                        IEntityType entityType1;
                        Patient instance1;
                        InternalEntityEntry entry1;
                        bool hasNullKey1;
                        materializationContext1 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance1 = default(Patient);
                        entry1 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Patient.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindPrimaryKey()], 
                            keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                            throwOnNullKey: True, 
                            hasNullKey: hasNullKey1);
                        !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                        {
                            entityType1 = entry1.EntityType;
                            return instance1 = (Patient)entry1.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot1;
                            shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType1 = [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")];
                            instance1 = switch (entityType1)
                            {
                                case [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]: 
                                    {
                                        return 
                                        {
                                            Patient instance;
                                            instance = new Patient();
                                            instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                            instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                            instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(2);
                                            instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                            instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                            instance.<Gender>k__BackingField = Invoke(((EnumToNumberConverter<Gender, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Patient.Gender (Gender) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindProperty("Gender")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                            instance.<IsDefault>k__BackingField = dataReader.GetBoolean(6);
                                            instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(7);
                                            instance.<Name>k__BackingField = dataReader.GetString(8);
                                            instance.<Notes>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<ParentPatientId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid?) : (Guid?)dataReader.GetGuid(10);
                                            instance.<Phone>k__BackingField = dataReader.GetString(11);
                                            instance.<TenantId>k__BackingField = dataReader.GetGuid(12);
                                            instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(13);
                                            instance.<UserId>k__BackingField = dataReader.GetGuid(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext1.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Patient)
                            }
                            ;
                            entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType1, 
                                entity: instance1, 
                                snapshot: shadowSnapshot1);
                            return instance1;
                        } : default(void);
                        return instance1;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        ApplicationUser instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(ApplicationUser);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: ApplicationUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser").FindPrimaryKey()], 
                            keyValues: new object[]{ (object)dataReader.GetGuid(15) }, 
                            throwOnNullKey: True, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (ApplicationUser)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]: 
                                    {
                                        return 
                                        {
                                            ApplicationUser instance;
                                            instance = new ApplicationUser();
                                            instance.<Id>k__BackingField = dataReader.GetGuid(15);
                                            instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(16);
                                            instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                            instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(18);
                                            instance.<DisplayName>k__BackingField = dataReader.GetString(19);
                                            instance.<Email>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                            instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                            instance.<IsActive>k__BackingField = dataReader.GetBoolean(22);
                                            instance.<LastLoginAt>k__BackingField = dataReader.IsDBNull(23) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(23);
                                            instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(24);
                                            instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(25) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(25);
                                            instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                            instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                            instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(28) ? default(string) : dataReader.GetString(28);
                                            instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(29) ? default(string) : dataReader.GetString(29);
                                            instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(30);
                                            instance.<RefreshToken>k__BackingField = dataReader.IsDBNull(31) ? default(string) : dataReader.GetString(31);
                                            instance.<RefreshTokenExpiry>k__BackingField = dataReader.IsDBNull(32) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(32);
                                            instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                            instance.<TenantId>k__BackingField = dataReader.IsDBNull(34) ? default(Guid?) : (Guid?)dataReader.GetGuid(34);
                                            instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(35);
                                            instance.<UserName>k__BackingField = dataReader.IsDBNull(36) ? default(string) : dataReader.GetString(36);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(ApplicationUser)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    resultContext.Values = new object[]
                    { 
                        entity, 
                        entity 
                    };
                    ShaperProcessingExpressionVisitor.IncludeReference<Patient, Patient, ApplicationUser>(
                        queryContext: queryContext, 
                        entity: (Patient)(resultContext.Values[0]), 
                        relatedEntity: (ApplicationUser)(resultContext.Values[1]), 
                        navigation: [LIFTABLE Constant: Navigation: Patient.User (ApplicationUser) ToPrincipal ApplicationUser | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("User")], 
                        inverseNavigation: default(INavigation), 
                        fixup: (namelessParameter{8}, namelessParameter{9}) => 
                        {
                            return namelessParameter{8}.<User>k__BackingField = namelessParameter{9};
                        }, 
                        trackingQuery: True);
                    ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Patient, Patient>(
                        collectionId: 0, 
                        queryContext: queryContext, 
                        dbDataReader: dataReader, 
                        resultCoordinator: resultCoordinator, 
                        entity: (Patient)(resultContext.Values[0]), 
                        parentIdentifier: (queryContext, dataReader) => new object[]
                        { 
                            (object)(Guid?)dataReader.GetGuid(0), 
                            (object)(Guid?)dataReader.GetGuid(15) 
                        }, 
                        outerIdentifier: (queryContext, dataReader) => new object[]
                        { 
                            (object)(Guid?)dataReader.GetGuid(0), 
                            (object)(Guid?)dataReader.GetGuid(15) 
                        }, 
                        navigation: [LIFTABLE Constant: Navigation: Patient.SubProfiles (ICollection<Patient>) Collection ToDependent Patient Inverse: ParentPatient | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles")], 
                        clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Patient, ICollection<Patient>, Patient> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles").GetCollectionAccessor()], 
                        trackingQuery: True, 
                        setLoaded: True);
                } : default(void);
                ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Patient, Patient>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: (queryContext, dataReader) => new object[]
                    { 
                        (object)(Guid?)dataReader.GetGuid(0), 
                        (object)(Guid?)dataReader.GetGuid(15) 
                    }, 
                    outerIdentifier: (queryContext, dataReader) => new object[]
                    { 
                        (object)(Guid?)dataReader.GetGuid(0), 
                        (object)(Guid?)dataReader.GetGuid(15) 
                    }, 
                    selfIdentifier: (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(37) ? default(Guid?) : (Guid?)dataReader.GetGuid(37) }, 
                    parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) 
                    }], 
                    outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) 
                    }], 
                    selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                    {
                        Patient entity;
                        entity = 
                        {
                            MaterializationContext materializationContext3;
                            IEntityType entityType3;
                            Patient instance3;
                            InternalEntityEntry entry3;
                            bool hasNullKey3;
                            materializationContext3 = new MaterializationContext(
                                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                                queryContext.Context
                            );
                            instance3 = default(Patient);
                            entry3 = queryContext.TryGetEntry(
                                key: [LIFTABLE Constant: Key: Patient.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindPrimaryKey()], 
                                keyValues: new object[]{ dataReader.IsDBNull(37) ? default(object) : (object)dataReader.GetGuid(37) }, 
                                throwOnNullKey: False, 
                                hasNullKey: hasNullKey3);
                            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                            {
                                entityType3 = entry3.EntityType;
                                return instance3 = (Patient)entry3.Entity;
                            } : 
                            {
                                ISnapshot shadowSnapshot3;
                                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                                entityType3 = [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")];
                                instance3 = switch (entityType3)
                                {
                                    case [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]: 
                                        {
                                            return 
                                            {
                                                Patient instance;
                                                instance = new Patient();
                                                instance.<Id>k__BackingField = dataReader.IsDBNull(37) ? default(Guid) : dataReader.GetGuid(37);
                                                instance.<Address>k__BackingField = dataReader.IsDBNull(38) ? default(string) : dataReader.GetString(38);
                                                instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(39) ? default(DateTime) : dataReader.GetDateTime(39);
                                                instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(40) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(40);
                                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(41) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(41);
                                                instance.<Gender>k__BackingField = dataReader.IsDBNull(42) ? default(Gender) : Invoke(((EnumToNumberConverter<Gender, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Patient.Gender (Gender) Required | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindProperty("Gender")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(42));
                                                instance.<IsDefault>k__BackingField = dataReader.IsDBNull(43) ? default(bool) : dataReader.GetBoolean(43);
                                                instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(44) ? default(bool) : dataReader.GetBoolean(44);
                                                instance.<Name>k__BackingField = dataReader.IsDBNull(45) ? default(string) : dataReader.GetString(45);
                                                instance.<Notes>k__BackingField = dataReader.IsDBNull(46) ? default(string) : dataReader.GetString(46);
                                                instance.<ParentPatientId>k__BackingField = dataReader.IsDBNull(47) ? default(Guid?) : (Guid?)dataReader.GetGuid(47);
                                                instance.<Phone>k__BackingField = dataReader.IsDBNull(48) ? default(string) : dataReader.GetString(48);
                                                instance.<TenantId>k__BackingField = dataReader.IsDBNull(49) ? default(Guid) : dataReader.GetGuid(49);
                                                instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(50) ? default(DateTime) : dataReader.GetDateTime(50);
                                                instance.<UserId>k__BackingField = dataReader.IsDBNull(51) ? default(Guid) : dataReader.GetGuid(51);
                                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                    context: materializationContext3.Context, 
                                                    entity: instance, 
                                                    queryTrackingBehavior: TrackAll, 
                                                    structuralType: [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]) : default(void);
                                                return instance;
                                            }}
                                    default: 
                                        default(Patient)
                                }
                                ;
                                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                    entityType: entityType3, 
                                    entity: instance3, 
                                    snapshot: shadowSnapshot3);
                                return instance3;
                            } : default(void);
                            return instance3;
                        };
                        return entity;
                    }, 
                    inverseNavigation: [LIFTABLE Constant: Navigation: Patient.ParentPatient (Patient) ToPrincipal Patient Inverse: SubProfiles | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("ParentPatient")], 
                    fixup: (namelessParameter{17}, namelessParameter{18}) => 
                    {
                        [LIFTABLE Constant: ClrICollectionAccessor<Patient, ICollection<Patient>, Patient> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles").GetCollectionAccessor()].Add(
                            entity: namelessParameter{17}, 
                            value: namelessParameter{18}, 
                            forMaterialization: True);
                        return namelessParameter{18}.<ParentPatient>k__BackingField = namelessParameter{17};
                    }, 
                    trackingQuery: True);
                return IsTrue(resultCoordinator.ResultReady)
                 ? (Patient)(resultContext.Values[0]) : default(Patient);
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:24:07.204 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.206 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.207 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:07.208 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:07.209 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:07.210 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[CreatedAt], [s].[DateOfBirth], [s].[DeletedAt], [s].[Gender], [s].[IsDefault], [s].[IsDeleted], [s].[Name], [s].[Notes], [s].[ParentPatientId], [s].[Phone], [s].[TenantId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [AspNetUsers] AS [a] ON [p].[UserId] = [a].[Id]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[Id] = @__id_0 AND [p].[TenantId] = @__tenantId_1
) AS [s]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId]
    FROM [Patients] AS [p0]
    WHERE [p0].[IsDeleted] = CAST(0 AS bit) AND [p0].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p0].[IsDeleted] = CAST(0 AS bit)
) AS [p1] ON [s].[Id] = [p1].[ParentPatientId]
ORDER BY [s].[Id], [s].[Id0]
2026-02-07 09:24:07.352 +02:00 [INF] Executed DbCommand (141ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[CreatedAt], [s].[DateOfBirth], [s].[DeletedAt], [s].[Gender], [s].[IsDefault], [s].[IsDeleted], [s].[Name], [s].[Notes], [s].[ParentPatientId], [s].[Phone], [s].[TenantId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [AspNetUsers] AS [a] ON [p].[UserId] = [a].[Id]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[Id] = @__id_0 AND [p].[TenantId] = @__tenantId_1
) AS [s]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId]
    FROM [Patients] AS [p0]
    WHERE [p0].[IsDeleted] = CAST(0 AS bit) AND [p0].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p0].[IsDeleted] = CAST(0 AS bit)
) AS [p1] ON [s].[Id] = [p1].[ParentPatientId]
ORDER BY [s].[Id], [s].[Id0]
2026-02-07 09:24:07.355 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:07.355 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:07.356 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:07.360 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.361 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 6ms reading results.
2026-02-07 09:24:07.362 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.362 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:07.363 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:07.364 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:07.365 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:07.365 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:07.365 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:07.366 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.PatientDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:07.368 +02:00 [INF] Executed action EliteClinic.Api.Controllers.PatientsController.GetPatientById (EliteClinic.Api) in 197.5596ms
2026-02-07 09:24:07.368 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.PatientsController.GetPatientById (EliteClinic.Api)'
2026-02-07 09:24:07.369 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:07.370 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:07.370 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.371 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:07.372 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196 - 200 null application/json; charset=utf-8 355.1688ms
2026-02-07 09:24:07.378 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5094/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196 - application/json 78
2026-02-07 09:24:07.379 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196'
2026-02-07 09:24:07.380 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.PatientsController.UpdatePatient (EliteClinic.Api)' with route pattern 'api/clinic/patients/{id:guid}' is valid for the request path '/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196'
2026-02-07 09:24:07.381 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.PatientsController.UpdatePatient (EliteClinic.Api)'
2026-02-07 09:24:07.382 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:07.383 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:07.384 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:07.384 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:07.385 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.385 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.386 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:07.386 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:07.387 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:07.388 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:07.510 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:07.511 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.512 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:07.513 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.514 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:07.515 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:07.515 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:07.517 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:07.517 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.PatientsController.UpdatePatient (EliteClinic.Api)'
2026-02-07 09:24:07.520 +02:00 [INF] Route matched with {action = "UpdatePatient", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.PatientDto]]] UpdatePatient(System.Guid, EliteClinic.Application.Features.Clinic.DTOs.UpdatePatientRequest) on controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api).
2026-02-07 09:24:07.522 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:07.522 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:07.523 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:07.525 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:07.526 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:07.528 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:07.529 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:07.530 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:07.531 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:24:07.532 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:07.533 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:07.534 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:07.534 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:07.535 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdatePatientRequest' ...
2026-02-07 09:24:07.536 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdatePatientRequest' using the name '' in request data ...
2026-02-07 09:24:07.537 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:07.538 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000020": started reading request body.
2026-02-07 09:24:07.539 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000020": done reading request body.
2026-02-07 09:24:07.541 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Clinic.DTOs.UpdatePatientRequest'
2026-02-07 09:24:07.542 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdatePatientRequest'.
2026-02-07 09:24:07.543 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdatePatientRequest'.
2026-02-07 09:24:07.544 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdatePatientRequest' ...
2026-02-07 09:24:07.546 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.UpdatePatientRequest'.
2026-02-07 09:24:07.550 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.552 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.553 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:07.554 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:07.555 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:07.556 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[CreatedAt], [s].[DateOfBirth], [s].[DeletedAt], [s].[Gender], [s].[IsDefault], [s].[IsDeleted], [s].[Name], [s].[Notes], [s].[ParentPatientId], [s].[Phone], [s].[TenantId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [AspNetUsers] AS [a] ON [p].[UserId] = [a].[Id]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[Id] = @__id_0 AND [p].[TenantId] = @__tenantId_1
) AS [s]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId]
    FROM [Patients] AS [p0]
    WHERE [p0].[IsDeleted] = CAST(0 AS bit) AND [p0].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p0].[IsDeleted] = CAST(0 AS bit)
) AS [p1] ON [s].[Id] = [p1].[ParentPatientId]
ORDER BY [s].[Id], [s].[Id0]
2026-02-07 09:24:07.679 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[CreatedAt], [s].[DateOfBirth], [s].[DeletedAt], [s].[Gender], [s].[IsDefault], [s].[IsDeleted], [s].[Name], [s].[Notes], [s].[ParentPatientId], [s].[Phone], [s].[TenantId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [AspNetUsers] AS [a] ON [p].[UserId] = [a].[Id]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[Id] = @__id_0 AND [p].[TenantId] = @__tenantId_1
) AS [s]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId]
    FROM [Patients] AS [p0]
    WHERE [p0].[IsDeleted] = CAST(0 AS bit) AND [p0].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p0].[IsDeleted] = CAST(0 AS bit)
) AS [p1] ON [s].[Id] = [p1].[ParentPatientId]
ORDER BY [s].[Id], [s].[Id0]
2026-02-07 09:24:07.682 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:07.683 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:07.684 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:07.685 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.685 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 3ms reading results.
2026-02-07 09:24:07.686 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.687 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:07.688 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.688 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.689 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:07.689 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:07.689 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:07.690 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:07.820 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:07.821 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.822 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:07.822 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.823 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:07.823 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:07.824 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:07.825 +02:00 [DBG] The unchanged property 'Patient.Address' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:07.826 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:07.826 +02:00 [DBG] The unchanged property 'Patient.DateOfBirth' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:07.827 +02:00 [DBG] The unchanged property 'Patient.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:07.827 +02:00 [DBG] The unchanged property 'Patient.Phone' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:07.828 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:07.829 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:07.830 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:07.831 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:07.832 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:07.833 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:07.834 +02:00 [DBG] Executing 3 update commands as a batch.
2026-02-07 09:24:07.834 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.835 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:07.835 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:24:07.961 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:24:07.961 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:07.962 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:07.963 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:07.964 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p42='?' (DbType = Guid), @p37='?' (Size = 4000), @p38='?' (DbType = DateTime2), @p39='?' (Size = 200), @p40='?' (Size = 20), @p41='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
UPDATE [Patients] SET [Address] = @p37, [DateOfBirth] = @p38, [Name] = @p39, [Phone] = @p40, [UpdatedAt] = @p41
OUTPUT 1
WHERE [Id] = @p42;
2026-02-07 09:24:08.100 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256), @p23='?' (DbType = Guid), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (Size = 4000), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (Size = 4000), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p42='?' (DbType = Guid), @p37='?' (Size = 4000), @p38='?' (DbType = DateTime2), @p39='?' (Size = 200), @p40='?' (Size = 20), @p41='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
UPDATE [Patients] SET [Address] = @p37, [DateOfBirth] = @p38, [Name] = @p39, [Phone] = @p40, [UpdatedAt] = @p41
OUTPUT 1
WHERE [Id] = @p42;
2026-02-07 09:24:08.103 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:08.105 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:24:08.106 +02:00 [DBG] Committing transaction.
2026-02-07 09:24:08.239 +02:00 [DBG] Committed transaction.
2026-02-07 09:24:08.240 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:08.241 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:08.242 +02:00 [DBG] Disposing transaction.
2026-02-07 09:24:08.242 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:08.243 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:08.244 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:08.246 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 3 entities written to the database.
2026-02-07 09:24:08.247 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:08.248 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:08.249 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:08.250 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:08.251 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:08.252 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 0 entities written to the database.
2026-02-07 09:24:08.254 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:08.255 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:08.256 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:08.257 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:08.257 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:08.258 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.PatientDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:08.259 +02:00 [INF] Executed action EliteClinic.Api.Controllers.PatientsController.UpdatePatient (EliteClinic.Api) in 731.1545ms
2026-02-07 09:24:08.260 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.PatientsController.UpdatePatient (EliteClinic.Api)'
2026-02-07 09:24:08.260 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:08.262 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:08.263 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:08.264 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:24:08.266 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5094/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196 - 200 null application/json; charset=utf-8 887.4693ms
2026-02-07 09:24:08.274 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196/profiles - application/json 86
2026-02-07 09:24:08.276 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196/profiles'
2026-02-07 09:24:08.277 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.PatientsController.AddSubProfile (EliteClinic.Api)' with route pattern 'api/clinic/patients/{id:guid}/profiles' is valid for the request path '/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196/profiles'
2026-02-07 09:24:08.278 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.PatientsController.AddSubProfile (EliteClinic.Api)'
2026-02-07 09:24:08.278 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:08.279 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:08.281 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:08.281 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:08.282 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:08.283 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:08.283 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:08.284 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:08.284 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:08.285 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:08.420 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:08.423 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:08.424 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:08.425 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:08.427 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:08.428 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:08.429 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:08.430 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:08.431 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.PatientsController.AddSubProfile (EliteClinic.Api)'
2026-02-07 09:24:08.436 +02:00 [INF] Route matched with {action = "AddSubProfile", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.PatientDto]]] AddSubProfile(System.Guid, EliteClinic.Application.Features.Clinic.DTOs.AddSubProfileRequest) on controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api).
2026-02-07 09:24:08.438 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:08.439 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:08.440 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:08.441 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:08.442 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:08.443 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:08.444 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:08.445 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:08.445 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:24:08.446 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:08.447 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:08.447 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:08.448 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:08.449 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.AddSubProfileRequest' ...
2026-02-07 09:24:08.449 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.AddSubProfileRequest' using the name '' in request data ...
2026-02-07 09:24:08.450 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:08.452 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000021": started reading request body.
2026-02-07 09:24:08.453 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000021": done reading request body.
2026-02-07 09:24:08.454 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Clinic.DTOs.AddSubProfileRequest'
2026-02-07 09:24:08.455 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.AddSubProfileRequest'.
2026-02-07 09:24:08.456 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.AddSubProfileRequest'.
2026-02-07 09:24:08.457 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.AddSubProfileRequest' ...
2026-02-07 09:24:08.459 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.AddSubProfileRequest'.
2026-02-07 09:24:08.462 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Include(p => p.User)
    .Include(p => p.SubProfiles
        .Where(sp => !(sp.IsDeleted)))
    .FirstOrDefault(p => p.Id == __parentId_0 && p.TenantId == __tenantId_1 && p.ParentPatientId == null)'
2026-02-07 09:24:08.463 +02:00 [DBG] Including navigation: 'Patient.User'.
2026-02-07 09:24:08.464 +02:00 [DBG] Including navigation: 'Patient.SubProfiles'.
2026-02-07 09:24:08.468 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
        asyncEnumerable: SingleQueryingEnumerable.Create<Patient>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Address (string), 1], [Property: Patient.CreatedAt (DateTime) Required, 2], [Property: Patient.DateOfBirth (DateTime?), 3], [Property: Patient.DeletedAt (DateTime?), 4], [Property: Patient.Gender (Gender) Required, 5], [Property: Patient.IsDefault (bool) Required, 6], [Property: Patient.IsDeleted (bool) Required, 7], [Property: Patient.Name (string) Required MaxLength(200), 8], [Property: Patient.Notes (string), 9], [Property: Patient.ParentPatientId (Guid?) FK Index, 10], [Property: Patient.Phone (string) Required MaxLength(20), 11], [Property: Patient.TenantId (Guid) Required, 12], [Property: Patient.UpdatedAt (DateTime) Required, 13], [Property: Patient.UserId (Guid) Required FK Index, 14] }
                    1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                    2 -> 0
                    3 -> 15
                    4 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: Patient.Address (string), 38], [Property: Patient.CreatedAt (DateTime) Required, 39], [Property: Patient.DateOfBirth (DateTime?), 40], [Property: Patient.DeletedAt (DateTime?), 41], [Property: Patient.Gender (Gender) Required, 42], [Property: Patient.IsDefault (bool) Required, 43], [Property: Patient.IsDeleted (bool) Required, 44], [Property: Patient.Name (string) Required MaxLength(200), 45], [Property: Patient.Notes (string), 46], [Property: Patient.ParentPatientId (Guid?) FK Index, 47], [Property: Patient.Phone (string) Required MaxLength(20), 48], [Property: Patient.TenantId (Guid) Required, 49], [Property: Patient.UpdatedAt (DateTime) Required, 50], [Property: Patient.UserId (Guid) Required FK Index, 51] }
                    5 -> 37
                SELECT s.Id, s.Address, s.CreatedAt, s.DateOfBirth, s.DeletedAt, s.Gender, s.IsDefault, s.IsDeleted, s.Name, s.Notes, s.ParentPatientId, s.Phone, s.TenantId, s.UpdatedAt, s.UserId, s.Id0, s.AccessFailedCount, s.ConcurrencyStamp, s.CreatedAt0, s.DisplayName, s.Email, s.EmailConfirmed, s.IsActive, s.LastLoginAt, s.LockoutEnabled, s.LockoutEnd, s.NormalizedEmail, s.NormalizedUserName, s.PasswordHash, s.PhoneNumber, s.PhoneNumberConfirmed, s.RefreshToken, s.RefreshTokenExpiry, s.SecurityStamp, s.TenantId0, s.TwoFactorEnabled, s.UserName, p1.Id, p1.Address, p1.CreatedAt, p1.DateOfBirth, p1.DeletedAt, p1.Gender, p1.IsDefault, p1.IsDeleted, p1.Name, p1.Notes, p1.ParentPatientId, p1.Phone, p1.TenantId, p1.UpdatedAt, p1.UserId
                FROM 
                (
                    SELECT TOP(1) p.Id, p.Address, p.CreatedAt, p.DateOfBirth, p.DeletedAt, p.Gender, p.IsDefault, p.IsDeleted, p.Name, p.Notes, p.ParentPatientId, p.Phone, p.TenantId, p.UpdatedAt, p.UserId, a.Id AS Id0, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt AS CreatedAt0, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId AS TenantId0, a.TwoFactorEnabled, a.UserName
                    FROM Patients AS p
                    INNER JOIN AspNetUsers AS a ON p.UserId == a.Id
                    WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && (((p.Id == @__parentId_0) && (p.TenantId == @__tenantId_1)) && (p.ParentPatientId == NULL))
                ) AS s
                LEFT JOIN 
                (
                    SELECT p0.Id, p0.Address, p0.CreatedAt, p0.DateOfBirth, p0.DeletedAt, p0.Gender, p0.IsDefault, p0.IsDeleted, p0.Name, p0.Notes, p0.ParentPatientId, p0.Phone, p0.TenantId, p0.UpdatedAt, p0.UserId
                    FROM Patients AS p0
                    WHERE (Not(p0.IsDeleted) && (p0.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(p0.IsDeleted)
                ) AS p1 ON s.Id == p1.ParentPatientId
                ORDER BY s.Id ASC, s.Id0 ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Address (string), 1], [Property: Patient.CreatedAt (DateTime) Required, 2], [Property: Patient.DateOfBirth (DateTime?), 3], [Property: Patient.DeletedAt (DateTime?), 4], [Property: Patient.Gender (Gender) Required, 5], [Property: Patient.IsDefault (bool) Required, 6], [Property: Patient.IsDeleted (bool) Required, 7], [Property: Patient.Name (string) Required MaxLength(200), 8], [Property: Patient.Notes (string), 9], [Property: Patient.ParentPatientId (Guid?) FK Index, 10], [Property: Patient.Phone (string) Required MaxLength(20), 11], [Property: Patient.TenantId (Guid) Required, 12], [Property: Patient.UpdatedAt (DateTime) Required, 13], [Property: Patient.UserId (Guid) Required FK Index, 14] }
                    1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                    2 -> 0
                    3 -> 15
                    4 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: Patient.Address (string), 38], [Property: Patient.CreatedAt (DateTime) Required, 39], [Property: Patient.DateOfBirth (DateTime?), 40], [Property: Patient.DeletedAt (DateTime?), 41], [Property: Patient.Gender (Gender) Required, 42], [Property: Patient.IsDefault (bool) Required, 43], [Property: Patient.IsDeleted (bool) Required, 44], [Property: Patient.Name (string) Required MaxLength(200), 45], [Property: Patient.Notes (string), 46], [Property: Patient.ParentPatientId (Guid?) FK Index, 47], [Property: Patient.Phone (string) Required MaxLength(20), 48], [Property: Patient.TenantId (Guid) Required, 49], [Property: Patient.UpdatedAt (DateTime) Required, 50], [Property: Patient.UserId (Guid) Required FK Index, 51] }
                    5 -> 37
                SELECT s.Id, s.Address, s.CreatedAt, s.DateOfBirth, s.DeletedAt, s.Gender, s.IsDefault, s.IsDeleted, s.Name, s.Notes, s.ParentPatientId, s.Phone, s.TenantId, s.UpdatedAt, s.UserId, s.Id0, s.AccessFailedCount, s.ConcurrencyStamp, s.CreatedAt0, s.DisplayName, s.Email, s.EmailConfirmed, s.IsActive, s.LastLoginAt, s.LockoutEnabled, s.LockoutEnd, s.NormalizedEmail, s.NormalizedUserName, s.PasswordHash, s.PhoneNumber, s.PhoneNumberConfirmed, s.RefreshToken, s.RefreshTokenExpiry, s.SecurityStamp, s.TenantId0, s.TwoFactorEnabled, s.UserName, p1.Id, p1.Address, p1.CreatedAt, p1.DateOfBirth, p1.DeletedAt, p1.Gender, p1.IsDefault, p1.IsDeleted, p1.Name, p1.Notes, p1.ParentPatientId, p1.Phone, p1.TenantId, p1.UpdatedAt, p1.UserId
                FROM 
                (
                    SELECT TOP(1) p.Id, p.Address, p.CreatedAt, p.DateOfBirth, p.DeletedAt, p.Gender, p.IsDefault, p.IsDeleted, p.Name, p.Notes, p.ParentPatientId, p.Phone, p.TenantId, p.UpdatedAt, p.UserId, a.Id AS Id0, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt AS CreatedAt0, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId AS TenantId0, a.TwoFactorEnabled, a.UserName
                    FROM Patients AS p
                    INNER JOIN AspNetUsers AS a ON p.UserId == a.Id
                    WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && (((p.Id == @__parentId_0) && (p.TenantId == @__tenantId_1)) && (p.ParentPatientId == NULL))
                ) AS s
                LEFT JOIN 
                (
                    SELECT p0.Id, p0.Address, p0.CreatedAt, p0.DateOfBirth, p0.DeletedAt, p0.Gender, p0.IsDefault, p0.IsDeleted, p0.Name, p0.Notes, p0.ParentPatientId, p0.Phone, p0.TenantId, p0.UpdatedAt, p0.UserId
                    FROM Patients AS p0
                    WHERE (Not(p0.IsDeleted) && (p0.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(p0.IsDeleted)
                ) AS p1 ON s.Id == p1.ParentPatientId
                ORDER BY s.Id ASC, s.Id0 ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                resultContext.Values == null ? 
                {
                    Patient entity;
                    ApplicationUser entity;
                    entity = 
                    {
                        MaterializationContext materializationContext1;
                        IEntityType entityType1;
                        Patient instance1;
                        InternalEntityEntry entry1;
                        bool hasNullKey1;
                        materializationContext1 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance1 = default(Patient);
                        entry1 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Patient.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindPrimaryKey()], 
                            keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                            throwOnNullKey: True, 
                            hasNullKey: hasNullKey1);
                        !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                        {
                            entityType1 = entry1.EntityType;
                            return instance1 = (Patient)entry1.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot1;
                            shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType1 = [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")];
                            instance1 = switch (entityType1)
                            {
                                case [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]: 
                                    {
                                        return 
                                        {
                                            Patient instance;
                                            instance = new Patient();
                                            instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                            instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                            instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(2);
                                            instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                            instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                            instance.<Gender>k__BackingField = Invoke(((EnumToNumberConverter<Gender, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Patient.Gender (Gender) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindProperty("Gender")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                            instance.<IsDefault>k__BackingField = dataReader.GetBoolean(6);
                                            instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(7);
                                            instance.<Name>k__BackingField = dataReader.GetString(8);
                                            instance.<Notes>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<ParentPatientId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid?) : (Guid?)dataReader.GetGuid(10);
                                            instance.<Phone>k__BackingField = dataReader.GetString(11);
                                            instance.<TenantId>k__BackingField = dataReader.GetGuid(12);
                                            instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(13);
                                            instance.<UserId>k__BackingField = dataReader.GetGuid(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext1.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Patient)
                            }
                            ;
                            entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType1, 
                                entity: instance1, 
                                snapshot: shadowSnapshot1);
                            return instance1;
                        } : default(void);
                        return instance1;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        ApplicationUser instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(ApplicationUser);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: ApplicationUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser").FindPrimaryKey()], 
                            keyValues: new object[]{ (object)dataReader.GetGuid(15) }, 
                            throwOnNullKey: True, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (ApplicationUser)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]: 
                                    {
                                        return 
                                        {
                                            ApplicationUser instance;
                                            instance = new ApplicationUser();
                                            instance.<Id>k__BackingField = dataReader.GetGuid(15);
                                            instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(16);
                                            instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                            instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(18);
                                            instance.<DisplayName>k__BackingField = dataReader.GetString(19);
                                            instance.<Email>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                            instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                            instance.<IsActive>k__BackingField = dataReader.GetBoolean(22);
                                            instance.<LastLoginAt>k__BackingField = dataReader.IsDBNull(23) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(23);
                                            instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(24);
                                            instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(25) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(25);
                                            instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                            instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                            instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(28) ? default(string) : dataReader.GetString(28);
                                            instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(29) ? default(string) : dataReader.GetString(29);
                                            instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(30);
                                            instance.<RefreshToken>k__BackingField = dataReader.IsDBNull(31) ? default(string) : dataReader.GetString(31);
                                            instance.<RefreshTokenExpiry>k__BackingField = dataReader.IsDBNull(32) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(32);
                                            instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                            instance.<TenantId>k__BackingField = dataReader.IsDBNull(34) ? default(Guid?) : (Guid?)dataReader.GetGuid(34);
                                            instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(35);
                                            instance.<UserName>k__BackingField = dataReader.IsDBNull(36) ? default(string) : dataReader.GetString(36);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(ApplicationUser)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    resultContext.Values = new object[]
                    { 
                        entity, 
                        entity 
                    };
                    ShaperProcessingExpressionVisitor.IncludeReference<Patient, Patient, ApplicationUser>(
                        queryContext: queryContext, 
                        entity: (Patient)(resultContext.Values[0]), 
                        relatedEntity: (ApplicationUser)(resultContext.Values[1]), 
                        navigation: [LIFTABLE Constant: Navigation: Patient.User (ApplicationUser) ToPrincipal ApplicationUser | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("User")], 
                        inverseNavigation: default(INavigation), 
                        fixup: (namelessParameter{8}, namelessParameter{9}) => 
                        {
                            return namelessParameter{8}.<User>k__BackingField = namelessParameter{9};
                        }, 
                        trackingQuery: True);
                    ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Patient, Patient>(
                        collectionId: 0, 
                        queryContext: queryContext, 
                        dbDataReader: dataReader, 
                        resultCoordinator: resultCoordinator, 
                        entity: (Patient)(resultContext.Values[0]), 
                        parentIdentifier: (queryContext, dataReader) => new object[]
                        { 
                            (object)(Guid?)dataReader.GetGuid(0), 
                            (object)(Guid?)dataReader.GetGuid(15) 
                        }, 
                        outerIdentifier: (queryContext, dataReader) => new object[]
                        { 
                            (object)(Guid?)dataReader.GetGuid(0), 
                            (object)(Guid?)dataReader.GetGuid(15) 
                        }, 
                        navigation: [LIFTABLE Constant: Navigation: Patient.SubProfiles (ICollection<Patient>) Collection ToDependent Patient Inverse: ParentPatient | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles")], 
                        clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Patient, ICollection<Patient>, Patient> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles").GetCollectionAccessor()], 
                        trackingQuery: True, 
                        setLoaded: True);
                } : default(void);
                ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Patient, Patient>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: (queryContext, dataReader) => new object[]
                    { 
                        (object)(Guid?)dataReader.GetGuid(0), 
                        (object)(Guid?)dataReader.GetGuid(15) 
                    }, 
                    outerIdentifier: (queryContext, dataReader) => new object[]
                    { 
                        (object)(Guid?)dataReader.GetGuid(0), 
                        (object)(Guid?)dataReader.GetGuid(15) 
                    }, 
                    selfIdentifier: (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(37) ? default(Guid?) : (Guid?)dataReader.GetGuid(37) }, 
                    parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) 
                    }], 
                    outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) 
                    }], 
                    selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                    {
                        Patient entity;
                        entity = 
                        {
                            MaterializationContext materializationContext3;
                            IEntityType entityType3;
                            Patient instance3;
                            InternalEntityEntry entry3;
                            bool hasNullKey3;
                            materializationContext3 = new MaterializationContext(
                                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                                queryContext.Context
                            );
                            instance3 = default(Patient);
                            entry3 = queryContext.TryGetEntry(
                                key: [LIFTABLE Constant: Key: Patient.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindPrimaryKey()], 
                                keyValues: new object[]{ dataReader.IsDBNull(37) ? default(object) : (object)dataReader.GetGuid(37) }, 
                                throwOnNullKey: False, 
                                hasNullKey: hasNullKey3);
                            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                            {
                                entityType3 = entry3.EntityType;
                                return instance3 = (Patient)entry3.Entity;
                            } : 
                            {
                                ISnapshot shadowSnapshot3;
                                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                                entityType3 = [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")];
                                instance3 = switch (entityType3)
                                {
                                    case [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]: 
                                        {
                                            return 
                                            {
                                                Patient instance;
                                                instance = new Patient();
                                                instance.<Id>k__BackingField = dataReader.IsDBNull(37) ? default(Guid) : dataReader.GetGuid(37);
                                                instance.<Address>k__BackingField = dataReader.IsDBNull(38) ? default(string) : dataReader.GetString(38);
                                                instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(39) ? default(DateTime) : dataReader.GetDateTime(39);
                                                instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(40) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(40);
                                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(41) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(41);
                                                instance.<Gender>k__BackingField = dataReader.IsDBNull(42) ? default(Gender) : Invoke(((EnumToNumberConverter<Gender, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Patient.Gender (Gender) Required | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindProperty("Gender")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(42));
                                                instance.<IsDefault>k__BackingField = dataReader.IsDBNull(43) ? default(bool) : dataReader.GetBoolean(43);
                                                instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(44) ? default(bool) : dataReader.GetBoolean(44);
                                                instance.<Name>k__BackingField = dataReader.IsDBNull(45) ? default(string) : dataReader.GetString(45);
                                                instance.<Notes>k__BackingField = dataReader.IsDBNull(46) ? default(string) : dataReader.GetString(46);
                                                instance.<ParentPatientId>k__BackingField = dataReader.IsDBNull(47) ? default(Guid?) : (Guid?)dataReader.GetGuid(47);
                                                instance.<Phone>k__BackingField = dataReader.IsDBNull(48) ? default(string) : dataReader.GetString(48);
                                                instance.<TenantId>k__BackingField = dataReader.IsDBNull(49) ? default(Guid) : dataReader.GetGuid(49);
                                                instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(50) ? default(DateTime) : dataReader.GetDateTime(50);
                                                instance.<UserId>k__BackingField = dataReader.IsDBNull(51) ? default(Guid) : dataReader.GetGuid(51);
                                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                    context: materializationContext3.Context, 
                                                    entity: instance, 
                                                    queryTrackingBehavior: TrackAll, 
                                                    structuralType: [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]) : default(void);
                                                return instance;
                                            }}
                                    default: 
                                        default(Patient)
                                }
                                ;
                                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                    entityType: entityType3, 
                                    entity: instance3, 
                                    snapshot: shadowSnapshot3);
                                return instance3;
                            } : default(void);
                            return instance3;
                        };
                        return entity;
                    }, 
                    inverseNavigation: [LIFTABLE Constant: Navigation: Patient.ParentPatient (Patient) ToPrincipal Patient Inverse: SubProfiles | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("ParentPatient")], 
                    fixup: (namelessParameter{17}, namelessParameter{18}) => 
                    {
                        [LIFTABLE Constant: ClrICollectionAccessor<Patient, ICollection<Patient>, Patient> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles").GetCollectionAccessor()].Add(
                            entity: namelessParameter{17}, 
                            value: namelessParameter{18}, 
                            forMaterialization: True);
                        return namelessParameter{18}.<ParentPatient>k__BackingField = namelessParameter{17};
                    }, 
                    trackingQuery: True);
                return IsTrue(resultCoordinator.ResultReady)
                 ? (Patient)(resultContext.Values[0]) : default(Patient);
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:24:08.479 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:08.480 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:08.480 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:08.481 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:08.482 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:08.482 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__parentId_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[CreatedAt], [s].[DateOfBirth], [s].[DeletedAt], [s].[Gender], [s].[IsDefault], [s].[IsDeleted], [s].[Name], [s].[Notes], [s].[ParentPatientId], [s].[Phone], [s].[TenantId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [AspNetUsers] AS [a] ON [p].[UserId] = [a].[Id]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[Id] = @__parentId_0 AND [p].[TenantId] = @__tenantId_1 AND [p].[ParentPatientId] IS NULL
) AS [s]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId]
    FROM [Patients] AS [p0]
    WHERE [p0].[IsDeleted] = CAST(0 AS bit) AND [p0].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p0].[IsDeleted] = CAST(0 AS bit)
) AS [p1] ON [s].[Id] = [p1].[ParentPatientId]
ORDER BY [s].[Id], [s].[Id0]
2026-02-07 09:24:08.611 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__parentId_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[CreatedAt], [s].[DateOfBirth], [s].[DeletedAt], [s].[Gender], [s].[IsDefault], [s].[IsDeleted], [s].[Name], [s].[Notes], [s].[ParentPatientId], [s].[Phone], [s].[TenantId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [AspNetUsers] AS [a] ON [p].[UserId] = [a].[Id]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[Id] = @__parentId_0 AND [p].[TenantId] = @__tenantId_1 AND [p].[ParentPatientId] IS NULL
) AS [s]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId]
    FROM [Patients] AS [p0]
    WHERE [p0].[IsDeleted] = CAST(0 AS bit) AND [p0].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p0].[IsDeleted] = CAST(0 AS bit)
) AS [p1] ON [s].[Id] = [p1].[ParentPatientId]
ORDER BY [s].[Id], [s].[Id0]
2026-02-07 09:24:08.612 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:08.613 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:08.614 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:08.616 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:08.617 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 4ms reading results.
2026-02-07 09:24:08.618 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:08.619 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:08.619 +02:00 [DBG] The navigation 'Patient.ParentPatient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:08.620 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:08.621 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:08.622 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:08.622 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:08.623 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:08.624 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:08.625 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:08.626 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:08.627 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:08.627 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:08.628 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:24:08.629 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:08.629 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:08.630 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:24:08.759 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:24:08.760 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:08.761 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:08.761 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:08.762 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:24:08.886 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:24:08.889 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:08.889 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:08.890 +02:00 [DBG] Committing transaction.
2026-02-07 09:24:09.020 +02:00 [DBG] Committed transaction.
2026-02-07 09:24:09.021 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.021 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:09.022 +02:00 [DBG] Disposing transaction.
2026-02-07 09:24:09.023 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:09.024 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:09.025 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:24:09.026 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Include(p => p.User)
    .Include(p => p.SubProfiles
        .Where(sp => !(sp.IsDeleted)))
    .First(p => p.Id == __parentId_0)'
2026-02-07 09:24:09.027 +02:00 [DBG] Including navigation: 'Patient.User'.
2026-02-07 09:24:09.028 +02:00 [DBG] Including navigation: 'Patient.SubProfiles'.
2026-02-07 09:24:09.031 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<Patient>(
        asyncEnumerable: SingleQueryingEnumerable.Create<Patient>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Address (string), 1], [Property: Patient.CreatedAt (DateTime) Required, 2], [Property: Patient.DateOfBirth (DateTime?), 3], [Property: Patient.DeletedAt (DateTime?), 4], [Property: Patient.Gender (Gender) Required, 5], [Property: Patient.IsDefault (bool) Required, 6], [Property: Patient.IsDeleted (bool) Required, 7], [Property: Patient.Name (string) Required MaxLength(200), 8], [Property: Patient.Notes (string), 9], [Property: Patient.ParentPatientId (Guid?) FK Index, 10], [Property: Patient.Phone (string) Required MaxLength(20), 11], [Property: Patient.TenantId (Guid) Required, 12], [Property: Patient.UpdatedAt (DateTime) Required, 13], [Property: Patient.UserId (Guid) Required FK Index, 14] }
                    1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                    2 -> 0
                    3 -> 15
                    4 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: Patient.Address (string), 38], [Property: Patient.CreatedAt (DateTime) Required, 39], [Property: Patient.DateOfBirth (DateTime?), 40], [Property: Patient.DeletedAt (DateTime?), 41], [Property: Patient.Gender (Gender) Required, 42], [Property: Patient.IsDefault (bool) Required, 43], [Property: Patient.IsDeleted (bool) Required, 44], [Property: Patient.Name (string) Required MaxLength(200), 45], [Property: Patient.Notes (string), 46], [Property: Patient.ParentPatientId (Guid?) FK Index, 47], [Property: Patient.Phone (string) Required MaxLength(20), 48], [Property: Patient.TenantId (Guid) Required, 49], [Property: Patient.UpdatedAt (DateTime) Required, 50], [Property: Patient.UserId (Guid) Required FK Index, 51] }
                    5 -> 37
                SELECT s.Id, s.Address, s.CreatedAt, s.DateOfBirth, s.DeletedAt, s.Gender, s.IsDefault, s.IsDeleted, s.Name, s.Notes, s.ParentPatientId, s.Phone, s.TenantId, s.UpdatedAt, s.UserId, s.Id0, s.AccessFailedCount, s.ConcurrencyStamp, s.CreatedAt0, s.DisplayName, s.Email, s.EmailConfirmed, s.IsActive, s.LastLoginAt, s.LockoutEnabled, s.LockoutEnd, s.NormalizedEmail, s.NormalizedUserName, s.PasswordHash, s.PhoneNumber, s.PhoneNumberConfirmed, s.RefreshToken, s.RefreshTokenExpiry, s.SecurityStamp, s.TenantId0, s.TwoFactorEnabled, s.UserName, p1.Id, p1.Address, p1.CreatedAt, p1.DateOfBirth, p1.DeletedAt, p1.Gender, p1.IsDefault, p1.IsDeleted, p1.Name, p1.Notes, p1.ParentPatientId, p1.Phone, p1.TenantId, p1.UpdatedAt, p1.UserId
                FROM 
                (
                    SELECT TOP(1) p.Id, p.Address, p.CreatedAt, p.DateOfBirth, p.DeletedAt, p.Gender, p.IsDefault, p.IsDeleted, p.Name, p.Notes, p.ParentPatientId, p.Phone, p.TenantId, p.UpdatedAt, p.UserId, a.Id AS Id0, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt AS CreatedAt0, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId AS TenantId0, a.TwoFactorEnabled, a.UserName
                    FROM Patients AS p
                    INNER JOIN AspNetUsers AS a ON p.UserId == a.Id
                    WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && (p.Id == @__parentId_0)
                ) AS s
                LEFT JOIN 
                (
                    SELECT p0.Id, p0.Address, p0.CreatedAt, p0.DateOfBirth, p0.DeletedAt, p0.Gender, p0.IsDefault, p0.IsDeleted, p0.Name, p0.Notes, p0.ParentPatientId, p0.Phone, p0.TenantId, p0.UpdatedAt, p0.UserId
                    FROM Patients AS p0
                    WHERE (Not(p0.IsDeleted) && (p0.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(p0.IsDeleted)
                ) AS p1 ON s.Id == p1.ParentPatientId
                ORDER BY s.Id ASC, s.Id0 ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Address (string), 1], [Property: Patient.CreatedAt (DateTime) Required, 2], [Property: Patient.DateOfBirth (DateTime?), 3], [Property: Patient.DeletedAt (DateTime?), 4], [Property: Patient.Gender (Gender) Required, 5], [Property: Patient.IsDefault (bool) Required, 6], [Property: Patient.IsDeleted (bool) Required, 7], [Property: Patient.Name (string) Required MaxLength(200), 8], [Property: Patient.Notes (string), 9], [Property: Patient.ParentPatientId (Guid?) FK Index, 10], [Property: Patient.Phone (string) Required MaxLength(20), 11], [Property: Patient.TenantId (Guid) Required, 12], [Property: Patient.UpdatedAt (DateTime) Required, 13], [Property: Patient.UserId (Guid) Required FK Index, 14] }
                    1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                    2 -> 0
                    3 -> 15
                    4 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: Patient.Address (string), 38], [Property: Patient.CreatedAt (DateTime) Required, 39], [Property: Patient.DateOfBirth (DateTime?), 40], [Property: Patient.DeletedAt (DateTime?), 41], [Property: Patient.Gender (Gender) Required, 42], [Property: Patient.IsDefault (bool) Required, 43], [Property: Patient.IsDeleted (bool) Required, 44], [Property: Patient.Name (string) Required MaxLength(200), 45], [Property: Patient.Notes (string), 46], [Property: Patient.ParentPatientId (Guid?) FK Index, 47], [Property: Patient.Phone (string) Required MaxLength(20), 48], [Property: Patient.TenantId (Guid) Required, 49], [Property: Patient.UpdatedAt (DateTime) Required, 50], [Property: Patient.UserId (Guid) Required FK Index, 51] }
                    5 -> 37
                SELECT s.Id, s.Address, s.CreatedAt, s.DateOfBirth, s.DeletedAt, s.Gender, s.IsDefault, s.IsDeleted, s.Name, s.Notes, s.ParentPatientId, s.Phone, s.TenantId, s.UpdatedAt, s.UserId, s.Id0, s.AccessFailedCount, s.ConcurrencyStamp, s.CreatedAt0, s.DisplayName, s.Email, s.EmailConfirmed, s.IsActive, s.LastLoginAt, s.LockoutEnabled, s.LockoutEnd, s.NormalizedEmail, s.NormalizedUserName, s.PasswordHash, s.PhoneNumber, s.PhoneNumberConfirmed, s.RefreshToken, s.RefreshTokenExpiry, s.SecurityStamp, s.TenantId0, s.TwoFactorEnabled, s.UserName, p1.Id, p1.Address, p1.CreatedAt, p1.DateOfBirth, p1.DeletedAt, p1.Gender, p1.IsDefault, p1.IsDeleted, p1.Name, p1.Notes, p1.ParentPatientId, p1.Phone, p1.TenantId, p1.UpdatedAt, p1.UserId
                FROM 
                (
                    SELECT TOP(1) p.Id, p.Address, p.CreatedAt, p.DateOfBirth, p.DeletedAt, p.Gender, p.IsDefault, p.IsDeleted, p.Name, p.Notes, p.ParentPatientId, p.Phone, p.TenantId, p.UpdatedAt, p.UserId, a.Id AS Id0, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt AS CreatedAt0, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId AS TenantId0, a.TwoFactorEnabled, a.UserName
                    FROM Patients AS p
                    INNER JOIN AspNetUsers AS a ON p.UserId == a.Id
                    WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && (p.Id == @__parentId_0)
                ) AS s
                LEFT JOIN 
                (
                    SELECT p0.Id, p0.Address, p0.CreatedAt, p0.DateOfBirth, p0.DeletedAt, p0.Gender, p0.IsDefault, p0.IsDeleted, p0.Name, p0.Notes, p0.ParentPatientId, p0.Phone, p0.TenantId, p0.UpdatedAt, p0.UserId
                    FROM Patients AS p0
                    WHERE (Not(p0.IsDeleted) && (p0.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(p0.IsDeleted)
                ) AS p1 ON s.Id == p1.ParentPatientId
                ORDER BY s.Id ASC, s.Id0 ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                resultContext.Values == null ? 
                {
                    Patient entity;
                    ApplicationUser entity;
                    entity = 
                    {
                        MaterializationContext materializationContext1;
                        IEntityType entityType1;
                        Patient instance1;
                        InternalEntityEntry entry1;
                        bool hasNullKey1;
                        materializationContext1 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance1 = default(Patient);
                        entry1 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Patient.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindPrimaryKey()], 
                            keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                            throwOnNullKey: True, 
                            hasNullKey: hasNullKey1);
                        !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                        {
                            entityType1 = entry1.EntityType;
                            return instance1 = (Patient)entry1.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot1;
                            shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType1 = [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")];
                            instance1 = switch (entityType1)
                            {
                                case [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]: 
                                    {
                                        return 
                                        {
                                            Patient instance;
                                            instance = new Patient();
                                            instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                            instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                            instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(2);
                                            instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                            instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                            instance.<Gender>k__BackingField = Invoke(((EnumToNumberConverter<Gender, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Patient.Gender (Gender) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindProperty("Gender")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                            instance.<IsDefault>k__BackingField = dataReader.GetBoolean(6);
                                            instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(7);
                                            instance.<Name>k__BackingField = dataReader.GetString(8);
                                            instance.<Notes>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<ParentPatientId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid?) : (Guid?)dataReader.GetGuid(10);
                                            instance.<Phone>k__BackingField = dataReader.GetString(11);
                                            instance.<TenantId>k__BackingField = dataReader.GetGuid(12);
                                            instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(13);
                                            instance.<UserId>k__BackingField = dataReader.GetGuid(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext1.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Patient)
                            }
                            ;
                            entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType1, 
                                entity: instance1, 
                                snapshot: shadowSnapshot1);
                            return instance1;
                        } : default(void);
                        return instance1;
                    };
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        ApplicationUser instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(ApplicationUser);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: ApplicationUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser").FindPrimaryKey()], 
                            keyValues: new object[]{ (object)dataReader.GetGuid(15) }, 
                            throwOnNullKey: True, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (ApplicationUser)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]: 
                                    {
                                        return 
                                        {
                                            ApplicationUser instance;
                                            instance = new ApplicationUser();
                                            instance.<Id>k__BackingField = dataReader.GetGuid(15);
                                            instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(16);
                                            instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                            instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(18);
                                            instance.<DisplayName>k__BackingField = dataReader.GetString(19);
                                            instance.<Email>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                            instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                            instance.<IsActive>k__BackingField = dataReader.GetBoolean(22);
                                            instance.<LastLoginAt>k__BackingField = dataReader.IsDBNull(23) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(23);
                                            instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(24);
                                            instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(25) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(25);
                                            instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                            instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                            instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(28) ? default(string) : dataReader.GetString(28);
                                            instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(29) ? default(string) : dataReader.GetString(29);
                                            instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(30);
                                            instance.<RefreshToken>k__BackingField = dataReader.IsDBNull(31) ? default(string) : dataReader.GetString(31);
                                            instance.<RefreshTokenExpiry>k__BackingField = dataReader.IsDBNull(32) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(32);
                                            instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                            instance.<TenantId>k__BackingField = dataReader.IsDBNull(34) ? default(Guid?) : (Guid?)dataReader.GetGuid(34);
                                            instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(35);
                                            instance.<UserName>k__BackingField = dataReader.IsDBNull(36) ? default(string) : dataReader.GetString(36);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(ApplicationUser)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    resultContext.Values = new object[]
                    { 
                        entity, 
                        entity 
                    };
                    ShaperProcessingExpressionVisitor.IncludeReference<Patient, Patient, ApplicationUser>(
                        queryContext: queryContext, 
                        entity: (Patient)(resultContext.Values[0]), 
                        relatedEntity: (ApplicationUser)(resultContext.Values[1]), 
                        navigation: [LIFTABLE Constant: Navigation: Patient.User (ApplicationUser) ToPrincipal ApplicationUser | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("User")], 
                        inverseNavigation: default(INavigation), 
                        fixup: (namelessParameter{8}, namelessParameter{9}) => 
                        {
                            return namelessParameter{8}.<User>k__BackingField = namelessParameter{9};
                        }, 
                        trackingQuery: True);
                    ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Patient, Patient>(
                        collectionId: 0, 
                        queryContext: queryContext, 
                        dbDataReader: dataReader, 
                        resultCoordinator: resultCoordinator, 
                        entity: (Patient)(resultContext.Values[0]), 
                        parentIdentifier: (queryContext, dataReader) => new object[]
                        { 
                            (object)(Guid?)dataReader.GetGuid(0), 
                            (object)(Guid?)dataReader.GetGuid(15) 
                        }, 
                        outerIdentifier: (queryContext, dataReader) => new object[]
                        { 
                            (object)(Guid?)dataReader.GetGuid(0), 
                            (object)(Guid?)dataReader.GetGuid(15) 
                        }, 
                        navigation: [LIFTABLE Constant: Navigation: Patient.SubProfiles (ICollection<Patient>) Collection ToDependent Patient Inverse: ParentPatient | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles")], 
                        clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Patient, ICollection<Patient>, Patient> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles").GetCollectionAccessor()], 
                        trackingQuery: True, 
                        setLoaded: True);
                } : default(void);
                ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Patient, Patient>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: (queryContext, dataReader) => new object[]
                    { 
                        (object)(Guid?)dataReader.GetGuid(0), 
                        (object)(Guid?)dataReader.GetGuid(15) 
                    }, 
                    outerIdentifier: (queryContext, dataReader) => new object[]
                    { 
                        (object)(Guid?)dataReader.GetGuid(0), 
                        (object)(Guid?)dataReader.GetGuid(15) 
                    }, 
                    selfIdentifier: (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(37) ? default(Guid?) : (Guid?)dataReader.GetGuid(37) }, 
                    parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) 
                    }], 
                    outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                    { 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                        (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) 
                    }], 
                    selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                    {
                        Patient entity;
                        entity = 
                        {
                            MaterializationContext materializationContext3;
                            IEntityType entityType3;
                            Patient instance3;
                            InternalEntityEntry entry3;
                            bool hasNullKey3;
                            materializationContext3 = new MaterializationContext(
                                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                                queryContext.Context
                            );
                            instance3 = default(Patient);
                            entry3 = queryContext.TryGetEntry(
                                key: [LIFTABLE Constant: Key: Patient.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindPrimaryKey()], 
                                keyValues: new object[]{ dataReader.IsDBNull(37) ? default(object) : (object)dataReader.GetGuid(37) }, 
                                throwOnNullKey: False, 
                                hasNullKey: hasNullKey3);
                            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                            {
                                entityType3 = entry3.EntityType;
                                return instance3 = (Patient)entry3.Entity;
                            } : 
                            {
                                ISnapshot shadowSnapshot3;
                                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                                entityType3 = [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")];
                                instance3 = switch (entityType3)
                                {
                                    case [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]: 
                                        {
                                            return 
                                            {
                                                Patient instance;
                                                instance = new Patient();
                                                instance.<Id>k__BackingField = dataReader.IsDBNull(37) ? default(Guid) : dataReader.GetGuid(37);
                                                instance.<Address>k__BackingField = dataReader.IsDBNull(38) ? default(string) : dataReader.GetString(38);
                                                instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(39) ? default(DateTime) : dataReader.GetDateTime(39);
                                                instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(40) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(40);
                                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(41) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(41);
                                                instance.<Gender>k__BackingField = dataReader.IsDBNull(42) ? default(Gender) : Invoke(((EnumToNumberConverter<Gender, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Patient.Gender (Gender) Required | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindProperty("Gender")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(42));
                                                instance.<IsDefault>k__BackingField = dataReader.IsDBNull(43) ? default(bool) : dataReader.GetBoolean(43);
                                                instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(44) ? default(bool) : dataReader.GetBoolean(44);
                                                instance.<Name>k__BackingField = dataReader.IsDBNull(45) ? default(string) : dataReader.GetString(45);
                                                instance.<Notes>k__BackingField = dataReader.IsDBNull(46) ? default(string) : dataReader.GetString(46);
                                                instance.<ParentPatientId>k__BackingField = dataReader.IsDBNull(47) ? default(Guid?) : (Guid?)dataReader.GetGuid(47);
                                                instance.<Phone>k__BackingField = dataReader.IsDBNull(48) ? default(string) : dataReader.GetString(48);
                                                instance.<TenantId>k__BackingField = dataReader.IsDBNull(49) ? default(Guid) : dataReader.GetGuid(49);
                                                instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(50) ? default(DateTime) : dataReader.GetDateTime(50);
                                                instance.<UserId>k__BackingField = dataReader.IsDBNull(51) ? default(Guid) : dataReader.GetGuid(51);
                                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                    context: materializationContext3.Context, 
                                                    entity: instance, 
                                                    queryTrackingBehavior: TrackAll, 
                                                    structuralType: [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]) : default(void);
                                                return instance;
                                            }}
                                    default: 
                                        default(Patient)
                                }
                                ;
                                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                    entityType: entityType3, 
                                    entity: instance3, 
                                    snapshot: shadowSnapshot3);
                                return instance3;
                            } : default(void);
                            return instance3;
                        };
                        return entity;
                    }, 
                    inverseNavigation: [LIFTABLE Constant: Navigation: Patient.ParentPatient (Patient) ToPrincipal Patient Inverse: SubProfiles | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("ParentPatient")], 
                    fixup: (namelessParameter{17}, namelessParameter{18}) => 
                    {
                        [LIFTABLE Constant: ClrICollectionAccessor<Patient, ICollection<Patient>, Patient> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles").GetCollectionAccessor()].Add(
                            entity: namelessParameter{17}, 
                            value: namelessParameter{18}, 
                            forMaterialization: True);
                        return namelessParameter{18}.<ParentPatient>k__BackingField = namelessParameter{17};
                    }, 
                    trackingQuery: True);
                return IsTrue(resultCoordinator.ResultReady)
                 ? (Patient)(resultContext.Values[0]) : default(Patient);
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:24:09.045 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.046 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.047 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:09.048 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:09.049 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:09.050 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__parentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[CreatedAt], [s].[DateOfBirth], [s].[DeletedAt], [s].[Gender], [s].[IsDefault], [s].[IsDeleted], [s].[Name], [s].[Notes], [s].[ParentPatientId], [s].[Phone], [s].[TenantId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [AspNetUsers] AS [a] ON [p].[UserId] = [a].[Id]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[Id] = @__parentId_0
) AS [s]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId]
    FROM [Patients] AS [p0]
    WHERE [p0].[IsDeleted] = CAST(0 AS bit) AND [p0].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p0].[IsDeleted] = CAST(0 AS bit)
) AS [p1] ON [s].[Id] = [p1].[ParentPatientId]
ORDER BY [s].[Id], [s].[Id0]
2026-02-07 09:24:09.180 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__parentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[CreatedAt], [s].[DateOfBirth], [s].[DeletedAt], [s].[Gender], [s].[IsDefault], [s].[IsDeleted], [s].[Name], [s].[Notes], [s].[ParentPatientId], [s].[Phone], [s].[TenantId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [AspNetUsers] AS [a] ON [p].[UserId] = [a].[Id]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[Id] = @__parentId_0
) AS [s]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId]
    FROM [Patients] AS [p0]
    WHERE [p0].[IsDeleted] = CAST(0 AS bit) AND [p0].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p0].[IsDeleted] = CAST(0 AS bit)
) AS [p1] ON [s].[Id] = [p1].[ParentPatientId]
ORDER BY [s].[Id], [s].[Id0]
2026-02-07 09:24:09.185 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.186 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 4ms reading results.
2026-02-07 09:24:09.188 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.188 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:09.189 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:09.191 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:09.191 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:09.192 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:09.192 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:09.193 +02:00 [INF] Executing ObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.PatientDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:09.194 +02:00 [INF] Executed action EliteClinic.Api.Controllers.PatientsController.AddSubProfile (EliteClinic.Api) in 751.6698ms
2026-02-07 09:24:09.195 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.PatientsController.AddSubProfile (EliteClinic.Api)'
2026-02-07 09:24:09.196 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:09.197 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:09.197 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.198 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:09.200 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196/profiles - 201 null application/json; charset=utf-8 925.4817ms
2026-02-07 09:24:09.213 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196 - application/json null
2026-02-07 09:24:09.215 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196'
2026-02-07 09:24:09.216 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.PatientsController.GetPatientById (EliteClinic.Api)' with route pattern 'api/clinic/patients/{id:guid}' is valid for the request path '/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196'
2026-02-07 09:24:09.217 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.PatientsController.GetPatientById (EliteClinic.Api)'
2026-02-07 09:24:09.218 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:09.219 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:09.220 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:09.220 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:09.221 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.222 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.223 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:09.223 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:09.224 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:09.225 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:09.351 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:09.354 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.355 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:09.356 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.356 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:09.357 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:09.358 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:09.359 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:09.359 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.PatientsController.GetPatientById (EliteClinic.Api)'
2026-02-07 09:24:09.360 +02:00 [INF] Route matched with {action = "GetPatientById", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.PatientDto]]] GetPatientById(System.Guid) on controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api).
2026-02-07 09:24:09.361 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:09.362 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:09.363 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:09.364 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:09.365 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:09.365 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:09.367 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:09.367 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:09.368 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:24:09.370 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:09.371 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:09.371 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:09.372 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:09.373 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.375 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.376 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:09.376 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:09.377 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:09.378 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[CreatedAt], [s].[DateOfBirth], [s].[DeletedAt], [s].[Gender], [s].[IsDefault], [s].[IsDeleted], [s].[Name], [s].[Notes], [s].[ParentPatientId], [s].[Phone], [s].[TenantId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [AspNetUsers] AS [a] ON [p].[UserId] = [a].[Id]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[Id] = @__id_0 AND [p].[TenantId] = @__tenantId_1
) AS [s]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId]
    FROM [Patients] AS [p0]
    WHERE [p0].[IsDeleted] = CAST(0 AS bit) AND [p0].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p0].[IsDeleted] = CAST(0 AS bit)
) AS [p1] ON [s].[Id] = [p1].[ParentPatientId]
ORDER BY [s].[Id], [s].[Id0]
2026-02-07 09:24:09.510 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[CreatedAt], [s].[DateOfBirth], [s].[DeletedAt], [s].[Gender], [s].[IsDefault], [s].[IsDeleted], [s].[Name], [s].[Notes], [s].[ParentPatientId], [s].[Phone], [s].[TenantId], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DisplayName], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[LastLoginAt], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[RefreshToken], [s].[RefreshTokenExpiry], [s].[SecurityStamp], [s].[TenantId0], [s].[TwoFactorEnabled], [s].[UserName], [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt] AS [CreatedAt0], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId] AS [TenantId0], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Patients] AS [p]
    INNER JOIN [AspNetUsers] AS [a] ON [p].[UserId] = [a].[Id]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[Id] = @__id_0 AND [p].[TenantId] = @__tenantId_1
) AS [s]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId]
    FROM [Patients] AS [p0]
    WHERE [p0].[IsDeleted] = CAST(0 AS bit) AND [p0].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p0].[IsDeleted] = CAST(0 AS bit)
) AS [p1] ON [s].[Id] = [p1].[ParentPatientId]
ORDER BY [s].[Id], [s].[Id0]
2026-02-07 09:24:09.512 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:09.513 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:09.514 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:09.514 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:09.515 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:09.516 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.517 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 4ms reading results.
2026-02-07 09:24:09.517 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.518 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:09.519 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:09.521 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:09.521 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:09.522 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:09.522 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:09.523 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.PatientDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:09.523 +02:00 [INF] Executed action EliteClinic.Api.Controllers.PatientsController.GetPatientById (EliteClinic.Api) in 157.9377ms
2026-02-07 09:24:09.525 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.PatientsController.GetPatientById (EliteClinic.Api)'
2026-02-07 09:24:09.525 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:09.527 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:09.528 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.530 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:24:09.532 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196 - 200 null application/json; charset=utf-8 318.1491ms
2026-02-07 09:24:09.538 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196/reset-password - application/json 0
2026-02-07 09:24:09.541 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196/reset-password'
2026-02-07 09:24:09.542 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.PatientsController.ResetPassword (EliteClinic.Api)' with route pattern 'api/clinic/patients/{id:guid}/reset-password' is valid for the request path '/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196/reset-password'
2026-02-07 09:24:09.543 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.PatientsController.ResetPassword (EliteClinic.Api)'
2026-02-07 09:24:09.544 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:09.545 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:09.546 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:09.547 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:09.549 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.550 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.551 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:09.552 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:09.553 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:24:09.555 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:09.670 +02:00 [INF] Executed DbCommand (116ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:09.672 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.673 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:09.673 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.674 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:09.675 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:09.675 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:09.676 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:09.677 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.PatientsController.ResetPassword (EliteClinic.Api)'
2026-02-07 09:24:09.679 +02:00 [INF] Route matched with {action = "ResetPassword", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.ResetPasswordResponse]]] ResetPassword(System.Guid) on controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api).
2026-02-07 09:24:09.680 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:09.681 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:09.682 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:09.683 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:09.683 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:09.684 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:09.684 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:09.685 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:09.685 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:24:09.686 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:09.687 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:09.687 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:09.688 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:09.690 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Include(p => p.User)
    .FirstOrDefault(p => p.Id == __id_0 && p.TenantId == __tenantId_1 && p.ParentPatientId == null)'
2026-02-07 09:24:09.691 +02:00 [DBG] Including navigation: 'Patient.User'.
2026-02-07 09:24:09.694 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
        asyncEnumerable: SingleQueryingEnumerable.Create<Patient>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Address (string), 1], [Property: Patient.CreatedAt (DateTime) Required, 2], [Property: Patient.DateOfBirth (DateTime?), 3], [Property: Patient.DeletedAt (DateTime?), 4], [Property: Patient.Gender (Gender) Required, 5], [Property: Patient.IsDefault (bool) Required, 6], [Property: Patient.IsDeleted (bool) Required, 7], [Property: Patient.Name (string) Required MaxLength(200), 8], [Property: Patient.Notes (string), 9], [Property: Patient.ParentPatientId (Guid?) FK Index, 10], [Property: Patient.Phone (string) Required MaxLength(20), 11], [Property: Patient.TenantId (Guid) Required, 12], [Property: Patient.UpdatedAt (DateTime) Required, 13], [Property: Patient.UserId (Guid) Required FK Index, 14] }
                    1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                SELECT TOP(1) p.Id, p.Address, p.CreatedAt, p.DateOfBirth, p.DeletedAt, p.Gender, p.IsDefault, p.IsDeleted, p.Name, p.Notes, p.ParentPatientId, p.Phone, p.TenantId, p.UpdatedAt, p.UserId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
                FROM Patients AS p
                INNER JOIN AspNetUsers AS a ON p.UserId == a.Id
                WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && (((p.Id == @__id_0) && (p.TenantId == @__tenantId_1)) && (p.ParentPatientId == NULL))) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Address (string), 1], [Property: Patient.CreatedAt (DateTime) Required, 2], [Property: Patient.DateOfBirth (DateTime?), 3], [Property: Patient.DeletedAt (DateTime?), 4], [Property: Patient.Gender (Gender) Required, 5], [Property: Patient.IsDefault (bool) Required, 6], [Property: Patient.IsDeleted (bool) Required, 7], [Property: Patient.Name (string) Required MaxLength(200), 8], [Property: Patient.Notes (string), 9], [Property: Patient.ParentPatientId (Guid?) FK Index, 10], [Property: Patient.Phone (string) Required MaxLength(20), 11], [Property: Patient.TenantId (Guid) Required, 12], [Property: Patient.UpdatedAt (DateTime) Required, 13], [Property: Patient.UserId (Guid) Required FK Index, 14] }
                    1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                SELECT TOP(1) p.Id, p.Address, p.CreatedAt, p.DateOfBirth, p.DeletedAt, p.Gender, p.IsDefault, p.IsDeleted, p.Name, p.Notes, p.ParentPatientId, p.Phone, p.TenantId, p.UpdatedAt, p.UserId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
                FROM Patients AS p
                INNER JOIN AspNetUsers AS a ON p.UserId == a.Id
                WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && (((p.Id == @__id_0) && (p.TenantId == @__tenantId_1)) && (p.ParentPatientId == NULL)), 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                Patient entity;
                ApplicationUser entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Patient instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Patient);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Patient.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Patient)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]: 
                                {
                                    return 
                                    {
                                        Patient instance;
                                        instance = new Patient();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                        instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                        instance.<Gender>k__BackingField = Invoke(((EnumToNumberConverter<Gender, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Patient.Gender (Gender) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindProperty("Gender")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<IsDefault>k__BackingField = dataReader.GetBoolean(6);
                                        instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(7);
                                        instance.<Name>k__BackingField = dataReader.GetString(8);
                                        instance.<Notes>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<ParentPatientId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid?) : (Guid?)dataReader.GetGuid(10);
                                        instance.<Phone>k__BackingField = dataReader.GetString(11);
                                        instance.<TenantId>k__BackingField = dataReader.GetGuid(12);
                                        instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(13);
                                        instance.<UserId>k__BackingField = dataReader.GetGuid(14);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Patient)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    ApplicationUser instance2;
                    InternalEntityEntry entry2;
                    bool hasNullKey2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(ApplicationUser);
                    entry2 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: ApplicationUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(15) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey2);
                    !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                    {
                        entityType2 = entry2.EntityType;
                        return instance2 = (ApplicationUser)entry2.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]: 
                                {
                                    return 
                                    {
                                        ApplicationUser instance;
                                        instance = new ApplicationUser();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(15);
                                        instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(16);
                                        instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                        instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(18);
                                        instance.<DisplayName>k__BackingField = dataReader.GetString(19);
                                        instance.<Email>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                        instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                        instance.<IsActive>k__BackingField = dataReader.GetBoolean(22);
                                        instance.<LastLoginAt>k__BackingField = dataReader.IsDBNull(23) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(23);
                                        instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(24);
                                        instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(25) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(25);
                                        instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                        instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                        instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(28) ? default(string) : dataReader.GetString(28);
                                        instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(29) ? default(string) : dataReader.GetString(29);
                                        instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(30);
                                        instance.<RefreshToken>k__BackingField = dataReader.IsDBNull(31) ? default(string) : dataReader.GetString(31);
                                        instance.<RefreshTokenExpiry>k__BackingField = dataReader.IsDBNull(32) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(32);
                                        instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                        instance.<TenantId>k__BackingField = dataReader.IsDBNull(34) ? default(Guid?) : (Guid?)dataReader.GetGuid(34);
                                        instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(35);
                                        instance.<UserName>k__BackingField = dataReader.IsDBNull(36) ? default(string) : dataReader.GetString(36);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ApplicationUser)
                        }
                        ;
                        entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType2, 
                            entity: instance2, 
                            snapshot: shadowSnapshot2);
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                ShaperProcessingExpressionVisitor.IncludeReference<Patient, Patient, ApplicationUser>(
                    queryContext: queryContext, 
                    entity: entity, 
                    relatedEntity: entity, 
                    navigation: [LIFTABLE Constant: Navigation: Patient.User (ApplicationUser) ToPrincipal ApplicationUser | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("User")], 
                    inverseNavigation: default(INavigation), 
                    fixup: (namelessParameter{8}, namelessParameter{9}) => 
                    {
                        return namelessParameter{8}.<User>k__BackingField = namelessParameter{9};
                    }, 
                    trackingQuery: True);
                return entity;
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:24:09.702 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.703 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.704 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:09.705 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:09.706 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:24:09.707 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Patients] AS [p]
INNER JOIN [AspNetUsers] AS [a] ON [p].[UserId] = [a].[Id]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[Id] = @__id_0 AND [p].[TenantId] = @__tenantId_1 AND [p].[ParentPatientId] IS NULL
2026-02-07 09:24:09.842 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Patients] AS [p]
INNER JOIN [AspNetUsers] AS [a] ON [p].[UserId] = [a].[Id]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[Id] = @__id_0 AND [p].[TenantId] = @__tenantId_1 AND [p].[ParentPatientId] IS NULL
2026-02-07 09:24:09.843 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:09.844 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:09.845 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:09.846 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.847 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 3ms reading results.
2026-02-07 09:24:09.849 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.850 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:09.913 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.914 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:09.915 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:09.916 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:09.916 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:09.917 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:10.050 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:10.054 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.055 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:10.056 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.058 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:10.059 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:10.060 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:10.061 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:10.062 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:10.063 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:10.063 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:10.064 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.066 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.066 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:10.067 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:10.068 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:10.069 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:24:10.200 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:24:10.204 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.205 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:10.208 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.209 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:10.210 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:10.211 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:24:10.213 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:10.214 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:10.215 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:10.215 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:10.216 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:10.216 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.ResetPasswordResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:10.218 +02:00 [INF] Executed action EliteClinic.Api.Controllers.PatientsController.ResetPassword (EliteClinic.Api) in 534.3081ms
2026-02-07 09:24:10.219 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.PatientsController.ResetPassword (EliteClinic.Api)'
2026-02-07 09:24:10.220 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:10.221 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:10.222 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.223 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:10.224 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196/reset-password - 200 null application/json; charset=utf-8 685.6765ms
2026-02-07 09:24:10.234 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/clinic/patients - application/json 67
2026-02-07 09:24:10.235 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/patients'
2026-02-07 09:24:10.236 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.PatientsController.CreatePatient (EliteClinic.Api)' with route pattern 'api/clinic/patients' is valid for the request path '/api/clinic/patients'
2026-02-07 09:24:10.238 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.PatientsController.CreatePatient (EliteClinic.Api)'
2026-02-07 09:24:10.238 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:10.239 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:10.241 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:10.242 +02:00 [DBG] Created DbConnection. (1ms).
2026-02-07 09:24:10.242 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.243 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.244 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:10.245 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:10.246 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:24:10.247 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:10.369 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:10.371 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.372 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:10.373 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.374 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:10.375 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:10.375 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:10.376 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:10.377 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.PatientsController.CreatePatient (EliteClinic.Api)'
2026-02-07 09:24:10.377 +02:00 [INF] Route matched with {action = "CreatePatient", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Clinic.DTOs.CreatePatientResponse]]] CreatePatient(EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest) on controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api).
2026-02-07 09:24:10.379 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:10.380 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:10.381 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:10.383 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:10.384 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:10.385 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:10.386 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:10.387 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest' ...
2026-02-07 09:24:10.388 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest' using the name '' in request data ...
2026-02-07 09:24:10.389 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:10.389 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000024": started reading request body.
2026-02-07 09:24:10.390 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000024": done reading request body.
2026-02-07 09:24:10.391 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest'
2026-02-07 09:24:10.391 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest'.
2026-02-07 09:24:10.392 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest'.
2026-02-07 09:24:10.393 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest' ...
2026-02-07 09:24:10.394 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Clinic.DTOs.CreatePatientRequest'.
2026-02-07 09:24:10.395 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.396 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.397 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:10.397 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:10.398 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:10.399 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Id] = @__tenantId_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:10.519 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Id] = @__tenantId_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:10.520 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:10.521 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.522 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:10.522 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.523 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:10.524 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.524 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.525 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:10.526 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:10.526 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:10.527 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0
2026-02-07 09:24:10.649 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0
2026-02-07 09:24:10.651 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.652 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:10.653 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.654 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:10.656 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.657 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.658 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:10.659 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:10.660 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:10.661 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:10.790 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:10.792 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.792 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:10.793 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.794 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:10.854 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.855 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:10.856 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:10.857 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:10.858 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:10.858 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:10.999 +02:00 [INF] Executed DbCommand (141ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:11.003 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.005 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:24:11.008 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.009 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:11.016 +02:00 [DBG] The navigation 'ApplicationUser.Tenant' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:11.017 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:11.018 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:11.019 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:11.019 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:11.020 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:11.021 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:11.022 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.022 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.023 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:11.023 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:11.024 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:11.025 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (DbType = Guid), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [DisplayName], [Email], [EmailConfirmed], [IsActive], [LastLoginAt], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiry], [SecurityStamp], [TenantId], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2026-02-07 09:24:11.169 +02:00 [INF] Executed DbCommand (144ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (DbType = Guid), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAt], [DisplayName], [Email], [EmailConfirmed], [IsActive], [LastLoginAt], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenExpiry], [SecurityStamp], [TenantId], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2026-02-07 09:24:11.171 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.171 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:11.172 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.173 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:11.174 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:11.175 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:24:11.177 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.178 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.179 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:11.180 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:11.181 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:24:11.182 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:24:11.299 +02:00 [INF] Executed DbCommand (117ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:24:11.302 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:11.303 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.304 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:24:11.305 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.305 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:11.306 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.307 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.308 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:11.309 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:11.309 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:11.310 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid), @__p_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2026-02-07 09:24:11.440 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@__p_0='?' (DbType = Guid), @__p_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2026-02-07 09:24:11.443 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.444 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:11.445 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.445 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:11.447 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.448 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.449 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:11.449 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:11.450 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:11.452 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:24:11.580 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Description], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2026-02-07 09:24:11.583 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.583 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:11.584 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.585 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:11.586 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:11.587 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.588 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.589 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:11.590 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:11.591 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:11.592 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:11.721 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:11.722 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.723 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:11.723 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.724 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:11.725 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:11.726 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:11.726 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:11.727 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:11.728 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:11.729 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:11.730 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:24:11.731 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.732 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:11.733 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:24:11.869 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:24:11.870 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:11.871 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:11.872 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:11.872 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p23='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p24='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Guid), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [DisplayName] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsActive] = @p8, [LastLoginAt] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiry] = @p18, [SecurityStamp] = @p19, [TenantId] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2026-02-07 09:24:12.001 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p23='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p24='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime2), @p19='?' (Size = 4000), @p20='?' (DbType = Guid), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [DisplayName] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsActive] = @p8, [LastLoginAt] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [RefreshToken] = @p17, [RefreshTokenExpiry] = @p18, [SecurityStamp] = @p19, [TenantId] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2026-02-07 09:24:12.003 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.004 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:12.005 +02:00 [DBG] Committing transaction.
2026-02-07 09:24:12.139 +02:00 [DBG] Committed transaction.
2026-02-07 09:24:12.140 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.141 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:12.142 +02:00 [DBG] Disposing transaction.
2026-02-07 09:24:12.142 +02:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:12.143 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:12.145 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:24:12.146 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:12.146 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:12.147 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:12.147 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:12.148 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:12.149 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:12.149 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:12.150 +02:00 [DBG] The unchanged property 'Patient.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:12.150 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:12.151 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:12.152 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:24:12.154 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.154 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.155 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:24:12.289 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:24:12.290 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:12.291 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:12.291 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:12.292 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:24:12.419 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 200), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (Size = 20), @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Patients] ([Id], [Address], [CreatedAt], [DateOfBirth], [DeletedAt], [Gender], [IsDefault], [IsDeleted], [Name], [Notes], [ParentPatientId], [Phone], [TenantId], [UpdatedAt], [UserId])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
2026-02-07 09:24:12.421 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.422 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:12.423 +02:00 [DBG] Committing transaction.
2026-02-07 09:24:12.534 +02:00 [DBG] Committed transaction.
2026-02-07 09:24:12.534 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.535 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:12.536 +02:00 [DBG] Disposing transaction.
2026-02-07 09:24:12.536 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:12.537 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:12.538 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:24:12.539 +02:00 [INF] Patient created: Staff Created Patient for tenant "3d8808ad-0e68-4e6a-8cfb-2a7333da8dbd"
2026-02-07 09:24:12.540 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:12.540 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:12.541 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:12.541 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:12.541 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:12.542 +02:00 [INF] Executing ObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Clinic.DTOs.CreatePatientResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:12.543 +02:00 [INF] Executed action EliteClinic.Api.Controllers.PatientsController.CreatePatient (EliteClinic.Api) in 2157.5604ms
2026-02-07 09:24:12.543 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.PatientsController.CreatePatient (EliteClinic.Api)'
2026-02-07 09:24:12.544 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:12.544 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:12.545 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.545 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:12.546 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/clinic/patients - 201 null application/json; charset=utf-8 2312.6385ms
2026-02-07 09:24:12.557 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/patients?search=Mohamed - application/json null
2026-02-07 09:24:12.558 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/patients'
2026-02-07 09:24:12.558 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)' with route pattern 'api/clinic/patients' is valid for the request path '/api/clinic/patients'
2026-02-07 09:24:12.559 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)'
2026-02-07 09:24:12.560 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:12.561 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:12.562 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:12.562 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:12.562 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.563 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.564 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:12.564 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:12.565 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:12.565 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:12.699 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:12.701 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.702 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:12.703 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.704 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:12.706 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:12.707 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:12.709 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:12.709 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)'
2026-02-07 09:24:12.710 +02:00 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Common.Models.PagedResult`1[EliteClinic.Application.Features.Clinic.DTOs.PatientDto]]]] GetAllPatients(Int32, Int32, System.String) on controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api).
2026-02-07 09:24:12.711 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:12.712 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:12.713 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:12.714 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:12.715 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:12.716 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:12.716 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:12.720 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:12.721 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:12.722 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:12.723 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:12.723 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:12.724 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:12.725 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:12.726 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:12.727 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:12.728 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:12.730 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:12.731 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:12.732 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:12.733 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:12.734 +02:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2026-02-07 09:24:12.735 +02:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name 'search' in request data ...
2026-02-07 09:24:12.737 +02:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2026-02-07 09:24:12.738 +02:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2026-02-07 09:24:12.739 +02:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2026-02-07 09:24:12.740 +02:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2026-02-07 09:24:12.742 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Include(p => p.User)
    .Include(p => p.SubProfiles
        .Where(sp => !(sp.IsDeleted)))
    .Where(p => p.TenantId == __tenantId_0 && p.ParentPatientId == null)
    .Where(p => p.Name.ToLower().Contains(__s_1) || p.Phone.Contains(__s_1))
    .Count()'
2026-02-07 09:24:12.749 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    queryContext.AddParameter(
        name: "__s_1_contains", 
        value: (object)Invoke(queryContext => SqlServerSqlTranslatingExpressionVisitor.ConstructLikePatternParameter(
            queryContext: queryContext, 
            baseParameterName: "__s_1", 
            methodType: Contains), queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
        asyncEnumerable: SingleQueryingEnumerable.Create<int>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT COUNT(*)
                FROM Patients AS p
                WHERE ((Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && ((p.TenantId == @__tenantId_0) && (p.ParentPatientId == NULL))) && ((LOWER(p.Name) LIKE @__s_1_contains ESCAPE N'\') || (p.Phone LIKE @__s_1_contains ESCAPE N'\'))) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Projection Mapping:
                    EmptyProjectionMember -> 0
                SELECT COUNT(*)
                FROM Patients AS p
                WHERE ((Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && ((p.TenantId == @__tenantId_0) && (p.ParentPatientId == NULL))) && ((LOWER(p.Name) LIKE @__s_1_contains ESCAPE N'\') || (p.Phone LIKE @__s_1_contains ESCAPE N'\')), 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                int? value1;
                value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
                return (int)value1;
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:24:12.754 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.755 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.756 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:12.757 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:12.757 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:12.758 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__s_1_contains='?' (Size = 200), @__s_1_contains_1='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL AND (LOWER([p].[Name]) LIKE @__s_1_contains ESCAPE N'\' OR [p].[Phone] LIKE @__s_1_contains_1 ESCAPE N'\')
2026-02-07 09:24:12.889 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__s_1_contains='?' (Size = 200), @__s_1_contains_1='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL AND (LOWER([p].[Name]) LIKE @__s_1_contains ESCAPE N'\' OR [p].[Phone] LIKE @__s_1_contains_1 ESCAPE N'\')
2026-02-07 09:24:12.891 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.891 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:12.892 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.893 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:12.894 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Include(p => p.User)
    .Include(p => p.SubProfiles
        .Where(sp => !(sp.IsDeleted)))
    .Where(p => p.TenantId == __tenantId_0 && p.ParentPatientId == null)
    .Where(p => p.Name.ToLower().Contains(__s_1) || p.Phone.Contains(__s_1))
    .OrderByDescending(p => p.CreatedAt)
    .Skip(__p_2)
    .Take(__p_3)'
2026-02-07 09:24:12.895 +02:00 [DBG] Including navigation: 'Patient.User'.
2026-02-07 09:24:12.896 +02:00 [DBG] Including navigation: 'Patient.SubProfiles'.
2026-02-07 09:24:12.900 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    queryContext.AddParameter(
        name: "__s_1_contains", 
        value: (object)Invoke(queryContext => SqlServerSqlTranslatingExpressionVisitor.ConstructLikePatternParameter(
            queryContext: queryContext, 
            baseParameterName: "__s_1", 
            methodType: Contains), queryContext));
    return SingleQueryingEnumerable.Create<Patient>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Address (string), 1], [Property: Patient.CreatedAt (DateTime) Required, 2], [Property: Patient.DateOfBirth (DateTime?), 3], [Property: Patient.DeletedAt (DateTime?), 4], [Property: Patient.Gender (Gender) Required, 5], [Property: Patient.IsDefault (bool) Required, 6], [Property: Patient.IsDeleted (bool) Required, 7], [Property: Patient.Name (string) Required MaxLength(200), 8], [Property: Patient.Notes (string), 9], [Property: Patient.ParentPatientId (Guid?) FK Index, 10], [Property: Patient.Phone (string) Required MaxLength(20), 11], [Property: Patient.TenantId (Guid) Required, 12], [Property: Patient.UpdatedAt (DateTime) Required, 13], [Property: Patient.UserId (Guid) Required FK Index, 14] }
                1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                2 -> 0
                3 -> 15
                4 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: Patient.Address (string), 38], [Property: Patient.CreatedAt (DateTime) Required, 39], [Property: Patient.DateOfBirth (DateTime?), 40], [Property: Patient.DeletedAt (DateTime?), 41], [Property: Patient.Gender (Gender) Required, 42], [Property: Patient.IsDefault (bool) Required, 43], [Property: Patient.IsDeleted (bool) Required, 44], [Property: Patient.Name (string) Required MaxLength(200), 45], [Property: Patient.Notes (string), 46], [Property: Patient.ParentPatientId (Guid?) FK Index, 47], [Property: Patient.Phone (string) Required MaxLength(20), 48], [Property: Patient.TenantId (Guid) Required, 49], [Property: Patient.UpdatedAt (DateTime) Required, 50], [Property: Patient.UserId (Guid) Required FK Index, 51] }
                5 -> 37
            SELECT p0.Id, p0.Address, p0.CreatedAt, p0.DateOfBirth, p0.DeletedAt, p0.Gender, p0.IsDefault, p0.IsDeleted, p0.Name, p0.Notes, p0.ParentPatientId, p0.Phone, p0.TenantId, p0.UpdatedAt, p0.UserId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName, p2.Id, p2.Address, p2.CreatedAt, p2.DateOfBirth, p2.DeletedAt, p2.Gender, p2.IsDefault, p2.IsDeleted, p2.Name, p2.Notes, p2.ParentPatientId, p2.Phone, p2.TenantId, p2.UpdatedAt, p2.UserId
            FROM 
            (
                SELECT p.Id, p.Address, p.CreatedAt, p.DateOfBirth, p.DeletedAt, p.Gender, p.IsDefault, p.IsDeleted, p.Name, p.Notes, p.ParentPatientId, p.Phone, p.TenantId, p.UpdatedAt, p.UserId
                FROM Patients AS p
                WHERE ((Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && ((p.TenantId == @__tenantId_0) && (p.ParentPatientId == NULL))) && ((LOWER(p.Name) LIKE @__s_1_contains ESCAPE N'\') || (p.Phone LIKE @__s_1_contains ESCAPE N'\'))
                ORDER BY p.CreatedAt DESC
                OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
            ) AS p0
            INNER JOIN AspNetUsers AS a ON p0.UserId == a.Id
            LEFT JOIN 
            (
                SELECT p1.Id, p1.Address, p1.CreatedAt, p1.DateOfBirth, p1.DeletedAt, p1.Gender, p1.IsDefault, p1.IsDeleted, p1.Name, p1.Notes, p1.ParentPatientId, p1.Phone, p1.TenantId, p1.UpdatedAt, p1.UserId
                FROM Patients AS p1
                WHERE (Not(p1.IsDeleted) && (p1.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(p1.IsDeleted)
            ) AS p2 ON p0.Id == p2.ParentPatientId
            ORDER BY p0.CreatedAt DESC, p0.Id ASC, a.Id ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Address (string), 1], [Property: Patient.CreatedAt (DateTime) Required, 2], [Property: Patient.DateOfBirth (DateTime?), 3], [Property: Patient.DeletedAt (DateTime?), 4], [Property: Patient.Gender (Gender) Required, 5], [Property: Patient.IsDefault (bool) Required, 6], [Property: Patient.IsDeleted (bool) Required, 7], [Property: Patient.Name (string) Required MaxLength(200), 8], [Property: Patient.Notes (string), 9], [Property: Patient.ParentPatientId (Guid?) FK Index, 10], [Property: Patient.Phone (string) Required MaxLength(20), 11], [Property: Patient.TenantId (Guid) Required, 12], [Property: Patient.UpdatedAt (DateTime) Required, 13], [Property: Patient.UserId (Guid) Required FK Index, 14] }
                1 -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: ApplicationUser.AccessFailedCount (int) Required, 16], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 17], [Property: ApplicationUser.CreatedAt (DateTime) Required, 18], [Property: ApplicationUser.DisplayName (string) Required, 19], [Property: ApplicationUser.Email (string) MaxLength(256), 20], [Property: ApplicationUser.EmailConfirmed (bool) Required, 21], [Property: ApplicationUser.IsActive (bool) Required, 22], [Property: ApplicationUser.LastLoginAt (DateTime?), 23], [Property: ApplicationUser.LockoutEnabled (bool) Required, 24], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 25], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 26], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 27], [Property: ApplicationUser.PasswordHash (string), 28], [Property: ApplicationUser.PhoneNumber (string), 29], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 30], [Property: ApplicationUser.RefreshToken (string), 31], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 32], [Property: ApplicationUser.SecurityStamp (string), 33], [Property: ApplicationUser.TenantId (Guid?) FK Index, 34], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 35], [Property: ApplicationUser.UserName (string) MaxLength(256), 36] }
                2 -> 0
                3 -> 15
                4 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 37], [Property: Patient.Address (string), 38], [Property: Patient.CreatedAt (DateTime) Required, 39], [Property: Patient.DateOfBirth (DateTime?), 40], [Property: Patient.DeletedAt (DateTime?), 41], [Property: Patient.Gender (Gender) Required, 42], [Property: Patient.IsDefault (bool) Required, 43], [Property: Patient.IsDeleted (bool) Required, 44], [Property: Patient.Name (string) Required MaxLength(200), 45], [Property: Patient.Notes (string), 46], [Property: Patient.ParentPatientId (Guid?) FK Index, 47], [Property: Patient.Phone (string) Required MaxLength(20), 48], [Property: Patient.TenantId (Guid) Required, 49], [Property: Patient.UpdatedAt (DateTime) Required, 50], [Property: Patient.UserId (Guid) Required FK Index, 51] }
                5 -> 37
            SELECT p0.Id, p0.Address, p0.CreatedAt, p0.DateOfBirth, p0.DeletedAt, p0.Gender, p0.IsDefault, p0.IsDeleted, p0.Name, p0.Notes, p0.ParentPatientId, p0.Phone, p0.TenantId, p0.UpdatedAt, p0.UserId, a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName, p2.Id, p2.Address, p2.CreatedAt, p2.DateOfBirth, p2.DeletedAt, p2.Gender, p2.IsDefault, p2.IsDeleted, p2.Name, p2.Notes, p2.ParentPatientId, p2.Phone, p2.TenantId, p2.UpdatedAt, p2.UserId
            FROM 
            (
                SELECT p.Id, p.Address, p.CreatedAt, p.DateOfBirth, p.DeletedAt, p.Gender, p.IsDefault, p.IsDeleted, p.Name, p.Notes, p.ParentPatientId, p.Phone, p.TenantId, p.UpdatedAt, p.UserId
                FROM Patients AS p
                WHERE ((Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && ((p.TenantId == @__tenantId_0) && (p.ParentPatientId == NULL))) && ((LOWER(p.Name) LIKE @__s_1_contains ESCAPE N'\') || (p.Phone LIKE @__s_1_contains ESCAPE N'\'))
                ORDER BY p.CreatedAt DESC
                OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
            ) AS p0
            INNER JOIN AspNetUsers AS a ON p0.UserId == a.Id
            LEFT JOIN 
            (
                SELECT p1.Id, p1.Address, p1.CreatedAt, p1.DateOfBirth, p1.DeletedAt, p1.Gender, p1.IsDefault, p1.IsDeleted, p1.Name, p1.Notes, p1.ParentPatientId, p1.Phone, p1.TenantId, p1.UpdatedAt, p1.UserId
                FROM Patients AS p1
                WHERE (Not(p1.IsDeleted) && (p1.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(p1.IsDeleted)
            ) AS p2 ON p0.Id == p2.ParentPatientId
            ORDER BY p0.CreatedAt DESC, p0.Id ASC, a.Id ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                Patient entity;
                ApplicationUser entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    Patient instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(Patient);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: Patient.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (Patient)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]: 
                                {
                                    return 
                                    {
                                        Patient instance;
                                        instance = new Patient();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                        instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(2);
                                        instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                        instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                        instance.<Gender>k__BackingField = Invoke(((EnumToNumberConverter<Gender, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Patient.Gender (Gender) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindProperty("Gender")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                        instance.<IsDefault>k__BackingField = dataReader.GetBoolean(6);
                                        instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(7);
                                        instance.<Name>k__BackingField = dataReader.GetString(8);
                                        instance.<Notes>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                        instance.<ParentPatientId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid?) : (Guid?)dataReader.GetGuid(10);
                                        instance.<Phone>k__BackingField = dataReader.GetString(11);
                                        instance.<TenantId>k__BackingField = dataReader.GetGuid(12);
                                        instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(13);
                                        instance.<UserId>k__BackingField = dataReader.GetGuid(14);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(Patient)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                entity = 
                {
                    MaterializationContext materializationContext2;
                    IEntityType entityType2;
                    ApplicationUser instance2;
                    InternalEntityEntry entry2;
                    bool hasNullKey2;
                    materializationContext2 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance2 = default(ApplicationUser);
                    entry2 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: ApplicationUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(15) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey2);
                    !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                    {
                        entityType2 = entry2.EntityType;
                        return instance2 = (ApplicationUser)entry2.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot2;
                        shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType2 = [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")];
                        instance2 = switch (entityType2)
                        {
                            case [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]: 
                                {
                                    return 
                                    {
                                        ApplicationUser instance;
                                        instance = new ApplicationUser();
                                        instance.<Id>k__BackingField = dataReader.GetGuid(15);
                                        instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(16);
                                        instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                        instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(18);
                                        instance.<DisplayName>k__BackingField = dataReader.GetString(19);
                                        instance.<Email>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                        instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(21);
                                        instance.<IsActive>k__BackingField = dataReader.GetBoolean(22);
                                        instance.<LastLoginAt>k__BackingField = dataReader.IsDBNull(23) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(23);
                                        instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(24);
                                        instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(25) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(25);
                                        instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                        instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(27) ? default(string) : dataReader.GetString(27);
                                        instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(28) ? default(string) : dataReader.GetString(28);
                                        instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(29) ? default(string) : dataReader.GetString(29);
                                        instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(30);
                                        instance.<RefreshToken>k__BackingField = dataReader.IsDBNull(31) ? default(string) : dataReader.GetString(31);
                                        instance.<RefreshTokenExpiry>k__BackingField = dataReader.IsDBNull(32) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(32);
                                        instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(33) ? default(string) : dataReader.GetString(33);
                                        instance.<TenantId>k__BackingField = dataReader.IsDBNull(34) ? default(Guid?) : (Guid?)dataReader.GetGuid(34);
                                        instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(35);
                                        instance.<UserName>k__BackingField = dataReader.IsDBNull(36) ? default(string) : dataReader.GetString(36);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext2.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ApplicationUser)
                        }
                        ;
                        entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType2, 
                            entity: instance2, 
                            snapshot: shadowSnapshot2);
                        return instance2;
                    } : default(void);
                    return instance2;
                };
                resultContext.Values = new object[]
                { 
                    entity, 
                    entity 
                };
                ShaperProcessingExpressionVisitor.IncludeReference<Patient, Patient, ApplicationUser>(
                    queryContext: queryContext, 
                    entity: (Patient)(resultContext.Values[0]), 
                    relatedEntity: (ApplicationUser)(resultContext.Values[1]), 
                    navigation: [LIFTABLE Constant: Navigation: Patient.User (ApplicationUser) ToPrincipal ApplicationUser | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("User")], 
                    inverseNavigation: default(INavigation), 
                    fixup: (namelessParameter{8}, namelessParameter{9}) => 
                    {
                        return namelessParameter{8}.<User>k__BackingField = namelessParameter{9};
                    }, 
                    trackingQuery: True);
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Patient, Patient>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (Patient)(resultContext.Values[0]), 
                    parentIdentifier: (queryContext, dataReader) => new object[]
                    { 
                        (object)(Guid?)dataReader.GetGuid(0), 
                        (object)(Guid?)dataReader.GetGuid(15) 
                    }, 
                    outerIdentifier: (queryContext, dataReader) => new object[]
                    { 
                        (object)(Guid?)dataReader.GetGuid(0), 
                        (object)(Guid?)dataReader.GetGuid(15) 
                    }, 
                    navigation: [LIFTABLE Constant: Navigation: Patient.SubProfiles (ICollection<Patient>) Collection ToDependent Patient Inverse: ParentPatient | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Patient, ICollection<Patient>, Patient> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Patient, Patient>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: (queryContext, dataReader) => new object[]
                { 
                    (object)(Guid?)dataReader.GetGuid(0), 
                    (object)(Guid?)dataReader.GetGuid(15) 
                }, 
                outerIdentifier: (queryContext, dataReader) => new object[]
                { 
                    (object)(Guid?)dataReader.GetGuid(0), 
                    (object)(Guid?)dataReader.GetGuid(15) 
                }, 
                selfIdentifier: (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(37) ? default(Guid?) : (Guid?)dataReader.GetGuid(37) }, 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) 
                }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
                { 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right), 
                    (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) 
                }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    Patient entity;
                    entity = 
                    {
                        MaterializationContext materializationContext3;
                        IEntityType entityType3;
                        Patient instance3;
                        InternalEntityEntry entry3;
                        bool hasNullKey3;
                        materializationContext3 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance3 = default(Patient);
                        entry3 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Patient.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(37) ? default(object) : (object)dataReader.GetGuid(37) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey3);
                        !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                        {
                            entityType3 = entry3.EntityType;
                            return instance3 = (Patient)entry3.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot3;
                            shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType3 = [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")];
                            instance3 = switch (entityType3)
                            {
                                case [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]: 
                                    {
                                        return 
                                        {
                                            Patient instance;
                                            instance = new Patient();
                                            instance.<Id>k__BackingField = dataReader.IsDBNull(37) ? default(Guid) : dataReader.GetGuid(37);
                                            instance.<Address>k__BackingField = dataReader.IsDBNull(38) ? default(string) : dataReader.GetString(38);
                                            instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(39) ? default(DateTime) : dataReader.GetDateTime(39);
                                            instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(40) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(40);
                                            instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(41) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(41);
                                            instance.<Gender>k__BackingField = dataReader.IsDBNull(42) ? default(Gender) : Invoke(((EnumToNumberConverter<Gender, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Patient.Gender (Gender) Required | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindProperty("Gender")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(42));
                                            instance.<IsDefault>k__BackingField = dataReader.IsDBNull(43) ? default(bool) : dataReader.GetBoolean(43);
                                            instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(44) ? default(bool) : dataReader.GetBoolean(44);
                                            instance.<Name>k__BackingField = dataReader.IsDBNull(45) ? default(string) : dataReader.GetString(45);
                                            instance.<Notes>k__BackingField = dataReader.IsDBNull(46) ? default(string) : dataReader.GetString(46);
                                            instance.<ParentPatientId>k__BackingField = dataReader.IsDBNull(47) ? default(Guid?) : (Guid?)dataReader.GetGuid(47);
                                            instance.<Phone>k__BackingField = dataReader.IsDBNull(48) ? default(string) : dataReader.GetString(48);
                                            instance.<TenantId>k__BackingField = dataReader.IsDBNull(49) ? default(Guid) : dataReader.GetGuid(49);
                                            instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(50) ? default(DateTime) : dataReader.GetDateTime(50);
                                            instance.<UserId>k__BackingField = dataReader.IsDBNull(51) ? default(Guid) : dataReader.GetGuid(51);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext3.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{15} => namelessParameter{15}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Patient)
                            }
                            ;
                            entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType3, 
                                entity: instance3, 
                                snapshot: shadowSnapshot3);
                            return instance3;
                        } : default(void);
                        return instance3;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: Patient.ParentPatient (Patient) ToPrincipal Patient Inverse: SubProfiles | Resolver: namelessParameter{16} => namelessParameter{16}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("ParentPatient")], 
                fixup: (namelessParameter{17}, namelessParameter{18}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<Patient, ICollection<Patient>, Patient> | Resolver: namelessParameter{19} => namelessParameter{19}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles").GetCollectionAccessor()].Add(
                        entity: namelessParameter{17}, 
                        value: namelessParameter{18}, 
                        forMaterialization: True);
                    return namelessParameter{18}.<ParentPatient>k__BackingField = namelessParameter{17};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (Patient)(resultContext.Values[0]) : default(Patient);
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True);
}'
2026-02-07 09:24:12.915 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.916 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:12.917 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:12.918 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:12.918 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:12.919 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__s_1_contains='?' (Size = 200), @__s_1_contains_1='?' (Size = 20), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName], [p2].[Id], [p2].[Address], [p2].[CreatedAt], [p2].[DateOfBirth], [p2].[DeletedAt], [p2].[Gender], [p2].[IsDefault], [p2].[IsDeleted], [p2].[Name], [p2].[Notes], [p2].[ParentPatientId], [p2].[Phone], [p2].[TenantId], [p2].[UpdatedAt], [p2].[UserId]
FROM (
    SELECT [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId]
    FROM [Patients] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL AND (LOWER([p].[Name]) LIKE @__s_1_contains ESCAPE N'\' OR [p].[Phone] LIKE @__s_1_contains_1 ESCAPE N'\')
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
) AS [p0]
INNER JOIN [AspNetUsers] AS [a] ON [p0].[UserId] = [a].[Id]
LEFT JOIN (
    SELECT [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
    FROM [Patients] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS bit) AND [p1].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p1].[IsDeleted] = CAST(0 AS bit)
) AS [p2] ON [p0].[Id] = [p2].[ParentPatientId]
ORDER BY [p0].[CreatedAt] DESC, [p0].[Id], [a].[Id]
2026-02-07 09:24:13.061 +02:00 [INF] Executed DbCommand (142ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__s_1_contains='?' (Size = 200), @__s_1_contains_1='?' (Size = 20), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName], [p2].[Id], [p2].[Address], [p2].[CreatedAt], [p2].[DateOfBirth], [p2].[DeletedAt], [p2].[Gender], [p2].[IsDefault], [p2].[IsDeleted], [p2].[Name], [p2].[Notes], [p2].[ParentPatientId], [p2].[Phone], [p2].[TenantId], [p2].[UpdatedAt], [p2].[UserId]
FROM (
    SELECT [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId]
    FROM [Patients] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL AND (LOWER([p].[Name]) LIKE @__s_1_contains ESCAPE N'\' OR [p].[Phone] LIKE @__s_1_contains_1 ESCAPE N'\')
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
) AS [p0]
INNER JOIN [AspNetUsers] AS [a] ON [p0].[UserId] = [a].[Id]
LEFT JOIN (
    SELECT [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
    FROM [Patients] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS bit) AND [p1].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p1].[IsDeleted] = CAST(0 AS bit)
) AS [p2] ON [p0].[Id] = [p2].[ParentPatientId]
ORDER BY [p0].[CreatedAt] DESC, [p0].[Id], [a].[Id]
2026-02-07 09:24:13.063 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.064 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.064 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.069 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.069 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.070 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.071 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.072 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.072 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.073 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.074 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.075 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.076 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.077 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.078 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.078 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.079 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 16ms reading results.
2026-02-07 09:24:13.080 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.081 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:13.082 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:13.083 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:13.083 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:13.084 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:13.084 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:13.085 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Common.Models.PagedResult`1[[EliteClinic.Application.Features.Clinic.DTOs.PatientDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:13.086 +02:00 [INF] Executed action EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api) in 369.9711ms
2026-02-07 09:24:13.086 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)'
2026-02-07 09:24:13.087 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:13.088 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:13.089 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.090 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:13.090 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/patients?search=Mohamed - 200 null application/json; charset=utf-8 533.8445ms
2026-02-07 09:24:13.099 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5094/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196 - application/json 0
2026-02-07 09:24:13.101 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196'
2026-02-07 09:24:13.103 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.PatientsController.DeletePatient (EliteClinic.Api)' with route pattern 'api/clinic/patients/{id:guid}' is valid for the request path '/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196'
2026-02-07 09:24:13.105 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.PatientsController.DeletePatient (EliteClinic.Api)'
2026-02-07 09:24:13.107 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:13.108 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:13.110 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:13.111 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:13.111 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.112 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.113 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:13.113 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:13.114 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:13.115 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:13.242 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:13.244 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.245 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:13.245 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.246 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:13.247 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:13.247 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:13.248 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:13.249 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.PatientsController.DeletePatient (EliteClinic.Api)'
2026-02-07 09:24:13.252 +02:00 [INF] Route matched with {action = "DeletePatient", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[System.Object]]] DeletePatient(System.Guid) on controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api).
2026-02-07 09:24:13.253 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:13.253 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:13.254 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:13.255 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:13.256 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:13.256 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:13.257 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:13.258 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:13.259 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2026-02-07 09:24:13.260 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:13.260 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:13.261 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2026-02-07 09:24:13.263 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2026-02-07 09:24:13.266 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .Include(p => p.SubProfiles
        .Where(sp => !(sp.IsDeleted)))
    .FirstOrDefault(p => p.Id == __id_0 && p.TenantId == __tenantId_1 && p.ParentPatientId == null)'
2026-02-07 09:24:13.267 +02:00 [DBG] Including navigation: 'Patient.SubProfiles'.
2026-02-07 09:24:13.272 +02:00 [DBG] Generated query execution expression: 
'queryContext => 
{
    queryContext.AddParameter(
        name: "__ef_filter__CurrentTenantId_0", 
        value: (object)Invoke(queryContext => (object)((EliteClinicDbContext)queryContext.Context).CurrentTenantId, queryContext));
    return ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Patient>(
        asyncEnumerable: SingleQueryingEnumerable.Create<Patient>(
            relationalQueryContext: (RelationalQueryContext)queryContext, 
            relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Address (string), 1], [Property: Patient.CreatedAt (DateTime) Required, 2], [Property: Patient.DateOfBirth (DateTime?), 3], [Property: Patient.DeletedAt (DateTime?), 4], [Property: Patient.Gender (Gender) Required, 5], [Property: Patient.IsDefault (bool) Required, 6], [Property: Patient.IsDeleted (bool) Required, 7], [Property: Patient.Name (string) Required MaxLength(200), 8], [Property: Patient.Notes (string), 9], [Property: Patient.ParentPatientId (Guid?) FK Index, 10], [Property: Patient.Phone (string) Required MaxLength(20), 11], [Property: Patient.TenantId (Guid) Required, 12], [Property: Patient.UpdatedAt (DateTime) Required, 13], [Property: Patient.UserId (Guid) Required FK Index, 14] }
                    1 -> 0
                    2 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: Patient.Address (string), 16], [Property: Patient.CreatedAt (DateTime) Required, 17], [Property: Patient.DateOfBirth (DateTime?), 18], [Property: Patient.DeletedAt (DateTime?), 19], [Property: Patient.Gender (Gender) Required, 20], [Property: Patient.IsDefault (bool) Required, 21], [Property: Patient.IsDeleted (bool) Required, 22], [Property: Patient.Name (string) Required MaxLength(200), 23], [Property: Patient.Notes (string), 24], [Property: Patient.ParentPatientId (Guid?) FK Index, 25], [Property: Patient.Phone (string) Required MaxLength(20), 26], [Property: Patient.TenantId (Guid) Required, 27], [Property: Patient.UpdatedAt (DateTime) Required, 28], [Property: Patient.UserId (Guid) Required FK Index, 29] }
                    3 -> 15
                SELECT p1.Id, p1.Address, p1.CreatedAt, p1.DateOfBirth, p1.DeletedAt, p1.Gender, p1.IsDefault, p1.IsDeleted, p1.Name, p1.Notes, p1.ParentPatientId, p1.Phone, p1.TenantId, p1.UpdatedAt, p1.UserId, p2.Id, p2.Address, p2.CreatedAt, p2.DateOfBirth, p2.DeletedAt, p2.Gender, p2.IsDefault, p2.IsDeleted, p2.Name, p2.Notes, p2.ParentPatientId, p2.Phone, p2.TenantId, p2.UpdatedAt, p2.UserId
                FROM 
                (
                    SELECT TOP(1) p.Id, p.Address, p.CreatedAt, p.DateOfBirth, p.DeletedAt, p.Gender, p.IsDefault, p.IsDeleted, p.Name, p.Notes, p.ParentPatientId, p.Phone, p.TenantId, p.UpdatedAt, p.UserId
                    FROM Patients AS p
                    WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && (((p.Id == @__id_0) && (p.TenantId == @__tenantId_1)) && (p.ParentPatientId == NULL))
                ) AS p1
                LEFT JOIN 
                (
                    SELECT p0.Id, p0.Address, p0.CreatedAt, p0.DateOfBirth, p0.DeletedAt, p0.Gender, p0.IsDefault, p0.IsDeleted, p0.Name, p0.Notes, p0.ParentPatientId, p0.Phone, p0.TenantId, p0.UpdatedAt, p0.UserId
                    FROM Patients AS p0
                    WHERE (Not(p0.IsDeleted) && (p0.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(p0.IsDeleted)
                ) AS p2 ON p1.Id == p2.ParentPatientId
                ORDER BY p1.Id ASC) | Resolver: c => new RelationalCommandCache(
                c.Dependencies.MemoryCache, 
                c.RelationalDependencies.QuerySqlGeneratorFactory, 
                c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
                Client Projections:
                    0 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Patient.Address (string), 1], [Property: Patient.CreatedAt (DateTime) Required, 2], [Property: Patient.DateOfBirth (DateTime?), 3], [Property: Patient.DeletedAt (DateTime?), 4], [Property: Patient.Gender (Gender) Required, 5], [Property: Patient.IsDefault (bool) Required, 6], [Property: Patient.IsDeleted (bool) Required, 7], [Property: Patient.Name (string) Required MaxLength(200), 8], [Property: Patient.Notes (string), 9], [Property: Patient.ParentPatientId (Guid?) FK Index, 10], [Property: Patient.Phone (string) Required MaxLength(20), 11], [Property: Patient.TenantId (Guid) Required, 12], [Property: Patient.UpdatedAt (DateTime) Required, 13], [Property: Patient.UserId (Guid) Required FK Index, 14] }
                    1 -> 0
                    2 -> Dictionary<IProperty, int> { [Property: Patient.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: Patient.Address (string), 16], [Property: Patient.CreatedAt (DateTime) Required, 17], [Property: Patient.DateOfBirth (DateTime?), 18], [Property: Patient.DeletedAt (DateTime?), 19], [Property: Patient.Gender (Gender) Required, 20], [Property: Patient.IsDefault (bool) Required, 21], [Property: Patient.IsDeleted (bool) Required, 22], [Property: Patient.Name (string) Required MaxLength(200), 23], [Property: Patient.Notes (string), 24], [Property: Patient.ParentPatientId (Guid?) FK Index, 25], [Property: Patient.Phone (string) Required MaxLength(20), 26], [Property: Patient.TenantId (Guid) Required, 27], [Property: Patient.UpdatedAt (DateTime) Required, 28], [Property: Patient.UserId (Guid) Required FK Index, 29] }
                    3 -> 15
                SELECT p1.Id, p1.Address, p1.CreatedAt, p1.DateOfBirth, p1.DeletedAt, p1.Gender, p1.IsDefault, p1.IsDeleted, p1.Name, p1.Notes, p1.ParentPatientId, p1.Phone, p1.TenantId, p1.UpdatedAt, p1.UserId, p2.Id, p2.Address, p2.CreatedAt, p2.DateOfBirth, p2.DeletedAt, p2.Gender, p2.IsDefault, p2.IsDeleted, p2.Name, p2.Notes, p2.ParentPatientId, p2.Phone, p2.TenantId, p2.UpdatedAt, p2.UserId
                FROM 
                (
                    SELECT TOP(1) p.Id, p.Address, p.CreatedAt, p.DateOfBirth, p.DeletedAt, p.Gender, p.IsDefault, p.IsDeleted, p.Name, p.Notes, p.ParentPatientId, p.Phone, p.TenantId, p.UpdatedAt, p.UserId
                    FROM Patients AS p
                    WHERE (Not(p.IsDeleted) && (p.TenantId == @__ef_filter__CurrentTenantId_0)) && (((p.Id == @__id_0) && (p.TenantId == @__tenantId_1)) && (p.ParentPatientId == NULL))
                ) AS p1
                LEFT JOIN 
                (
                    SELECT p0.Id, p0.Address, p0.CreatedAt, p0.DateOfBirth, p0.DeletedAt, p0.Gender, p0.IsDefault, p0.IsDeleted, p0.Name, p0.Notes, p0.ParentPatientId, p0.Phone, p0.TenantId, p0.UpdatedAt, p0.UserId
                    FROM Patients AS p0
                    WHERE (Not(p0.IsDeleted) && (p0.TenantId == @__ef_filter__CurrentTenantId_0)) && Not(p0.IsDeleted)
                ) AS p2 ON p1.Id == p2.ParentPatientId
                ORDER BY p1.Id ASC, 
                False, 
                new HashSet<string>(
                    new string[]{ }, 
                    StringComparer.Ordinal
                )
            )].GetRelationalCommandTemplate(parameters), 
            readerColumns: null, 
            shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                resultContext.Values == null ? 
                {
                    Patient entity;
                    entity = 
                    {
                        MaterializationContext materializationContext1;
                        IEntityType entityType1;
                        Patient instance1;
                        InternalEntityEntry entry1;
                        bool hasNullKey1;
                        materializationContext1 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance1 = default(Patient);
                        entry1 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: Patient.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindPrimaryKey()], 
                            keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                            throwOnNullKey: True, 
                            hasNullKey: hasNullKey1);
                        !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                        {
                            entityType1 = entry1.EntityType;
                            return instance1 = (Patient)entry1.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot1;
                            shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType1 = [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")];
                            instance1 = switch (entityType1)
                            {
                                case [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]: 
                                    {
                                        return 
                                        {
                                            Patient instance;
                                            instance = new Patient();
                                            instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                            instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                            instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(2);
                                            instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                            instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                            instance.<Gender>k__BackingField = Invoke(((EnumToNumberConverter<Gender, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Patient.Gender (Gender) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindProperty("Gender")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                            instance.<IsDefault>k__BackingField = dataReader.GetBoolean(6);
                                            instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(7);
                                            instance.<Name>k__BackingField = dataReader.GetString(8);
                                            instance.<Notes>k__BackingField = dataReader.IsDBNull(9) ? default(string) : dataReader.GetString(9);
                                            instance.<ParentPatientId>k__BackingField = dataReader.IsDBNull(10) ? default(Guid?) : (Guid?)dataReader.GetGuid(10);
                                            instance.<Phone>k__BackingField = dataReader.GetString(11);
                                            instance.<TenantId>k__BackingField = dataReader.GetGuid(12);
                                            instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(13);
                                            instance.<UserId>k__BackingField = dataReader.GetGuid(14);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext1.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(Patient)
                            }
                            ;
                            entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType1, 
                                entity: instance1, 
                                snapshot: shadowSnapshot1);
                            return instance1;
                        } : default(void);
                        return instance1;
                    };
                    resultContext.Values = new object[]{ entity };
                    ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Patient, Patient>(
                        collectionId: 0, 
                        queryContext: queryContext, 
                        dbDataReader: dataReader, 
                        resultCoordinator: resultCoordinator, 
                        entity: (Patient)(resultContext.Values[0]), 
                        parentIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                        outerIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                        navigation: [LIFTABLE Constant: Navigation: Patient.SubProfiles (ICollection<Patient>) Collection ToDependent Patient Inverse: ParentPatient | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles")], 
                        clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Patient, ICollection<Patient>, Patient> | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles").GetCollectionAccessor()], 
                        trackingQuery: True, 
                        setLoaded: True);
                } : default(void);
                ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Patient, Patient>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    parentIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                    outerIdentifier: (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }, 
                    selfIdentifier: (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(15) ? default(Guid?) : (Guid?)dataReader.GetGuid(15) }, 
                    parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && Invoke((v1, v2) => v1 == v2, (Guid)left, (Guid)right) }], 
                    innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                    {
                        Patient entity;
                        entity = 
                        {
                            MaterializationContext materializationContext2;
                            IEntityType entityType2;
                            Patient instance2;
                            InternalEntityEntry entry2;
                            bool hasNullKey2;
                            materializationContext2 = new MaterializationContext(
                                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                                queryContext.Context
                            );
                            instance2 = default(Patient);
                            entry2 = queryContext.TryGetEntry(
                                key: [LIFTABLE Constant: Key: Patient.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindPrimaryKey()], 
                                keyValues: new object[]{ dataReader.IsDBNull(15) ? default(object) : (object)dataReader.GetGuid(15) }, 
                                throwOnNullKey: False, 
                                hasNullKey: hasNullKey2);
                            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                            {
                                entityType2 = entry2.EntityType;
                                return instance2 = (Patient)entry2.Entity;
                            } : 
                            {
                                ISnapshot shadowSnapshot2;
                                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                                entityType2 = [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")];
                                instance2 = switch (entityType2)
                                {
                                    case [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]: 
                                        {
                                            return 
                                            {
                                                Patient instance;
                                                instance = new Patient();
                                                instance.<Id>k__BackingField = dataReader.IsDBNull(15) ? default(Guid) : dataReader.GetGuid(15);
                                                instance.<Address>k__BackingField = dataReader.IsDBNull(16) ? default(string) : dataReader.GetString(16);
                                                instance.<CreatedAt>k__BackingField = dataReader.IsDBNull(17) ? default(DateTime) : dataReader.GetDateTime(17);
                                                instance.<DateOfBirth>k__BackingField = dataReader.IsDBNull(18) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(18);
                                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(19) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(19);
                                                instance.<Gender>k__BackingField = dataReader.IsDBNull(20) ? default(Gender) : Invoke(((EnumToNumberConverter<Gender, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Patient.Gender (Gender) Required | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindProperty("Gender")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(20));
                                                instance.<IsDefault>k__BackingField = dataReader.IsDBNull(21) ? default(bool) : dataReader.GetBoolean(21);
                                                instance.<IsDeleted>k__BackingField = dataReader.IsDBNull(22) ? default(bool) : dataReader.GetBoolean(22);
                                                instance.<Name>k__BackingField = dataReader.IsDBNull(23) ? default(string) : dataReader.GetString(23);
                                                instance.<Notes>k__BackingField = dataReader.IsDBNull(24) ? default(string) : dataReader.GetString(24);
                                                instance.<ParentPatientId>k__BackingField = dataReader.IsDBNull(25) ? default(Guid?) : (Guid?)dataReader.GetGuid(25);
                                                instance.<Phone>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                                instance.<TenantId>k__BackingField = dataReader.IsDBNull(27) ? default(Guid) : dataReader.GetGuid(27);
                                                instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(28) ? default(DateTime) : dataReader.GetDateTime(28);
                                                instance.<UserId>k__BackingField = dataReader.IsDBNull(29) ? default(Guid) : dataReader.GetGuid(29);
                                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                    context: materializationContext2.Context, 
                                                    entity: instance, 
                                                    queryTrackingBehavior: TrackAll, 
                                                    structuralType: [LIFTABLE Constant: EntityType: Patient | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient")]) : default(void);
                                                return instance;
                                            }}
                                    default: 
                                        default(Patient)
                                }
                                ;
                                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                    entityType: entityType2, 
                                    entity: instance2, 
                                    snapshot: shadowSnapshot2);
                                return instance2;
                            } : default(void);
                            return instance2;
                        };
                        return entity;
                    }, 
                    inverseNavigation: [LIFTABLE Constant: Navigation: Patient.ParentPatient (Patient) ToPrincipal Patient Inverse: SubProfiles | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("ParentPatient")], 
                    fixup: (namelessParameter{11}, namelessParameter{12}) => 
                    {
                        [LIFTABLE Constant: ClrICollectionAccessor<Patient, ICollection<Patient>, Patient> | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Patient").FindNavigation("SubProfiles").GetCollectionAccessor()].Add(
                            entity: namelessParameter{11}, 
                            value: namelessParameter{12}, 
                            forMaterialization: True);
                        return namelessParameter{12}.<ParentPatient>k__BackingField = namelessParameter{11};
                    }, 
                    trackingQuery: True);
                return IsTrue(resultCoordinator.ResultReady)
                 ? (Patient)(resultContext.Values[0]) : default(Patient);
            }, 
            contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
            standAloneStateManager: False, 
            detailedErrorsEnabled: False, 
            threadSafetyChecksEnabled: True), 
        cancellationToken: queryContext.CancellationToken);
}'
2026-02-07 09:24:13.281 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.281 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.282 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:13.282 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:13.283 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:13.284 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId], [p2].[Id], [p2].[Address], [p2].[CreatedAt], [p2].[DateOfBirth], [p2].[DeletedAt], [p2].[Gender], [p2].[IsDefault], [p2].[IsDeleted], [p2].[Name], [p2].[Notes], [p2].[ParentPatientId], [p2].[Phone], [p2].[TenantId], [p2].[UpdatedAt], [p2].[UserId]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId]
    FROM [Patients] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[Id] = @__id_0 AND [p].[TenantId] = @__tenantId_1 AND [p].[ParentPatientId] IS NULL
) AS [p1]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId]
    FROM [Patients] AS [p0]
    WHERE [p0].[IsDeleted] = CAST(0 AS bit) AND [p0].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p0].[IsDeleted] = CAST(0 AS bit)
) AS [p2] ON [p1].[Id] = [p2].[ParentPatientId]
ORDER BY [p1].[Id]
2026-02-07 09:24:13.414 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__id_0='?' (DbType = Guid), @__tenantId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId], [p2].[Id], [p2].[Address], [p2].[CreatedAt], [p2].[DateOfBirth], [p2].[DeletedAt], [p2].[Gender], [p2].[IsDefault], [p2].[IsDeleted], [p2].[Name], [p2].[Notes], [p2].[ParentPatientId], [p2].[Phone], [p2].[TenantId], [p2].[UpdatedAt], [p2].[UserId]
FROM (
    SELECT TOP(1) [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId]
    FROM [Patients] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[Id] = @__id_0 AND [p].[TenantId] = @__tenantId_1 AND [p].[ParentPatientId] IS NULL
) AS [p1]
LEFT JOIN (
    SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId]
    FROM [Patients] AS [p0]
    WHERE [p0].[IsDeleted] = CAST(0 AS bit) AND [p0].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p0].[IsDeleted] = CAST(0 AS bit)
) AS [p2] ON [p1].[Id] = [p2].[ParentPatientId]
ORDER BY [p1].[Id]
2026-02-07 09:24:13.417 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.421 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.422 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.423 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 6ms reading results.
2026-02-07 09:24:13.424 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.425 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:13.428 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.433 +02:00 [DBG] The unchanged property 'Patient.DeletedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:13.434 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.436 +02:00 [DBG] The unchanged property 'Patient.IsDeleted' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:13.440 +02:00 [DBG] The foreign key property 'Patient.ParentPatientId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:13.443 +02:00 [DBG] The navigation 'Patient.ParentPatient' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.445 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:13.446 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:13.447 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Deleted"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.448 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.449 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.450 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:13.451 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:13.452 +02:00 [DBG] The unchanged property 'Patient.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:13.453 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:13.456 +02:00 [DBG] Executing 4 update commands as a batch.
2026-02-07 09:24:13.457 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.458 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.458 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:24:13.584 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:24:13.585 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:13.585 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:13.586 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:13.586 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Guid), @p42='?' (DbType = Guid), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime2), @p30='?' (DbType = DateTime2), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Boolean), @p34='?' (DbType = Boolean), @p35='?' (Size = 200), @p36='?' (Size = 4000), @p37='?' (DbType = Guid), @p38='?' (Size = 20), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime2), @p41='?' (DbType = Guid), @p47='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Boolean), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
UPDATE [Patients] SET [Address] = @p28, [CreatedAt] = @p29, [DateOfBirth] = @p30, [DeletedAt] = @p31, [Gender] = @p32, [IsDefault] = @p33, [IsDeleted] = @p34, [Name] = @p35, [Notes] = @p36, [ParentPatientId] = @p37, [Phone] = @p38, [TenantId] = @p39, [UpdatedAt] = @p40, [UserId] = @p41
OUTPUT 1
WHERE [Id] = @p42;
UPDATE [Patients] SET [DeletedAt] = @p43, [IsDeleted] = @p44, [ParentPatientId] = @p45, [UpdatedAt] = @p46
OUTPUT 1
WHERE [Id] = @p47;
2026-02-07 09:24:13.709 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Guid), @p42='?' (DbType = Guid), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime2), @p30='?' (DbType = DateTime2), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Int32), @p33='?' (DbType = Boolean), @p34='?' (DbType = Boolean), @p35='?' (Size = 200), @p36='?' (Size = 4000), @p37='?' (DbType = Guid), @p38='?' (Size = 20), @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime2), @p41='?' (DbType = Guid), @p47='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Boolean), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
UPDATE [Patients] SET [Address] = @p28, [CreatedAt] = @p29, [DateOfBirth] = @p30, [DeletedAt] = @p31, [Gender] = @p32, [IsDefault] = @p33, [IsDeleted] = @p34, [Name] = @p35, [Notes] = @p36, [ParentPatientId] = @p37, [Phone] = @p38, [TenantId] = @p39, [UpdatedAt] = @p40, [UserId] = @p41
OUTPUT 1
WHERE [Id] = @p42;
UPDATE [Patients] SET [DeletedAt] = @p43, [IsDeleted] = @p44, [ParentPatientId] = @p45, [UpdatedAt] = @p46
OUTPUT 1
WHERE [Id] = @p47;
2026-02-07 09:24:13.711 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.712 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:13.713 +02:00 [DBG] Committing transaction.
2026-02-07 09:24:13.833 +02:00 [DBG] Committed transaction.
2026-02-07 09:24:13.834 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.835 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:13.836 +02:00 [DBG] Disposing transaction.
2026-02-07 09:24:13.837 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.839 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.841 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.842 +02:00 [DBG] An entity of type 'Patient' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:13.844 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 4 entities written to the database.
2026-02-07 09:24:13.846 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:13.848 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:13.848 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:13.849 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:13.850 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:13.851 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-02-07 09:24:13.854 +02:00 [INF] Executed action EliteClinic.Api.Controllers.PatientsController.DeletePatient (EliteClinic.Api) in 597.8301ms
2026-02-07 09:24:13.855 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.PatientsController.DeletePatient (EliteClinic.Api)'
2026-02-07 09:24:13.856 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:13.856 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:13.857 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.858 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:13.859 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5094/api/clinic/patients/06c242e4-6c27-4c1d-b6a7-48cb7f062196 - 200 null application/json; charset=utf-8 760.5967ms
2026-02-07 09:24:13.865 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/patients - application/json null
2026-02-07 09:24:13.866 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/patients'
2026-02-07 09:24:13.867 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)' with route pattern 'api/clinic/patients' is valid for the request path '/api/clinic/patients'
2026-02-07 09:24:13.868 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)'
2026-02-07 09:24:13.869 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:13.870 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:13.871 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:13.872 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:13.872 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.873 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:13.874 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:13.875 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:13.876 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:24:13.877 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:14.009 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:14.011 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.012 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:14.013 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.013 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:14.015 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:14.015 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:14.016 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:14.016 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)'
2026-02-07 09:24:14.017 +02:00 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Common.Models.PagedResult`1[EliteClinic.Application.Features.Clinic.DTOs.PatientDto]]]] GetAllPatients(Int32, Int32, System.String) on controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api).
2026-02-07 09:24:14.018 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:14.019 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:14.020 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:14.021 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:14.022 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:14.023 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:14.024 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:14.024 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:14.025 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:14.026 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:14.027 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:14.028 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:14.029 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:14.029 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:14.030 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:14.031 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:14.032 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:14.033 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:14.034 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:14.035 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:14.036 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:14.036 +02:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2026-02-07 09:24:14.037 +02:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2026-02-07 09:24:14.038 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2026-02-07 09:24:14.039 +02:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2026-02-07 09:24:14.040 +02:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2026-02-07 09:24:14.041 +02:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2026-02-07 09:24:14.042 +02:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2026-02-07 09:24:14.043 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.044 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.045 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:14.045 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:14.046 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:14.047 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL
2026-02-07 09:24:14.189 +02:00 [INF] Executed DbCommand (143ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL
2026-02-07 09:24:14.193 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.194 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:14.195 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.196 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:14.198 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.199 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.202 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:14.203 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:14.204 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:24:14.207 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName], [p2].[Id], [p2].[Address], [p2].[CreatedAt], [p2].[DateOfBirth], [p2].[DeletedAt], [p2].[Gender], [p2].[IsDefault], [p2].[IsDeleted], [p2].[Name], [p2].[Notes], [p2].[ParentPatientId], [p2].[Phone], [p2].[TenantId], [p2].[UpdatedAt], [p2].[UserId]
FROM (
    SELECT [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId]
    FROM [Patients] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [p0]
INNER JOIN [AspNetUsers] AS [a] ON [p0].[UserId] = [a].[Id]
LEFT JOIN (
    SELECT [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
    FROM [Patients] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS bit) AND [p1].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p1].[IsDeleted] = CAST(0 AS bit)
) AS [p2] ON [p0].[Id] = [p2].[ParentPatientId]
ORDER BY [p0].[CreatedAt] DESC, [p0].[Id], [a].[Id]
2026-02-07 09:24:14.321 +02:00 [INF] Executed DbCommand (114ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName], [p2].[Id], [p2].[Address], [p2].[CreatedAt], [p2].[DateOfBirth], [p2].[DeletedAt], [p2].[Gender], [p2].[IsDefault], [p2].[IsDeleted], [p2].[Name], [p2].[Notes], [p2].[ParentPatientId], [p2].[Phone], [p2].[TenantId], [p2].[UpdatedAt], [p2].[UserId]
FROM (
    SELECT [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId]
    FROM [Patients] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [p0]
INNER JOIN [AspNetUsers] AS [a] ON [p0].[UserId] = [a].[Id]
LEFT JOIN (
    SELECT [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
    FROM [Patients] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS bit) AND [p1].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p1].[IsDeleted] = CAST(0 AS bit)
) AS [p2] ON [p0].[Id] = [p2].[ParentPatientId]
ORDER BY [p0].[CreatedAt] DESC, [p0].[Id], [a].[Id]
2026-02-07 09:24:14.323 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.323 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.324 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.325 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.326 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.328 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.329 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.330 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.331 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.331 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.332 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.333 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.333 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.334 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.334 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.335 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.335 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.336 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.336 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.337 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.337 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.338 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.339 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.341 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.342 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.342 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.343 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.344 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 20ms reading results.
2026-02-07 09:24:14.344 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.345 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:14.346 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:14.348 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:14.349 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:14.349 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:14.350 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:14.351 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Common.Models.PagedResult`1[[EliteClinic.Application.Features.Clinic.DTOs.PatientDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:14.353 +02:00 [INF] Executed action EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api) in 329.8967ms
2026-02-07 09:24:14.354 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)'
2026-02-07 09:24:14.354 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:14.355 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:14.355 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.356 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:14.357 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/patients - 200 null application/json; charset=utf-8 492.0541ms
2026-02-07 09:24:14.365 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/auth/patient/login - application/json 62
2026-02-07 09:24:14.367 +02:00 [DBG] 1 candidate(s) found for the request path '/api/auth/patient/login'
2026-02-07 09:24:14.367 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)' with route pattern 'api/Auth/patient/login' is valid for the request path '/api/auth/patient/login'
2026-02-07 09:24:14.368 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)'
2026-02-07 09:24:14.368 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:14.369 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:24:14.369 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)'
2026-02-07 09:24:14.372 +02:00 [INF] Route matched with {action = "PatientLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.PatientLoginResponse]]] PatientLogin(EliteClinic.Application.Features.Auth.DTOs.LoginRequest, System.String) on controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api).
2026-02-07 09:24:14.373 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:14.374 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:14.375 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:14.376 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:14.377 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:14.377 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:14.378 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:14.378 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:14.379 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' using the name '' in request data ...
2026-02-07 09:24:14.379 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:14.380 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000028": started reading request body.
2026-02-07 09:24:14.381 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000028": done reading request body.
2026-02-07 09:24:14.381 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'
2026-02-07 09:24:14.382 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:14.383 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:14.383 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:14.384 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:14.385 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:14.385 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:14.386 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:14.386 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:14.387 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:14.388 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:14.388 +02:00 [DBG] Attempting to validate the bound parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:14.389 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:14.392 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:14.394 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:14.394 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:14.394 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.395 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.396 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:14.396 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:14.396 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:14.397 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:14.520 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:14.521 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.522 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.523 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:14.523 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.524 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:14.585 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.586 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.587 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:14.587 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:14.588 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:14.589 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:14.719 +02:00 [INF] Executed DbCommand (130ms) [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:14.721 +02:00 [DBG] The navigation 'ApplicationUser.Tenant' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.722 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.722 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.723 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:14.723 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.724 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:14.725 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.726 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.726 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:14.726 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:14.727 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:14.728 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:14.850 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:14.851 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.852 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:14.853 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.854 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:14.855 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.856 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.857 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:14.857 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:14.858 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:14.859 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:14.981 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:14.984 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.985 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:14.987 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:14.988 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:14.990 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:14.992 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:14.994 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:14.995 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:14.996 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:14.997 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:14.999 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.001 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.003 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:15.004 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:15.006 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2026-02-07 09:24:15.007 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:24:15.131 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:24:15.132 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.133 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:15.134 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.134 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:15.135 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:15.136 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:24:15.138 +02:00 [DBG] Compiling query expression: 
'DbSet<Patient>()
    .IgnoreQueryFilters()
    .Where(p => p.UserId == __user_Id_0 && p.TenantId == __tenant_Id_1 && !(p.IsDeleted))
    .Select(p => new PatientProfileDto{ 
        Id = p.Id, 
        Name = p.Name, 
        IsDefault = p.IsDefault 
    }
    )'
2026-02-07 09:24:15.140 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<PatientProfileDto>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Name -> 1
            IsDefault -> 2
        SELECT p.Id, p.Name, p.IsDefault
        FROM Patients AS p
        WHERE ((p.UserId == @__user_Id_0) && (p.TenantId == @__tenant_Id_1)) && Not(p.IsDeleted)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            Id -> 0
            Name -> 1
            IsDefault -> 2
        SELECT p.Id, p.Name, p.IsDefault
        FROM Patients AS p
        WHERE ((p.UserId == @__user_Id_0) && (p.TenantId == @__tenant_Id_1)) && Not(p.IsDeleted), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Guid? value1;
        string value2;
        bool? value3;
        value1 = (Guid?)dataReader.GetGuid(0);
        value2 = dataReader.GetString(1);
        value3 = (bool?)dataReader.GetBoolean(2);
        return new PatientProfileDto{ 
            Id = (Guid)value1, 
            Name = value2, 
            IsDefault = (bool)value3 
        }
        ;
    }, 
    contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-02-07 09:24:15.143 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.144 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.145 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:15.145 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:15.146 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:15.146 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Guid), @__tenant_Id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[IsDefault]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__user_Id_0 AND [p].[TenantId] = @__tenant_Id_1 AND [p].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:15.271 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__user_Id_0='?' (DbType = Guid), @__tenant_Id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[IsDefault]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__user_Id_0 AND [p].[TenantId] = @__tenant_Id_1 AND [p].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:15.273 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.274 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:15.274 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.275 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:15.277 +02:00 [INF] Successful patient login for user: patient_demo-clinic_1
2026-02-07 09:24:15.278 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:15.280 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:15.280 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:15.281 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:15.281 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:15.282 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.PatientLoginResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:15.285 +02:00 [INF] Executed action EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api) in 907.9331ms
2026-02-07 09:24:15.286 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)'
2026-02-07 09:24:15.287 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:15.287 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:15.288 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.289 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:15.290 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/auth/patient/login - 200 null application/json; charset=utf-8 924.1923ms
2026-02-07 09:24:15.296 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/auth/patient/login - application/json 62
2026-02-07 09:24:15.298 +02:00 [DBG] 1 candidate(s) found for the request path '/api/auth/patient/login'
2026-02-07 09:24:15.298 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)' with route pattern 'api/Auth/patient/login' is valid for the request path '/api/auth/patient/login'
2026-02-07 09:24:15.300 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)'
2026-02-07 09:24:15.300 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:15.301 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:24:15.302 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)'
2026-02-07 09:24:15.303 +02:00 [INF] Route matched with {action = "PatientLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.PatientLoginResponse]]] PatientLogin(EliteClinic.Application.Features.Auth.DTOs.LoginRequest, System.String) on controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api).
2026-02-07 09:24:15.304 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:15.305 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:15.306 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:15.307 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:15.307 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:15.308 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:15.309 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:15.309 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:15.310 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' using the name '' in request data ...
2026-02-07 09:24:15.311 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:15.312 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000029": started reading request body.
2026-02-07 09:24:15.312 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000029": done reading request body.
2026-02-07 09:24:15.313 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'
2026-02-07 09:24:15.313 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:15.314 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:15.315 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:15.316 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:15.317 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:15.317 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:15.318 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:15.319 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:15.320 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:15.321 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:15.322 +02:00 [DBG] Attempting to validate the bound parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:15.322 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:15.323 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:15.325 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:15.326 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:15.326 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.328 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.328 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:15.329 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:15.330 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:15.330 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:15.453 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:15.455 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:15.456 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.457 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:24:15.458 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.459 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:15.517 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.518 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.519 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:15.520 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:15.521 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:24:15.522 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:15.659 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:15.662 +02:00 [DBG] The navigation 'ApplicationUser.Tenant' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:15.663 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:15.664 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.665 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 3ms reading results.
2026-02-07 09:24:15.666 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.667 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:15.668 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.669 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.669 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:15.670 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:15.671 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:15.671 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:15.812 +02:00 [INF] Executed DbCommand (140ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:15.813 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.814 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:15.815 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.816 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:15.817 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.818 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.819 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:15.820 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:15.820 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:15.821 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:15.940 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:15.941 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.942 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:15.943 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.943 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:15.944 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:15.945 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:15.946 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:15.946 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:15.946 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:15.947 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:15.948 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.948 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:15.949 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:15.950 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:15.951 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:15.952 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:24:16.079 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:24:16.081 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.082 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:16.083 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.084 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:16.085 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:16.086 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:24:16.088 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.089 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.090 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:16.090 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:16.091 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:16.092 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Guid), @__tenant_Id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[IsDefault]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__user_Id_0 AND [p].[TenantId] = @__tenant_Id_1 AND [p].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:16.210 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__user_Id_0='?' (DbType = Guid), @__tenant_Id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[IsDefault]
FROM [Patients] AS [p]
WHERE [p].[UserId] = @__user_Id_0 AND [p].[TenantId] = @__tenant_Id_1 AND [p].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:16.212 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.213 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:16.214 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.215 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:16.217 +02:00 [INF] Successful patient login for user: patient_demo-clinic_1
2026-02-07 09:24:16.217 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:16.219 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:16.220 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:16.220 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:16.221 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:16.222 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.PatientLoginResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:16.223 +02:00 [INF] Executed action EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api) in 914.9264ms
2026-02-07 09:24:16.224 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)'
2026-02-07 09:24:16.225 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:16.226 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:16.226 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.227 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:16.228 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/auth/patient/login - 200 null application/json; charset=utf-8 932.4649ms
2026-02-07 09:24:16.236 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/auth/patient/login - application/json 55
2026-02-07 09:24:16.238 +02:00 [DBG] 1 candidate(s) found for the request path '/api/auth/patient/login'
2026-02-07 09:24:16.239 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)' with route pattern 'api/Auth/patient/login' is valid for the request path '/api/auth/patient/login'
2026-02-07 09:24:16.240 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)'
2026-02-07 09:24:16.241 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:16.242 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:24:16.242 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)'
2026-02-07 09:24:16.243 +02:00 [INF] Route matched with {action = "PatientLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.PatientLoginResponse]]] PatientLogin(EliteClinic.Application.Features.Auth.DTOs.LoginRequest, System.String) on controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api).
2026-02-07 09:24:16.244 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:16.245 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:16.246 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:16.247 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:16.247 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:16.248 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:16.249 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:16.250 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:16.251 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' using the name '' in request data ...
2026-02-07 09:24:16.252 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:16.253 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000002A": started reading request body.
2026-02-07 09:24:16.254 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000002A": done reading request body.
2026-02-07 09:24:16.255 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'
2026-02-07 09:24:16.256 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:16.256 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:16.257 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:16.258 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:16.258 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:16.259 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:16.259 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:16.260 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:16.261 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:16.261 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:16.262 +02:00 [DBG] Attempting to validate the bound parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:16.263 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:16.264 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:16.265 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:16.265 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:16.265 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.266 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.266 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:16.267 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:16.267 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:16.268 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:16.389 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:16.391 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:16.392 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.392 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:16.393 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.393 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:16.460 +02:00 [DBG] Invalid password for user.
2026-02-07 09:24:16.461 +02:00 [WRN] Failed patient login attempt for user: patient_demo-clinic_1
2026-02-07 09:24:16.462 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:16.463 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:16.464 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:16.464 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:16.465 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:16.465 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.PatientLoginResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:16.466 +02:00 [INF] Executed action EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api) in 218.0886ms
2026-02-07 09:24:16.467 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)'
2026-02-07 09:24:16.468 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:16.469 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:16.470 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.471 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:16.471 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/auth/patient/login - 401 null application/json; charset=utf-8 234.8788ms
2026-02-07 09:24:16.473 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/auth/patient/login - application/json 62
2026-02-07 09:24:16.473 +02:00 [DBG] 1 candidate(s) found for the request path '/api/auth/patient/login'
2026-02-07 09:24:16.474 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)' with route pattern 'api/Auth/patient/login' is valid for the request path '/api/auth/patient/login'
2026-02-07 09:24:16.475 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)'
2026-02-07 09:24:16.475 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:16.476 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:24:16.476 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)'
2026-02-07 09:24:16.477 +02:00 [INF] Route matched with {action = "PatientLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.PatientLoginResponse]]] PatientLogin(EliteClinic.Application.Features.Auth.DTOs.LoginRequest, System.String) on controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api).
2026-02-07 09:24:16.477 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:16.478 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:16.479 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:16.480 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:16.480 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:16.481 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:16.482 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:16.482 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:16.483 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' using the name '' in request data ...
2026-02-07 09:24:16.483 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:16.484 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000002B": started reading request body.
2026-02-07 09:24:16.485 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000002B": done reading request body.
2026-02-07 09:24:16.485 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'
2026-02-07 09:24:16.486 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:16.486 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:16.486 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:16.487 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:16.487 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:16.488 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:16.489 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:16.489 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:16.490 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:16.490 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:16.491 +02:00 [DBG] Attempting to validate the bound parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:16.491 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:16.492 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:16.493 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:16.493 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:16.494 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.494 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.495 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:16.495 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:16.496 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:16.496 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:16.630 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:16.633 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:16.635 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.636 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 3ms reading results.
2026-02-07 09:24:16.638 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.639 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:16.697 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.699 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.700 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:16.701 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:16.702 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:16.702 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:16.821 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:16.822 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.823 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:16.823 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.824 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:16.825 +02:00 [WRN] Failed patient login attempt for user: patient_demo-clinic_1
2026-02-07 09:24:16.825 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:16.826 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:16.826 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:16.827 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:16.827 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:16.828 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.PatientLoginResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:16.828 +02:00 [INF] Executed action EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api) in 347.7376ms
2026-02-07 09:24:16.829 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.AuthController.PatientLogin (EliteClinic.Api)'
2026-02-07 09:24:16.829 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:16.830 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:16.831 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.831 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:16.832 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/auth/patient/login - 401 null application/json; charset=utf-8 359.6051ms
2026-02-07 09:24:16.833 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/auth/login - application/json 51
2026-02-07 09:24:16.834 +02:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2026-02-07 09:24:16.835 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)' with route pattern 'api/Auth/login' is valid for the request path '/api/auth/login'
2026-02-07 09:24:16.835 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:24:16.836 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:16.836 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:24:16.837 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:24:16.837 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.LoginResponse]]] Login(EliteClinic.Application.Features.Auth.DTOs.LoginRequest, System.String) on controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api).
2026-02-07 09:24:16.838 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:16.839 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:16.839 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:16.840 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:16.841 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:16.841 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:16.842 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:16.843 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:16.843 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' using the name '' in request data ...
2026-02-07 09:24:16.844 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:16.845 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000002C": started reading request body.
2026-02-07 09:24:16.845 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000002C": done reading request body.
2026-02-07 09:24:16.846 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'
2026-02-07 09:24:16.847 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:16.848 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:16.848 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:16.849 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:16.850 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:16.851 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:16.853 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:16.854 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:16.855 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:16.855 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:16.856 +02:00 [DBG] Attempting to validate the bound parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:16.857 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:16.858 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:16.859 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:16.860 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:16.860 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.861 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.862 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:16.862 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:16.864 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:24:16.865 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:16.992 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:16.993 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:16.994 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.995 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:24:16.996 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:16.997 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:17.063 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.064 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.065 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:17.065 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:17.066 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:17.066 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:17.201 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:17.204 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.205 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:17.206 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.208 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:17.209 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.210 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.211 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:17.211 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:17.212 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:17.213 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:17.359 +02:00 [INF] Executed DbCommand (147ms) [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:17.361 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.362 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:17.362 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.363 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:17.364 +02:00 [WRN] Failed login attempt for user: owner_demo
2026-02-07 09:24:17.365 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:17.367 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:17.367 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:17.368 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:17.368 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:17.369 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.LoginResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:17.370 +02:00 [INF] Executed action EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api) in 528.5126ms
2026-02-07 09:24:17.370 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:24:17.371 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:17.372 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:17.372 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.374 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:24:17.375 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/auth/login - 401 null application/json; charset=utf-8 541.5086ms
2026-02-07 09:24:17.377 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/auth/login - application/json 51
2026-02-07 09:24:17.378 +02:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2026-02-07 09:24:17.379 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)' with route pattern 'api/Auth/login' is valid for the request path '/api/auth/login'
2026-02-07 09:24:17.380 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:24:17.381 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:17.382 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:24:17.383 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:24:17.384 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.LoginResponse]]] Login(EliteClinic.Application.Features.Auth.DTOs.LoginRequest, System.String) on controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api).
2026-02-07 09:24:17.386 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:17.386 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:17.388 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:17.389 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:17.390 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:17.390 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:17.391 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:17.392 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:17.393 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' using the name '' in request data ...
2026-02-07 09:24:17.394 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:17.395 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000002D": started reading request body.
2026-02-07 09:24:17.395 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000002D": done reading request body.
2026-02-07 09:24:17.396 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'
2026-02-07 09:24:17.397 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:17.398 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:17.398 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:17.399 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:17.400 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:17.401 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:17.402 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:17.404 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:17.405 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:17.406 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:17.407 +02:00 [DBG] Attempting to validate the bound parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:17.408 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:17.410 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:17.411 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:17.411 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:17.412 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.413 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.414 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:17.414 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:17.415 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:17.416 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:17.540 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:17.542 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:17.543 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.545 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 3ms reading results.
2026-02-07 09:24:17.547 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.549 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:17.609 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.610 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.611 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:17.611 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:17.611 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:17.612 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:17.750 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:17.753 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.754 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:17.756 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.759 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (2ms).
2026-02-07 09:24:17.760 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.761 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.762 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:17.763 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:17.763 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:17.764 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:17.899 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__tenantSlug_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantSlug_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:17.900 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.901 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:17.903 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.904 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:17.905 +02:00 [WRN] Failed login attempt for user: staff_sara
2026-02-07 09:24:17.906 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:17.907 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:17.907 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:17.908 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:17.908 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:17.909 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.LoginResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:17.910 +02:00 [INF] Executed action EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api) in 519.5758ms
2026-02-07 09:24:17.911 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:24:17.911 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:17.912 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:17.913 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.913 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:17.914 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/auth/login - 401 null application/json; charset=utf-8 537.521ms
2026-02-07 09:24:17.916 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/auth/login - application/json 51
2026-02-07 09:24:17.917 +02:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2026-02-07 09:24:17.917 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)' with route pattern 'api/Auth/login' is valid for the request path '/api/auth/login'
2026-02-07 09:24:17.918 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:24:17.919 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:17.919 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:24:17.920 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:24:17.920 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.LoginResponse]]] Login(EliteClinic.Application.Features.Auth.DTOs.LoginRequest, System.String) on controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api).
2026-02-07 09:24:17.921 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:17.922 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:17.922 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:17.923 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:17.924 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:17.925 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:17.925 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:17.926 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:17.926 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' using the name '' in request data ...
2026-02-07 09:24:17.927 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:17.927 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000002E": started reading request body.
2026-02-07 09:24:17.928 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000002E": done reading request body.
2026-02-07 09:24:17.929 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'
2026-02-07 09:24:17.929 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:17.929 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:17.930 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:17.931 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:17.931 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:17.932 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:17.932 +02:00 [DBG] Could not find a value in the request with name 'X-Tenant' for binding parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:17.933 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:17.934 +02:00 [DBG] Could not find a value in the request with name 'X-Tenant' for binding parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:17.934 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:17.935 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:17.936 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:17.936 +02:00 [DBG] Attempting to validate the bound parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:17.937 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:17.938 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:17.939 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:17.939 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:17.940 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.940 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:17.941 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:17.941 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:17.942 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:17.943 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:18.061 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:18.062 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:18.063 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.063 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:18.064 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.065 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:18.125 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.126 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.126 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:18.127 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:18.127 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:18.128 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:18.250 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:18.253 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.253 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:18.255 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.256 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:18.258 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.259 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.260 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:18.261 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:18.262 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:18.262 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:18.379 +02:00 [INF] Executed DbCommand (117ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:18.382 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.383 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:18.384 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.385 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:18.386 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:18.387 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:18.388 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:18.388 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:18.389 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:18.389 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:18.390 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.391 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.392 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:18.392 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:18.393 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:18.394 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:24:18.532 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:24:18.534 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.536 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:18.537 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.538 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:18.539 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:18.541 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:24:18.542 +02:00 [INF] Successful login for user: superadmin
2026-02-07 09:24:18.543 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:18.545 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:18.546 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:18.546 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:18.547 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:18.548 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.LoginResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:18.550 +02:00 [INF] Executed action EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api) in 624.9569ms
2026-02-07 09:24:18.551 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:24:18.553 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:18.554 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:18.556 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.558 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:24:18.559 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/auth/login - 200 null application/json; charset=utf-8 643.7197ms
2026-02-07 09:24:18.564 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/settings - application/json null
2026-02-07 09:24:18.565 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/settings'
2026-02-07 09:24:18.566 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)' with route pattern 'api/clinic/settings' is valid for the request path '/api/clinic/settings'
2026-02-07 09:24:18.566 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)'
2026-02-07 09:24:18.567 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:18.568 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:18.569 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/settings - 400 null application/json 4.8762ms
2026-02-07 09:24:18.571 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/settings - application/json null
2026-02-07 09:24:18.573 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/settings'
2026-02-07 09:24:18.574 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)' with route pattern 'api/clinic/settings' is valid for the request path '/api/clinic/settings'
2026-02-07 09:24:18.575 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)'
2026-02-07 09:24:18.576 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:18.577 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:18.579 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:18.579 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:18.580 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.581 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.582 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:18.583 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:18.583 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:18.585 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:18.721 +02:00 [INF] Executed DbCommand (136ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:18.722 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.723 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:18.724 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.725 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:18.726 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:24:18.727 +02:00 [DBG] Policy authentication schemes  did not succeed
2026-02-07 09:24:18.728 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-02-07 09:24:18.736 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-07 09:24:18.737 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:18.739 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:18.740 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.741 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:24:18.743 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/settings - 401 0 null 171.5753ms
2026-02-07 09:24:18.745 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/settings - application/json null
2026-02-07 09:24:18.748 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/settings'
2026-02-07 09:24:18.749 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)' with route pattern 'api/clinic/settings' is valid for the request path '/api/clinic/settings'
2026-02-07 09:24:18.751 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)'
2026-02-07 09:24:18.753 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:18.756 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:18.758 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:18.759 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:18.759 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.760 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.762 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:18.763 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:18.764 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:18.764 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:18.890 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:18.894 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.896 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:18.897 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.899 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:18.907 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2026-02-07 09:24:18.915 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2026-02-07 09:24:18.916 +02:00 [DBG] Policy authentication schemes  did not succeed
2026-02-07 09:24:18.917 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-02-07 09:24:18.919 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-07 09:24:18.919 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:18.920 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:18.921 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.922 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:18.923 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/settings - 401 0 null 177.3378ms
2026-02-07 09:24:18.924 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/settings - application/json null
2026-02-07 09:24:18.925 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/settings'
2026-02-07 09:24:18.926 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)' with route pattern 'api/clinic/settings' is valid for the request path '/api/clinic/settings'
2026-02-07 09:24:18.927 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.ClinicSettingsController.GetSettings (EliteClinic.Api)'
2026-02-07 09:24:18.927 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:18.928 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:18.931 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:18.932 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:18.933 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.934 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:18.935 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:18.935 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:18.936 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:18.937 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:19.059 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:19.061 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.062 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:19.063 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.063 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:19.065 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:19.066 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:19.067 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.068 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:19.069 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/settings - 404 null application/json 144.4215ms
2026-02-07 09:24:19.073 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/patients - application/json null
2026-02-07 09:24:19.075 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/patients'
2026-02-07 09:24:19.076 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)' with route pattern 'api/clinic/patients' is valid for the request path '/api/clinic/patients'
2026-02-07 09:24:19.076 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)'
2026-02-07 09:24:19.077 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:19.078 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:19.079 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:19.079 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:19.079 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.080 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.081 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:19.081 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:19.082 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:19.082 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:19.214 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:19.216 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.217 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:19.218 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.218 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:19.219 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:19.219 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:19.220 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:19.221 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)'
2026-02-07 09:24:19.221 +02:00 [INF] Route matched with {action = "GetAllPatients", controller = "Patients"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Common.Models.PagedResult`1[EliteClinic.Application.Features.Clinic.DTOs.PatientDto]]]] GetAllPatients(Int32, Int32, System.String) on controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api).
2026-02-07 09:24:19.222 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:19.223 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:19.224 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:19.225 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:19.225 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:19.226 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:19.227 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.PatientsController (EliteClinic.Api)
2026-02-07 09:24:19.228 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:19.228 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:19.229 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:19.230 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:19.230 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:19.231 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:19.231 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:19.232 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:19.233 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:19.233 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:19.234 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:19.235 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:19.235 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:19.236 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:19.237 +02:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' ...
2026-02-07 09:24:19.237 +02:00 [DBG] Attempting to bind parameter 'search' of type 'System.String' using the name '' in request data ...
2026-02-07 09:24:19.238 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'search' of type 'System.String'.
2026-02-07 09:24:19.239 +02:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2026-02-07 09:24:19.239 +02:00 [DBG] Done attempting to bind parameter 'search' of type 'System.String'.
2026-02-07 09:24:19.240 +02:00 [DBG] Attempting to validate the bound parameter 'search' of type 'System.String' ...
2026-02-07 09:24:19.240 +02:00 [DBG] Done attempting to validate the bound parameter 'search' of type 'System.String'.
2026-02-07 09:24:19.241 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.242 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.243 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:19.244 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:19.245 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:19.245 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL
2026-02-07 09:24:19.369 +02:00 [INF] Executed DbCommand (124ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL
2026-02-07 09:24:19.371 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.372 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:19.373 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.374 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:19.376 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.377 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.378 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:19.379 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:19.380 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:19.382 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName], [p2].[Id], [p2].[Address], [p2].[CreatedAt], [p2].[DateOfBirth], [p2].[DeletedAt], [p2].[Gender], [p2].[IsDefault], [p2].[IsDeleted], [p2].[Name], [p2].[Notes], [p2].[ParentPatientId], [p2].[Phone], [p2].[TenantId], [p2].[UpdatedAt], [p2].[UserId]
FROM (
    SELECT [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId]
    FROM [Patients] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [p0]
INNER JOIN [AspNetUsers] AS [a] ON [p0].[UserId] = [a].[Id]
LEFT JOIN (
    SELECT [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
    FROM [Patients] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS bit) AND [p1].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p1].[IsDeleted] = CAST(0 AS bit)
) AS [p2] ON [p0].[Id] = [p2].[ParentPatientId]
ORDER BY [p0].[CreatedAt] DESC, [p0].[Id], [a].[Id]
2026-02-07 09:24:19.501 +02:00 [INF] Executed DbCommand (119ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[Address], [p0].[CreatedAt], [p0].[DateOfBirth], [p0].[DeletedAt], [p0].[Gender], [p0].[IsDefault], [p0].[IsDeleted], [p0].[Name], [p0].[Notes], [p0].[ParentPatientId], [p0].[Phone], [p0].[TenantId], [p0].[UpdatedAt], [p0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName], [p2].[Id], [p2].[Address], [p2].[CreatedAt], [p2].[DateOfBirth], [p2].[DeletedAt], [p2].[Gender], [p2].[IsDefault], [p2].[IsDeleted], [p2].[Name], [p2].[Notes], [p2].[ParentPatientId], [p2].[Phone], [p2].[TenantId], [p2].[UpdatedAt], [p2].[UserId]
FROM (
    SELECT [p].[Id], [p].[Address], [p].[CreatedAt], [p].[DateOfBirth], [p].[DeletedAt], [p].[Gender], [p].[IsDefault], [p].[IsDeleted], [p].[Name], [p].[Notes], [p].[ParentPatientId], [p].[Phone], [p].[TenantId], [p].[UpdatedAt], [p].[UserId]
    FROM [Patients] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p].[TenantId] = @__tenantId_0 AND [p].[ParentPatientId] IS NULL
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [p0]
INNER JOIN [AspNetUsers] AS [a] ON [p0].[UserId] = [a].[Id]
LEFT JOIN (
    SELECT [p1].[Id], [p1].[Address], [p1].[CreatedAt], [p1].[DateOfBirth], [p1].[DeletedAt], [p1].[Gender], [p1].[IsDefault], [p1].[IsDeleted], [p1].[Name], [p1].[Notes], [p1].[ParentPatientId], [p1].[Phone], [p1].[TenantId], [p1].[UpdatedAt], [p1].[UserId]
    FROM [Patients] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS bit) AND [p1].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [p1].[IsDeleted] = CAST(0 AS bit)
) AS [p2] ON [p0].[Id] = [p2].[ParentPatientId]
ORDER BY [p0].[CreatedAt] DESC, [p0].[Id], [a].[Id]
2026-02-07 09:24:19.503 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.504 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.504 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.505 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.506 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.507 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.508 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.508 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.509 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.510 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.510 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.511 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.512 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.512 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.513 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.514 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.514 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.515 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.515 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.516 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.517 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.517 +02:00 [DBG] The navigation 'Patient.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.518 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.520 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.520 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.521 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Patient' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.522 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.522 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 19ms reading results.
2026-02-07 09:24:19.523 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.523 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:19.524 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:19.526 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:19.526 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:19.526 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:19.527 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:19.527 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Common.Models.PagedResult`1[[EliteClinic.Application.Features.Clinic.DTOs.PatientDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:19.528 +02:00 [INF] Executed action EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api) in 301.8371ms
2026-02-07 09:24:19.529 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.PatientsController.GetAllPatients (EliteClinic.Api)'
2026-02-07 09:24:19.529 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:19.530 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:19.531 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.531 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:19.532 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/patients - 200 null application/json; charset=utf-8 458.8485ms
2026-02-07 09:24:19.539 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/doctors - application/json null
2026-02-07 09:24:19.540 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/doctors'
2026-02-07 09:24:19.541 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetAllDoctors (EliteClinic.Api)' with route pattern 'api/clinic/doctors' is valid for the request path '/api/clinic/doctors'
2026-02-07 09:24:19.542 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetAllDoctors (EliteClinic.Api)'
2026-02-07 09:24:19.542 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:19.543 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:19.544 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:19.544 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:19.545 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.545 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.546 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:19.547 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:19.548 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:19.549 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:19.670 +02:00 [INF] Executed DbCommand (121ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:19.673 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.674 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:19.675 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.676 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:19.677 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:19.678 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:19.678 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:19.679 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetAllDoctors (EliteClinic.Api)'
2026-02-07 09:24:19.679 +02:00 [INF] Route matched with {action = "GetAllDoctors", controller = "Doctors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Common.Models.PagedResult`1[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto]]]] GetAllDoctors(Int32, Int32) on controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api).
2026-02-07 09:24:19.680 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:19.681 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:19.682 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:19.683 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:19.684 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:19.684 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:24:19.685 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.DoctorsController (EliteClinic.Api)
2026-02-07 09:24:19.686 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:19.687 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:19.688 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:19.689 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:19.690 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:19.691 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:19.691 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:19.692 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:19.693 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:19.694 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:19.695 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:19.696 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:19.697 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:19.698 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:19.699 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.699 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.701 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:19.701 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:19.702 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:19.704 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[TenantId] = @__tenantId_0
2026-02-07 09:24:19.829 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[TenantId] = @__tenantId_0
2026-02-07 09:24:19.831 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.833 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:19.833 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.834 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:19.835 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.836 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:19.836 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:19.837 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:19.838 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:19.839 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d0].[Id], [d0].[AvgVisitDurationMinutes], [d0].[Bio], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[IsDeleted], [d0].[IsEnabled], [d0].[Name], [d0].[Phone], [d0].[PhotoUrl], [d0].[Specialty], [d0].[TenantId], [d0].[UpdatedAt], [d0].[UrgentCaseMode], [d0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName], [d2].[Id], [d4].[Id], [d4].[CreatedAt], [d4].[DeletedAt], [d4].[DoctorId], [d4].[DurationMinutes], [d4].[IsActive], [d4].[IsDeleted], [d4].[Price], [d4].[ServiceName], [d4].[TenantId], [d4].[UpdatedAt], [d2].[BMI], [d2].[BloodPressure], [d2].[BloodSugar], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[HeartRate], [d2].[Height], [d2].[IsDeleted], [d2].[OxygenSaturation], [d2].[RespiratoryRate], [d2].[Temperature], [d2].[TenantId], [d2].[UpdatedAt], [d2].[Weight]
FROM (
    SELECT [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId]
    FROM [Doctors] AS [d]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[TenantId] = @__tenantId_0
    ORDER BY [d].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [d0]
INNER JOIN [AspNetUsers] AS [a] ON [d0].[UserId] = [a].[Id]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt], [d1].[DeletedAt], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId], [d1].[UpdatedAt], [d1].[Weight]
    FROM [DoctorVisitFieldConfigs] AS [d1]
    WHERE [d1].[IsDeleted] = CAST(0 AS bit) AND [d1].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [d2] ON [d0].[Id] = [d2].[DoctorId]
LEFT JOIN (
    SELECT [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt]
    FROM [DoctorServices] AS [d3]
    WHERE [d3].[IsDeleted] = CAST(0 AS bit) AND [d3].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d3].[IsDeleted] = CAST(0 AS bit)
) AS [d4] ON [d0].[Id] = [d4].[DoctorId]
ORDER BY [d0].[CreatedAt] DESC, [d0].[Id], [a].[Id], [d2].[Id]
2026-02-07 09:24:19.953 +02:00 [INF] Executed DbCommand (114ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d0].[Id], [d0].[AvgVisitDurationMinutes], [d0].[Bio], [d0].[CreatedAt], [d0].[DeletedAt], [d0].[IsDeleted], [d0].[IsEnabled], [d0].[Name], [d0].[Phone], [d0].[PhotoUrl], [d0].[Specialty], [d0].[TenantId], [d0].[UpdatedAt], [d0].[UrgentCaseMode], [d0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName], [d2].[Id], [d4].[Id], [d4].[CreatedAt], [d4].[DeletedAt], [d4].[DoctorId], [d4].[DurationMinutes], [d4].[IsActive], [d4].[IsDeleted], [d4].[Price], [d4].[ServiceName], [d4].[TenantId], [d4].[UpdatedAt], [d2].[BMI], [d2].[BloodPressure], [d2].[BloodSugar], [d2].[CreatedAt], [d2].[DeletedAt], [d2].[DoctorId], [d2].[HeartRate], [d2].[Height], [d2].[IsDeleted], [d2].[OxygenSaturation], [d2].[RespiratoryRate], [d2].[Temperature], [d2].[TenantId], [d2].[UpdatedAt], [d2].[Weight]
FROM (
    SELECT [d].[Id], [d].[AvgVisitDurationMinutes], [d].[Bio], [d].[CreatedAt], [d].[DeletedAt], [d].[IsDeleted], [d].[IsEnabled], [d].[Name], [d].[Phone], [d].[PhotoUrl], [d].[Specialty], [d].[TenantId], [d].[UpdatedAt], [d].[UrgentCaseMode], [d].[UserId]
    FROM [Doctors] AS [d]
    WHERE [d].[IsDeleted] = CAST(0 AS bit) AND [d].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d].[TenantId] = @__tenantId_0
    ORDER BY [d].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [d0]
INNER JOIN [AspNetUsers] AS [a] ON [d0].[UserId] = [a].[Id]
LEFT JOIN (
    SELECT [d1].[Id], [d1].[BMI], [d1].[BloodPressure], [d1].[BloodSugar], [d1].[CreatedAt], [d1].[DeletedAt], [d1].[DoctorId], [d1].[HeartRate], [d1].[Height], [d1].[IsDeleted], [d1].[OxygenSaturation], [d1].[RespiratoryRate], [d1].[Temperature], [d1].[TenantId], [d1].[UpdatedAt], [d1].[Weight]
    FROM [DoctorVisitFieldConfigs] AS [d1]
    WHERE [d1].[IsDeleted] = CAST(0 AS bit) AND [d1].[TenantId] = @__ef_filter__CurrentTenantId_0
) AS [d2] ON [d0].[Id] = [d2].[DoctorId]
LEFT JOIN (
    SELECT [d3].[Id], [d3].[CreatedAt], [d3].[DeletedAt], [d3].[DoctorId], [d3].[DurationMinutes], [d3].[IsActive], [d3].[IsDeleted], [d3].[Price], [d3].[ServiceName], [d3].[TenantId], [d3].[UpdatedAt]
    FROM [DoctorServices] AS [d3]
    WHERE [d3].[IsDeleted] = CAST(0 AS bit) AND [d3].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [d3].[IsDeleted] = CAST(0 AS bit)
) AS [d4] ON [d0].[Id] = [d4].[DoctorId]
ORDER BY [d0].[CreatedAt] DESC, [d0].[Id], [a].[Id], [d2].[Id]
2026-02-07 09:24:19.956 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.958 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.958 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.959 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.960 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.960 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.961 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.962 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.962 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.963 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.964 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.965 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.965 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.966 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.967 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.967 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.968 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.969 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.969 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.970 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.971 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.972 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.973 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.974 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.974 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.975 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.976 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.976 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.977 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.978 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.979 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.979 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.980 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.981 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.981 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.982 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.983 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.984 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.985 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.986 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.988 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.989 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.990 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.991 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.992 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.992 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.993 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.994 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.995 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.996 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.997 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:19.998 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.000 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.003 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Doctor' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.004 +02:00 [DBG] The navigation 'Doctor.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.005 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.006 +02:00 [DBG] The navigation 'Doctor.VisitFieldConfig' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.007 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorVisitFieldConfig' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.008 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.009 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'DoctorService' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.009 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.010 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 54ms reading results.
2026-02-07 09:24:20.011 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.011 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:20.012 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:20.013 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:20.014 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:20.014 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:20.015 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:20.015 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Common.Models.PagedResult`1[[EliteClinic.Application.Features.Clinic.DTOs.DoctorDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:20.016 +02:00 [INF] Executed action EliteClinic.Api.Controllers.DoctorsController.GetAllDoctors (EliteClinic.Api) in 331.7485ms
2026-02-07 09:24:20.017 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.DoctorsController.GetAllDoctors (EliteClinic.Api)'
2026-02-07 09:24:20.018 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:20.019 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:20.020 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.021 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:24:20.022 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/doctors - 200 null application/json; charset=utf-8 482.7144ms
2026-02-07 09:24:20.031 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/clinic/staff - application/json null
2026-02-07 09:24:20.033 +02:00 [DBG] 1 candidate(s) found for the request path '/api/clinic/staff'
2026-02-07 09:24:20.033 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.StaffController.GetAllStaff (EliteClinic.Api)' with route pattern 'api/clinic/staff' is valid for the request path '/api/clinic/staff'
2026-02-07 09:24:20.034 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.StaffController.GetAllStaff (EliteClinic.Api)'
2026-02-07 09:24:20.036 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:20.037 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:20.039 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:20.039 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:20.040 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.041 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.042 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:20.042 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:20.043 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:20.044 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:20.170 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__tenantHeader_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Slug] = @__tenantHeader_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:20.173 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.174 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:20.175 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.176 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:20.177 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:20.178 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:20.179 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:20.179 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.StaffController.GetAllStaff (EliteClinic.Api)'
2026-02-07 09:24:20.180 +02:00 [INF] Route matched with {action = "GetAllStaff", controller = "Staff"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Common.Models.PagedResult`1[EliteClinic.Application.Features.Clinic.DTOs.StaffDto]]]] GetAllStaff(Int32, Int32) on controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api).
2026-02-07 09:24:20.181 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:20.182 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:20.183 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:20.184 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:20.185 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:20.185 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:24:20.186 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.StaffController (EliteClinic.Api)
2026-02-07 09:24:20.187 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:20.188 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:20.189 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:20.190 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:20.191 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:20.192 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:20.193 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:20.194 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:20.196 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:20.197 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:20.198 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:20.199 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:20.199 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:20.200 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:20.201 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.203 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.204 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:20.204 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:20.205 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:20.206 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[TenantId] = @__tenantId_0
2026-02-07 09:24:20.329 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Employees] AS [e]
WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[TenantId] = @__tenantId_0
2026-02-07 09:24:20.331 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.332 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:20.332 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.333 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:20.334 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.335 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.336 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:20.336 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:20.337 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:20.338 +02:00 [DBG] Executing DbCommand [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Id], [e0].[CreatedAt], [e0].[DeletedAt], [e0].[HireDate], [e0].[IsDeleted], [e0].[IsEnabled], [e0].[Name], [e0].[Notes], [e0].[Phone], [e0].[Role], [e0].[Salary], [e0].[TenantId], [e0].[UpdatedAt], [e0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT [e].[Id], [e].[CreatedAt], [e].[DeletedAt], [e].[HireDate], [e].[IsDeleted], [e].[IsEnabled], [e].[Name], [e].[Notes], [e].[Phone], [e].[Role], [e].[Salary], [e].[TenantId], [e].[UpdatedAt], [e].[UserId]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[TenantId] = @__tenantId_0
    ORDER BY [e].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [e0]
INNER JOIN [AspNetUsers] AS [a] ON [e0].[UserId] = [a].[Id]
ORDER BY [e0].[CreatedAt] DESC
2026-02-07 09:24:20.459 +02:00 [INF] Executed DbCommand (122ms) [Parameters=[@__ef_filter__CurrentTenantId_0='?' (DbType = Guid), @__tenantId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[Id], [e0].[CreatedAt], [e0].[DeletedAt], [e0].[HireDate], [e0].[IsDeleted], [e0].[IsEnabled], [e0].[Name], [e0].[Notes], [e0].[Phone], [e0].[Role], [e0].[Salary], [e0].[TenantId], [e0].[UpdatedAt], [e0].[UserId], [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM (
    SELECT [e].[Id], [e].[CreatedAt], [e].[DeletedAt], [e].[HireDate], [e].[IsDeleted], [e].[IsEnabled], [e].[Name], [e].[Notes], [e].[Phone], [e].[Role], [e].[Salary], [e].[TenantId], [e].[UpdatedAt], [e].[UserId]
    FROM [Employees] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit) AND [e].[TenantId] = @__ef_filter__CurrentTenantId_0 AND [e].[TenantId] = @__tenantId_0
    ORDER BY [e].[CreatedAt] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [e0]
INNER JOIN [AspNetUsers] AS [a] ON [e0].[UserId] = [a].[Id]
ORDER BY [e0].[CreatedAt] DESC
2026-02-07 09:24:20.461 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.462 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.464 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.465 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.467 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.468 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.469 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.470 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.471 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.472 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.473 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.473 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.475 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.476 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.476 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.477 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.478 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.479 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.480 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.481 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.481 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.482 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.483 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.484 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.485 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.486 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.486 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.487 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.488 +02:00 [DBG] The navigation 'Employee.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.489 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.490 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.490 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 29ms reading results.
2026-02-07 09:24:20.492 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.493 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:20.493 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:20.495 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:20.495 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:20.496 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:20.496 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:20.497 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Common.Models.PagedResult`1[[EliteClinic.Application.Features.Clinic.DTOs.StaffDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:20.498 +02:00 [INF] Executed action EliteClinic.Api.Controllers.StaffController.GetAllStaff (EliteClinic.Api) in 312.7194ms
2026-02-07 09:24:20.499 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.StaffController.GetAllStaff (EliteClinic.Api)'
2026-02-07 09:24:20.500 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:20.502 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:20.503 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.504 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:24:20.505 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/clinic/staff - 200 null application/json; charset=utf-8 473.8392ms
2026-02-07 09:24:20.513 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/platform/tenants - application/json null
2026-02-07 09:24:20.514 +02:00 [DBG] 1 candidate(s) found for the request path '/api/platform/tenants'
2026-02-07 09:24:20.515 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.TenantsController.GetAllTenants (EliteClinic.Api)' with route pattern 'api/platform/tenants' is valid for the request path '/api/platform/tenants'
2026-02-07 09:24:20.516 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.TenantsController.GetAllTenants (EliteClinic.Api)'
2026-02-07 09:24:20.517 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:20.518 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:20.518 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:20.519 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:20.520 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.TenantsController.GetAllTenants (EliteClinic.Api)'
2026-02-07 09:24:20.524 +02:00 [INF] Route matched with {action = "GetAllTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTenants(Int32, Int32, System.String) on controller EliteClinic.Api.Controllers.TenantsController (EliteClinic.Api).
2026-02-07 09:24:20.525 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:20.527 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:20.528 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:20.529 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:20.530 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:20.531 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.TenantsController (EliteClinic.Api)
2026-02-07 09:24:20.532 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.TenantsController (EliteClinic.Api)
2026-02-07 09:24:20.533 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:20.534 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:20.535 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:20.535 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:20.536 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:20.537 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:20.538 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:20.539 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:20.539 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:20.540 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:20.541 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:20.541 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:20.542 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:20.543 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:20.543 +02:00 [DBG] Attempting to bind parameter 'searchTerm' of type 'System.String' ...
2026-02-07 09:24:20.544 +02:00 [DBG] Attempting to bind parameter 'searchTerm' of type 'System.String' using the name '' in request data ...
2026-02-07 09:24:20.545 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchTerm' of type 'System.String'.
2026-02-07 09:24:20.545 +02:00 [DBG] Done attempting to bind parameter 'searchTerm' of type 'System.String'.
2026-02-07 09:24:20.546 +02:00 [DBG] Done attempting to bind parameter 'searchTerm' of type 'System.String'.
2026-02-07 09:24:20.546 +02:00 [DBG] Attempting to validate the bound parameter 'searchTerm' of type 'System.String' ...
2026-02-07 09:24:20.547 +02:00 [DBG] Done attempting to validate the bound parameter 'searchTerm' of type 'System.String'.
2026-02-07 09:24:20.555 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:20.557 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .Where(t => !(t.IsDeleted))
    .Count()'
2026-02-07 09:24:20.560 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Tenants AS t
            WHERE Not(t.IsDeleted)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Tenants AS t
            WHERE Not(t.IsDeleted), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:24:20.562 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:20.563 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:20.564 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.565 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.565 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:20.566 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:20.567 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:20.568 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:20.690 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:20.691 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.692 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:20.693 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.693 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:20.694 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .Where(t => !(t.IsDeleted))
    .OrderByDescending(t => t.CreatedAt)
    .Skip(__p_0)
    .Take(__p_1)'
2026-02-07 09:24:20.697 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Tenant>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
        SELECT t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
        FROM Tenants AS t
        WHERE Not(t.IsDeleted)
        ORDER BY t.CreatedAt DESC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
        SELECT t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
        FROM Tenants AS t
        WHERE Not(t.IsDeleted)
        ORDER BY t.CreatedAt DESC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Tenant entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Tenant instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Tenant);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Tenant.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Tenant)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]: 
                        {
                            return 
                            {
                                Tenant instance;
                                instance = new Tenant();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ContactPhone>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                instance.<LogoUrl>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<Name>k__BackingField = dataReader.GetString(7);
                                instance.<Slug>k__BackingField = dataReader.GetString(8);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<TenantStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Tenant.Status (TenantStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(9));
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(10);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Tenant)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-02-07 09:24:20.704 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.708 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.710 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:20.711 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:20.714 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2026-02-07 09:24:20.714 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit)
ORDER BY [t].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-07 09:24:20.865 +02:00 [INF] Executed DbCommand (151ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit)
ORDER BY [t].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-07 09:24:20.866 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.867 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.868 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.869 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.870 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.871 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.872 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.872 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:20.873 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.874 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 7ms reading results.
2026-02-07 09:24:20.875 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.876 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:20.878 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:20.879 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:20.880 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:20.880 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:20.881 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:20.881 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Common.Models.PagedResult`1[[EliteClinic.Application.Features.Platform.Tenants.DTOs.TenantDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:20.888 +02:00 [INF] Executed action EliteClinic.Api.Controllers.TenantsController.GetAllTenants (EliteClinic.Api) in 356.8967ms
2026-02-07 09:24:20.889 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.TenantsController.GetAllTenants (EliteClinic.Api)'
2026-02-07 09:24:20.889 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:20.890 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:20.891 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.891 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:20.892 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/platform/tenants - 200 null application/json; charset=utf-8 379.1528ms
2026-02-07 09:24:20.905 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/platform/subscriptions - application/json 153
2026-02-07 09:24:20.910 +02:00 [DBG] 1 candidate(s) found for the request path '/api/platform/subscriptions'
2026-02-07 09:24:20.911 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.SubscriptionsController.CreateSubscription (EliteClinic.Api)' with route pattern 'api/platform/subscriptions' is valid for the request path '/api/platform/subscriptions'
2026-02-07 09:24:20.911 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.SubscriptionsController.CreateSubscription (EliteClinic.Api)'
2026-02-07 09:24:20.912 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:20.913 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:20.914 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:20.914 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:20.915 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.SubscriptionsController.CreateSubscription (EliteClinic.Api)'
2026-02-07 09:24:20.918 +02:00 [INF] Route matched with {action = "CreateSubscription", controller = "Subscriptions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSubscription(EliteClinic.Application.Features.Platform.Subscriptions.DTOs.CreateSubscriptionRequest) on controller EliteClinic.Api.Controllers.SubscriptionsController (EliteClinic.Api).
2026-02-07 09:24:20.919 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:20.920 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:20.920 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:20.922 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:20.922 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:20.923 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.SubscriptionsController (EliteClinic.Api)
2026-02-07 09:24:20.925 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.SubscriptionsController (EliteClinic.Api)
2026-02-07 09:24:20.926 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Platform.Subscriptions.DTOs.CreateSubscriptionRequest' ...
2026-02-07 09:24:20.926 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Platform.Subscriptions.DTOs.CreateSubscriptionRequest' using the name '' in request data ...
2026-02-07 09:24:20.927 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:20.928 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000037": started reading request body.
2026-02-07 09:24:20.929 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000037": done reading request body.
2026-02-07 09:24:20.932 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Platform.Subscriptions.DTOs.CreateSubscriptionRequest'
2026-02-07 09:24:20.932 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Platform.Subscriptions.DTOs.CreateSubscriptionRequest'.
2026-02-07 09:24:20.933 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Platform.Subscriptions.DTOs.CreateSubscriptionRequest'.
2026-02-07 09:24:20.934 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Platform.Subscriptions.DTOs.CreateSubscriptionRequest' ...
2026-02-07 09:24:20.936 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Platform.Subscriptions.DTOs.CreateSubscriptionRequest'.
2026-02-07 09:24:20.939 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:20.941 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .FirstOrDefault(t => t.Id == __request_TenantId_0 && !(t.IsDeleted))'
2026-02-07 09:24:20.946 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tenant>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Tenant>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
            SELECT TOP(1) t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
            FROM Tenants AS t
            WHERE (t.Id == @__request_TenantId_0) && Not(t.IsDeleted)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Address (string), 1], [Property: Tenant.ContactPhone (string), 2], [Property: Tenant.CreatedAt (DateTime) Required, 3], [Property: Tenant.DeletedAt (DateTime?), 4], [Property: Tenant.IsDeleted (bool) Required, 5], [Property: Tenant.LogoUrl (string), 6], [Property: Tenant.Name (string) Required, 7], [Property: Tenant.Slug (string) Required Index MaxLength(100), 8], [Property: Tenant.Status (TenantStatus) Required, 9], [Property: Tenant.UpdatedAt (DateTime) Required, 10] }
            SELECT TOP(1) t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
            FROM Tenants AS t
            WHERE (t.Id == @__request_TenantId_0) && Not(t.IsDeleted), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Tenant entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Tenant instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Tenant);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Tenant.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Tenant)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]: 
                            {
                                return 
                                {
                                    Tenant instance;
                                    instance = new Tenant();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<Address>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ContactPhone>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LogoUrl>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Name>k__BackingField = dataReader.GetString(7);
                                    instance.<Slug>k__BackingField = dataReader.GetString(8);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<TenantStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Tenant.Status (TenantStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(9));
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Tenant)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:24:20.952 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:20.953 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:20.953 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.954 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:20.955 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:20.956 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:20.957 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:20.958 +02:00 [DBG] Executing DbCommand [Parameters=[@__request_TenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Id] = @__request_TenantId_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:21.092 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[@__request_TenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[Id] = @__request_TenantId_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:21.094 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:21.095 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.096 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:24:21.098 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.100 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:21.128 +02:00 [DBG] The navigation 'Subscription.Tenant' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:21.130 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Subscription' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:21.130 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:21.137 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:21.141 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'AuditLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:21.142 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:21.143 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:21.144 +02:00 [DBG] The unchanged property 'Subscription.CreatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:21.145 +02:00 [DBG] The unchanged property 'Subscription.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-02-07 09:24:21.146 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:21.147 +02:00 [DBG] Executing 2 update commands as a batch.
2026-02-07 09:24:21.148 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.148 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.149 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2026-02-07 09:24:21.272 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2026-02-07 09:24:21.273 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:21.274 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:21.276 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-02-07 09:24:21.277 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (Size = 10), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Boolean), @p23='?' (DbType = Boolean), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime2), @p30='?' (DbType = Int32), @p31='?' (DbType = Guid), @p32='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Subscriptions] ([Id], [Amount], [CancelReason], [CancelledAt], [CreatedAt], [Currency], [DeletedAt], [EndDate], [IsDeleted], [IsPaid], [Notes], [PaidAt], [PaymentMethod], [PaymentReference], [PlanName], [StartDate], [Status], [TenantId], [UpdatedAt])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32);
2026-02-07 09:24:21.404 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (Size = 10), @p20='?' (DbType = DateTime2), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Boolean), @p23='?' (DbType = Boolean), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (Size = 4000), @p27='?' (Size = 4000), @p28='?' (Size = 4000), @p29='?' (DbType = DateTime2), @p30='?' (DbType = Int32), @p31='?' (DbType = Guid), @p32='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AuditLogs] ([Id], [Action], [CreatedAt], [DeletedAt], [EntityId], [EntityType], [IpAddress], [IsDeleted], [NewValues], [OldValues], [TenantId], [Timestamp], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [Subscriptions] ([Id], [Amount], [CancelReason], [CancelledAt], [CreatedAt], [Currency], [DeletedAt], [EndDate], [IsDeleted], [IsPaid], [Notes], [PaidAt], [PaymentMethod], [PaymentReference], [PlanName], [StartDate], [Status], [TenantId], [UpdatedAt])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32);
2026-02-07 09:24:21.407 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.408 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:21.409 +02:00 [DBG] Committing transaction.
2026-02-07 09:24:21.529 +02:00 [DBG] Committed transaction.
2026-02-07 09:24:21.530 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.530 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:21.531 +02:00 [DBG] Disposing transaction.
2026-02-07 09:24:21.532 +02:00 [DBG] An entity of type 'Subscription' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:21.533 +02:00 [DBG] An entity of type 'AuditLog' tracked by 'EliteClinicDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:21.534 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 2 entities written to the database.
2026-02-07 09:24:21.542 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:21.543 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:21.544 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:21.544 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:21.545 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:21.545 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Platform.Subscriptions.DTOs.SubscriptionDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:21.568 +02:00 [DBG] Found the endpoints ["EliteClinic.Api.Controllers.SubscriptionsController.GetAllSubscriptions (EliteClinic.Api)"] for address (tenantId=[6b99d93c-cd1a-41b1-b926-7e68fd495ffe],action=[GetAllSubscriptions],controller=[Subscriptions])
2026-02-07 09:24:21.571 +02:00 [DBG] Successfully processed template api/platform/subscriptions for EliteClinic.Api.Controllers.SubscriptionsController.GetAllSubscriptions (EliteClinic.Api) resulting in /api/platform/subscriptions and ?tenantId=6b99d93c-cd1a-41b1-b926-7e68fd495ffe
2026-02-07 09:24:21.573 +02:00 [DBG] Link generation succeeded for endpoints ["EliteClinic.Api.Controllers.SubscriptionsController.GetAllSubscriptions (EliteClinic.Api)"] with result /api/platform/subscriptions?tenantId=6b99d93c-cd1a-41b1-b926-7e68fd495ffe
2026-02-07 09:24:21.580 +02:00 [INF] Executed action EliteClinic.Api.Controllers.SubscriptionsController.CreateSubscription (EliteClinic.Api) in 656.271ms
2026-02-07 09:24:21.581 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.SubscriptionsController.CreateSubscription (EliteClinic.Api)'
2026-02-07 09:24:21.582 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:21.582 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:21.583 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.584 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:21.585 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/platform/subscriptions - 201 null application/json; charset=utf-8 680.3351ms
2026-02-07 09:24:21.591 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/auth/login - application/json 29
2026-02-07 09:24:21.593 +02:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2026-02-07 09:24:21.593 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)' with route pattern 'api/Auth/login' is valid for the request path '/api/auth/login'
2026-02-07 09:24:21.594 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:24:21.594 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:21.595 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:24:21.596 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:24:21.597 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.LoginResponse]]] Login(EliteClinic.Application.Features.Auth.DTOs.LoginRequest, System.String) on controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api).
2026-02-07 09:24:21.598 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:21.599 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:21.600 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:21.601 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:21.603 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:21.603 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:21.604 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:21.605 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:21.605 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' using the name '' in request data ...
2026-02-07 09:24:21.606 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:21.607 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000038": started reading request body.
2026-02-07 09:24:21.607 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:00000038": done reading request body.
2026-02-07 09:24:21.608 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'
2026-02-07 09:24:21.608 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:21.609 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:21.610 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:21.610 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:21.611 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:21.612 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:21.612 +02:00 [DBG] Could not find a value in the request with name 'X-Tenant' for binding parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:21.613 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:21.614 +02:00 [DBG] Could not find a value in the request with name 'X-Tenant' for binding parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:21.615 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:21.615 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:21.616 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:21.617 +02:00 [DBG] Attempting to validate the bound parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:21.617 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:21.618 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:21.619 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:21.619 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:21.620 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:21.620 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:21.621 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.LoginResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:21.622 +02:00 [INF] Executed action EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api) in 18.9575ms
2026-02-07 09:24:21.623 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:24:21.623 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:21.624 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/auth/login - 400 null application/json; charset=utf-8 32.7075ms
2026-02-07 09:24:21.647 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/platform/tenants - application/json null
2026-02-07 09:24:21.648 +02:00 [DBG] 1 candidate(s) found for the request path '/api/platform/tenants'
2026-02-07 09:24:21.649 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.TenantsController.GetAllTenants (EliteClinic.Api)' with route pattern 'api/platform/tenants' is valid for the request path '/api/platform/tenants'
2026-02-07 09:24:21.650 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.TenantsController.GetAllTenants (EliteClinic.Api)'
2026-02-07 09:24:21.650 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:21.652 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:21.652 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:21.654 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:21.655 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.TenantsController.GetAllTenants (EliteClinic.Api)'
2026-02-07 09:24:21.656 +02:00 [INF] Route matched with {action = "GetAllTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTenants(Int32, Int32, System.String) on controller EliteClinic.Api.Controllers.TenantsController (EliteClinic.Api).
2026-02-07 09:24:21.658 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:21.660 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:21.661 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:21.662 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:21.662 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:21.663 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.TenantsController (EliteClinic.Api)
2026-02-07 09:24:21.664 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.TenantsController (EliteClinic.Api)
2026-02-07 09:24:21.665 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:21.666 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:21.666 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:21.667 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:21.668 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:21.668 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:21.669 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:21.669 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:21.670 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:21.671 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:21.672 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:21.672 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:21.673 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:21.674 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:21.675 +02:00 [DBG] Attempting to bind parameter 'searchTerm' of type 'System.String' ...
2026-02-07 09:24:21.676 +02:00 [DBG] Attempting to bind parameter 'searchTerm' of type 'System.String' using the name '' in request data ...
2026-02-07 09:24:21.677 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchTerm' of type 'System.String'.
2026-02-07 09:24:21.678 +02:00 [DBG] Done attempting to bind parameter 'searchTerm' of type 'System.String'.
2026-02-07 09:24:21.678 +02:00 [DBG] Done attempting to bind parameter 'searchTerm' of type 'System.String'.
2026-02-07 09:24:21.679 +02:00 [DBG] Attempting to validate the bound parameter 'searchTerm' of type 'System.String' ...
2026-02-07 09:24:21.680 +02:00 [DBG] Done attempting to validate the bound parameter 'searchTerm' of type 'System.String'.
2026-02-07 09:24:21.681 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:21.683 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:21.684 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:21.685 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.686 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.687 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:21.688 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:21.689 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:21.690 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:21.809 +02:00 [INF] Executed DbCommand (119ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:21.811 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.811 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:21.812 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.812 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:21.813 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.814 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.814 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:21.815 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:21.815 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:21.816 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit)
ORDER BY [t].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-07 09:24:21.944 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit)
ORDER BY [t].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-07 09:24:21.946 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:21.947 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:21.947 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:21.948 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:21.948 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:21.949 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:21.950 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:21.951 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:21.952 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.953 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 7ms reading results.
2026-02-07 09:24:21.954 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.955 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:21.956 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:21.958 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:21.958 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:21.959 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:21.959 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:21.960 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Common.Models.PagedResult`1[[EliteClinic.Application.Features.Platform.Tenants.DTOs.TenantDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:21.961 +02:00 [INF] Executed action EliteClinic.Api.Controllers.TenantsController.GetAllTenants (EliteClinic.Api) in 297.5545ms
2026-02-07 09:24:21.962 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.TenantsController.GetAllTenants (EliteClinic.Api)'
2026-02-07 09:24:21.962 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:21.963 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:21.964 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:21.965 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:21.965 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/platform/tenants - 200 null application/json; charset=utf-8 318.5657ms
2026-02-07 09:24:21.971 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/platform/tenants - application/json null
2026-02-07 09:24:21.972 +02:00 [DBG] 1 candidate(s) found for the request path '/api/platform/tenants'
2026-02-07 09:24:21.973 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.TenantsController.GetAllTenants (EliteClinic.Api)' with route pattern 'api/platform/tenants' is valid for the request path '/api/platform/tenants'
2026-02-07 09:24:21.974 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.TenantsController.GetAllTenants (EliteClinic.Api)'
2026-02-07 09:24:21.974 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:21.975 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:21.975 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:21.976 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:21.977 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.TenantsController.GetAllTenants (EliteClinic.Api)'
2026-02-07 09:24:21.978 +02:00 [INF] Route matched with {action = "GetAllTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTenants(Int32, Int32, System.String) on controller EliteClinic.Api.Controllers.TenantsController (EliteClinic.Api).
2026-02-07 09:24:21.979 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:21.980 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:21.981 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:21.982 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:21.983 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:21.983 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.TenantsController (EliteClinic.Api)
2026-02-07 09:24:21.984 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.TenantsController (EliteClinic.Api)
2026-02-07 09:24:21.985 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:21.986 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:21.986 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:21.987 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:21.988 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:21.988 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:21.989 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:21.990 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:21.991 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:21.992 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:21.993 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:21.994 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:21.994 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:21.995 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:21.996 +02:00 [DBG] Attempting to bind parameter 'searchTerm' of type 'System.String' ...
2026-02-07 09:24:21.997 +02:00 [DBG] Attempting to bind parameter 'searchTerm' of type 'System.String' using the name '' in request data ...
2026-02-07 09:24:21.998 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchTerm' of type 'System.String'.
2026-02-07 09:24:21.999 +02:00 [DBG] Done attempting to bind parameter 'searchTerm' of type 'System.String'.
2026-02-07 09:24:22.000 +02:00 [DBG] Done attempting to bind parameter 'searchTerm' of type 'System.String'.
2026-02-07 09:24:22.001 +02:00 [DBG] Attempting to validate the bound parameter 'searchTerm' of type 'System.String' ...
2026-02-07 09:24:22.002 +02:00 [DBG] Done attempting to validate the bound parameter 'searchTerm' of type 'System.String'.
2026-02-07 09:24:22.004 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:22.006 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:22.007 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:22.007 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.008 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.009 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:22.010 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:22.011 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:22.011 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:22.139 +02:00 [INF] Executed DbCommand (128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:22.141 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.141 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:22.142 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.143 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:22.144 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.145 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.145 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:22.146 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:22.147 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:22.147 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit)
ORDER BY [t].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-07 09:24:22.275 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM [Tenants] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit)
ORDER BY [t].[CreatedAt] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2026-02-07 09:24:22.277 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:22.278 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:22.278 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:22.279 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:22.281 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:22.282 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:22.283 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:22.285 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:22.285 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.286 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 9ms reading results.
2026-02-07 09:24:22.296 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.297 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:22.299 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:22.300 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:22.300 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:22.300 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:22.301 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:22.301 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Common.Models.PagedResult`1[[EliteClinic.Application.Features.Platform.Tenants.DTOs.TenantDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:22.302 +02:00 [INF] Executed action EliteClinic.Api.Controllers.TenantsController.GetAllTenants (EliteClinic.Api) in 318.9305ms
2026-02-07 09:24:22.303 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.TenantsController.GetAllTenants (EliteClinic.Api)'
2026-02-07 09:24:22.304 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:22.305 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:22.305 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.306 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:22.307 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/platform/tenants - 200 null application/json; charset=utf-8 336.0873ms
2026-02-07 09:24:22.314 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/platform/feature-flags/6b99d93c-cd1a-41b1-b926-7e68fd495ffe - application/json null
2026-02-07 09:24:22.316 +02:00 [DBG] 1 candidate(s) found for the request path '/api/platform/feature-flags/6b99d93c-cd1a-41b1-b926-7e68fd495ffe'
2026-02-07 09:24:22.317 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.FeatureFlagsController.GetFeatureFlags (EliteClinic.Api)' with route pattern 'api/platform/feature-flags/{tenantId}' is valid for the request path '/api/platform/feature-flags/6b99d93c-cd1a-41b1-b926-7e68fd495ffe'
2026-02-07 09:24:22.318 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.FeatureFlagsController.GetFeatureFlags (EliteClinic.Api)'
2026-02-07 09:24:22.318 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:22.319 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:22.320 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:22.321 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:22.321 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.FeatureFlagsController.GetFeatureFlags (EliteClinic.Api)'
2026-02-07 09:24:22.325 +02:00 [INF] Route matched with {action = "GetFeatureFlags", controller = "FeatureFlags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFeatureFlags(System.Guid) on controller EliteClinic.Api.Controllers.FeatureFlagsController (EliteClinic.Api).
2026-02-07 09:24:22.327 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:22.327 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:22.328 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:22.329 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:22.330 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:22.331 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.FeatureFlagsController (EliteClinic.Api)
2026-02-07 09:24:22.332 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.FeatureFlagsController (EliteClinic.Api)
2026-02-07 09:24:22.333 +02:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' ...
2026-02-07 09:24:22.334 +02:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' using the name 'tenantId' in request data ...
2026-02-07 09:24:22.335 +02:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2026-02-07 09:24:22.336 +02:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2026-02-07 09:24:22.337 +02:00 [DBG] Attempting to validate the bound parameter 'tenantId' of type 'System.Guid' ...
2026-02-07 09:24:22.337 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantId' of type 'System.Guid'.
2026-02-07 09:24:22.341 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:22.342 +02:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .Any(t => t.Id == __tenantId_0 && !(t.IsDeleted))'
2026-02-07 09:24:22.344 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Tenants AS t
                WHERE (t.Id == @__tenantId_0) && Not(t.IsDeleted))) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Tenants AS t
                WHERE (t.Id == @__tenantId_0) && Not(t.IsDeleted)), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:24:22.346 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:22.347 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:22.348 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.349 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.349 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:22.350 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:22.351 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:22.352 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tenants] AS [t]
        WHERE [t].[Id] = @__tenantId_0 AND [t].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:24:22.490 +02:00 [INF] Executed DbCommand (138ms) [Parameters=[@__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tenants] AS [t]
        WHERE [t].[Id] = @__tenantId_0 AND [t].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2026-02-07 09:24:22.491 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.492 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:22.493 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.494 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (1ms).
2026-02-07 09:24:22.496 +02:00 [DBG] Compiling query expression: 
'DbSet<TenantFeatureFlag>()
    .FirstOrDefault(f => f.TenantId == __tenantId_0 && !(f.IsDeleted))'
2026-02-07 09:24:22.500 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TenantFeatureFlag>(
    asyncEnumerable: SingleQueryingEnumerable.Create<TenantFeatureFlag>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TenantFeatureFlag.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TenantFeatureFlag.AdvancedMedicalTemplates (bool) Required, 1], [Property: TenantFeatureFlag.CreatedAt (DateTime) Required, 2], [Property: TenantFeatureFlag.DeletedAt (DateTime?), 3], [Property: TenantFeatureFlag.ExpensesModule (bool) Required, 4], [Property: TenantFeatureFlag.Export (bool) Required, 5], [Property: TenantFeatureFlag.IsDeleted (bool) Required, 6], [Property: TenantFeatureFlag.OnlineBooking (bool) Required, 7], [Property: TenantFeatureFlag.PwaNotifications (bool) Required, 8], [Property: TenantFeatureFlag.Ratings (bool) Required, 9], [Property: TenantFeatureFlag.TenantId (Guid) Required FK Index, 10], [Property: TenantFeatureFlag.UpdatedAt (DateTime) Required, 11], [Property: TenantFeatureFlag.WhatsappAutomation (bool) Required, 12] }
            SELECT TOP(1) t.Id, t.AdvancedMedicalTemplates, t.CreatedAt, t.DeletedAt, t.ExpensesModule, t.Export, t.IsDeleted, t.OnlineBooking, t.PwaNotifications, t.Ratings, t.TenantId, t.UpdatedAt, t.WhatsappAutomation
            FROM TenantFeatureFlags AS t
            WHERE (t.TenantId == @__tenantId_0) && Not(t.IsDeleted)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TenantFeatureFlag.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TenantFeatureFlag.AdvancedMedicalTemplates (bool) Required, 1], [Property: TenantFeatureFlag.CreatedAt (DateTime) Required, 2], [Property: TenantFeatureFlag.DeletedAt (DateTime?), 3], [Property: TenantFeatureFlag.ExpensesModule (bool) Required, 4], [Property: TenantFeatureFlag.Export (bool) Required, 5], [Property: TenantFeatureFlag.IsDeleted (bool) Required, 6], [Property: TenantFeatureFlag.OnlineBooking (bool) Required, 7], [Property: TenantFeatureFlag.PwaNotifications (bool) Required, 8], [Property: TenantFeatureFlag.Ratings (bool) Required, 9], [Property: TenantFeatureFlag.TenantId (Guid) Required FK Index, 10], [Property: TenantFeatureFlag.UpdatedAt (DateTime) Required, 11], [Property: TenantFeatureFlag.WhatsappAutomation (bool) Required, 12] }
            SELECT TOP(1) t.Id, t.AdvancedMedicalTemplates, t.CreatedAt, t.DeletedAt, t.ExpensesModule, t.Export, t.IsDeleted, t.OnlineBooking, t.PwaNotifications, t.Ratings, t.TenantId, t.UpdatedAt, t.WhatsappAutomation
            FROM TenantFeatureFlags AS t
            WHERE (t.TenantId == @__tenantId_0) && Not(t.IsDeleted), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            TenantFeatureFlag entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                TenantFeatureFlag instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(TenantFeatureFlag);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: TenantFeatureFlag.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.TenantFeatureFlag").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (TenantFeatureFlag)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: TenantFeatureFlag | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.TenantFeatureFlag")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: TenantFeatureFlag | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.TenantFeatureFlag")]: 
                            {
                                return 
                                {
                                    TenantFeatureFlag instance;
                                    instance = new TenantFeatureFlag();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<AdvancedMedicalTemplates>k__BackingField = dataReader.GetBoolean(1);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(2);
                                    instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                    instance.<ExpensesModule>k__BackingField = dataReader.GetBoolean(4);
                                    instance.<Export>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(6);
                                    instance.<OnlineBooking>k__BackingField = dataReader.GetBoolean(7);
                                    instance.<PwaNotifications>k__BackingField = dataReader.GetBoolean(8);
                                    instance.<Ratings>k__BackingField = dataReader.GetBoolean(9);
                                    instance.<TenantId>k__BackingField = dataReader.GetGuid(10);
                                    instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(11);
                                    instance.<WhatsappAutomation>k__BackingField = dataReader.GetBoolean(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: TenantFeatureFlag | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.TenantFeatureFlag")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(TenantFeatureFlag)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:24:22.507 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.508 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.509 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:22.509 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:22.510 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:22.511 +02:00 [DBG] Executing DbCommand [Parameters=[@__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[AdvancedMedicalTemplates], [t].[CreatedAt], [t].[DeletedAt], [t].[ExpensesModule], [t].[Export], [t].[IsDeleted], [t].[OnlineBooking], [t].[PwaNotifications], [t].[Ratings], [t].[TenantId], [t].[UpdatedAt], [t].[WhatsappAutomation]
FROM [TenantFeatureFlags] AS [t]
WHERE [t].[TenantId] = @__tenantId_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:22.629 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@__tenantId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[AdvancedMedicalTemplates], [t].[CreatedAt], [t].[DeletedAt], [t].[ExpensesModule], [t].[Export], [t].[IsDeleted], [t].[OnlineBooking], [t].[PwaNotifications], [t].[Ratings], [t].[TenantId], [t].[UpdatedAt], [t].[WhatsappAutomation]
FROM [TenantFeatureFlags] AS [t]
WHERE [t].[TenantId] = @__tenantId_0 AND [t].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:22.633 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'TenantFeatureFlag' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:22.643 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.644 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 12ms reading results.
2026-02-07 09:24:22.644 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.645 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:22.646 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:22.647 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:22.647 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:22.648 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:22.648 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:22.648 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Platform.FeatureFlags.DTOs.FeatureFlagDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:22.650 +02:00 [INF] Executed action EliteClinic.Api.Controllers.FeatureFlagsController.GetFeatureFlags (EliteClinic.Api) in 319.4239ms
2026-02-07 09:24:22.651 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.FeatureFlagsController.GetFeatureFlags (EliteClinic.Api)'
2026-02-07 09:24:22.652 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:22.652 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:22.653 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.654 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:22.655 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/platform/feature-flags/6b99d93c-cd1a-41b1-b926-7e68fd495ffe - 200 null application/json; charset=utf-8 340.3152ms
2026-02-07 09:24:22.663 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/platform/subscriptions - application/json null
2026-02-07 09:24:22.665 +02:00 [DBG] 1 candidate(s) found for the request path '/api/platform/subscriptions'
2026-02-07 09:24:22.666 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.SubscriptionsController.GetAllSubscriptions (EliteClinic.Api)' with route pattern 'api/platform/subscriptions' is valid for the request path '/api/platform/subscriptions'
2026-02-07 09:24:22.666 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.SubscriptionsController.GetAllSubscriptions (EliteClinic.Api)'
2026-02-07 09:24:22.667 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:22.668 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:22.668 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:22.669 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:22.670 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.SubscriptionsController.GetAllSubscriptions (EliteClinic.Api)'
2026-02-07 09:24:22.673 +02:00 [INF] Route matched with {action = "GetAllSubscriptions", controller = "Subscriptions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllSubscriptions(Int32, Int32, System.Nullable`1[System.Guid]) on controller EliteClinic.Api.Controllers.SubscriptionsController (EliteClinic.Api).
2026-02-07 09:24:22.675 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:22.676 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:22.678 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:22.679 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:22.680 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:22.681 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.SubscriptionsController (EliteClinic.Api)
2026-02-07 09:24:22.683 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.SubscriptionsController (EliteClinic.Api)
2026-02-07 09:24:22.684 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:22.686 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:22.687 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:22.688 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:22.689 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:22.690 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2026-02-07 09:24:22.691 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2026-02-07 09:24:22.692 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:22.694 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2026-02-07 09:24:22.695 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:22.696 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:22.697 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:22.698 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2026-02-07 09:24:22.699 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2026-02-07 09:24:22.700 +02:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Nullable`1[System.Guid]' ...
2026-02-07 09:24:22.701 +02:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Nullable`1[System.Guid]' using the name '' in request data ...
2026-02-07 09:24:22.703 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'tenantId' of type 'System.Nullable`1[System.Guid]'.
2026-02-07 09:24:22.703 +02:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Nullable`1[System.Guid]'.
2026-02-07 09:24:22.704 +02:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Nullable`1[System.Guid]'.
2026-02-07 09:24:22.705 +02:00 [DBG] Attempting to validate the bound parameter 'tenantId' of type 'System.Nullable`1[System.Guid]' ...
2026-02-07 09:24:22.705 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantId' of type 'System.Nullable`1[System.Guid]'.
2026-02-07 09:24:22.709 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:22.710 +02:00 [DBG] Compiling query expression: 
'DbSet<Subscription>()
    .Include(s => s.Tenant)
    .Where(s => !(s.IsDeleted))
    .Count()'
2026-02-07 09:24:22.713 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Subscriptions AS s
            WHERE Not(s.IsDeleted)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Subscriptions AS s
            WHERE Not(s.IsDeleted), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:24:22.716 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:22.716 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:22.717 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.718 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.719 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:22.720 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:22.720 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:22.721 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Subscriptions] AS [s]
WHERE [s].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:22.839 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Subscriptions] AS [s]
WHERE [s].[IsDeleted] = CAST(0 AS bit)
2026-02-07 09:24:22.841 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.842 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:22.843 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.844 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:22.846 +02:00 [DBG] Compiling query expression: 
'DbSet<Subscription>()
    .Include(s => s.Tenant)
    .Where(s => !(s.IsDeleted))
    .OrderByDescending(s => s.CreatedAt)
    .Skip(__p_0)
    .Take(__p_1)'
2026-02-07 09:24:22.848 +02:00 [DBG] Including navigation: 'Subscription.Tenant'.
2026-02-07 09:24:22.854 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Subscription>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Subscription.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Subscription.Amount (decimal) Required, 1], [Property: Subscription.CancelReason (string), 2], [Property: Subscription.CancelledAt (DateTime?), 3], [Property: Subscription.CreatedAt (DateTime) Required, 4], [Property: Subscription.Currency (string) Required MaxLength(10), 5], [Property: Subscription.DeletedAt (DateTime?), 6], [Property: Subscription.EndDate (DateTime) Required, 7], [Property: Subscription.IsDeleted (bool) Required, 8], [Property: Subscription.IsPaid (bool) Required, 9], [Property: Subscription.Notes (string), 10], [Property: Subscription.PaidAt (DateTime?), 11], [Property: Subscription.PaymentMethod (string), 12], [Property: Subscription.PaymentReference (string), 13], [Property: Subscription.PlanName (string) Required, 14], [Property: Subscription.StartDate (DateTime) Required, 15], [Property: Subscription.Status (SubscriptionStatus) Required, 16], [Property: Subscription.TenantId (Guid) Required FK Index, 17], [Property: Subscription.UpdatedAt (DateTime) Required, 18] }
            1 -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: Tenant.Address (string), 20], [Property: Tenant.ContactPhone (string), 21], [Property: Tenant.CreatedAt (DateTime) Required, 22], [Property: Tenant.DeletedAt (DateTime?), 23], [Property: Tenant.IsDeleted (bool) Required, 24], [Property: Tenant.LogoUrl (string), 25], [Property: Tenant.Name (string) Required, 26], [Property: Tenant.Slug (string) Required Index MaxLength(100), 27], [Property: Tenant.Status (TenantStatus) Required, 28], [Property: Tenant.UpdatedAt (DateTime) Required, 29] }
        SELECT s0.Id, s0.Amount, s0.CancelReason, s0.CancelledAt, s0.CreatedAt, s0.Currency, s0.DeletedAt, s0.EndDate, s0.IsDeleted, s0.IsPaid, s0.Notes, s0.PaidAt, s0.PaymentMethod, s0.PaymentReference, s0.PlanName, s0.StartDate, s0.Status, s0.TenantId, s0.UpdatedAt, t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
        FROM 
        (
            SELECT s.Id, s.Amount, s.CancelReason, s.CancelledAt, s.CreatedAt, s.Currency, s.DeletedAt, s.EndDate, s.IsDeleted, s.IsPaid, s.Notes, s.PaidAt, s.PaymentMethod, s.PaymentReference, s.PlanName, s.StartDate, s.Status, s.TenantId, s.UpdatedAt
            FROM Subscriptions AS s
            WHERE Not(s.IsDeleted)
            ORDER BY s.CreatedAt DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS s0
        INNER JOIN Tenants AS t ON s0.TenantId == t.Id
        ORDER BY s0.CreatedAt DESC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Subscription.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Subscription.Amount (decimal) Required, 1], [Property: Subscription.CancelReason (string), 2], [Property: Subscription.CancelledAt (DateTime?), 3], [Property: Subscription.CreatedAt (DateTime) Required, 4], [Property: Subscription.Currency (string) Required MaxLength(10), 5], [Property: Subscription.DeletedAt (DateTime?), 6], [Property: Subscription.EndDate (DateTime) Required, 7], [Property: Subscription.IsDeleted (bool) Required, 8], [Property: Subscription.IsPaid (bool) Required, 9], [Property: Subscription.Notes (string), 10], [Property: Subscription.PaidAt (DateTime?), 11], [Property: Subscription.PaymentMethod (string), 12], [Property: Subscription.PaymentReference (string), 13], [Property: Subscription.PlanName (string) Required, 14], [Property: Subscription.StartDate (DateTime) Required, 15], [Property: Subscription.Status (SubscriptionStatus) Required, 16], [Property: Subscription.TenantId (Guid) Required FK Index, 17], [Property: Subscription.UpdatedAt (DateTime) Required, 18] }
            1 -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: Tenant.Address (string), 20], [Property: Tenant.ContactPhone (string), 21], [Property: Tenant.CreatedAt (DateTime) Required, 22], [Property: Tenant.DeletedAt (DateTime?), 23], [Property: Tenant.IsDeleted (bool) Required, 24], [Property: Tenant.LogoUrl (string), 25], [Property: Tenant.Name (string) Required, 26], [Property: Tenant.Slug (string) Required Index MaxLength(100), 27], [Property: Tenant.Status (TenantStatus) Required, 28], [Property: Tenant.UpdatedAt (DateTime) Required, 29] }
        SELECT s0.Id, s0.Amount, s0.CancelReason, s0.CancelledAt, s0.CreatedAt, s0.Currency, s0.DeletedAt, s0.EndDate, s0.IsDeleted, s0.IsPaid, s0.Notes, s0.PaidAt, s0.PaymentMethod, s0.PaymentReference, s0.PlanName, s0.StartDate, s0.Status, s0.TenantId, s0.UpdatedAt, t.Id, t.Address, t.ContactPhone, t.CreatedAt, t.DeletedAt, t.IsDeleted, t.LogoUrl, t.Name, t.Slug, t.Status, t.UpdatedAt
        FROM 
        (
            SELECT s.Id, s.Amount, s.CancelReason, s.CancelledAt, s.CreatedAt, s.Currency, s.DeletedAt, s.EndDate, s.IsDeleted, s.IsPaid, s.Notes, s.PaidAt, s.PaymentMethod, s.PaymentReference, s.PlanName, s.StartDate, s.Status, s.TenantId, s.UpdatedAt
            FROM Subscriptions AS s
            WHERE Not(s.IsDeleted)
            ORDER BY s.CreatedAt DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS s0
        INNER JOIN Tenants AS t ON s0.TenantId == t.Id
        ORDER BY s0.CreatedAt DESC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Subscription entity;
        Tenant entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Subscription instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Subscription);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Subscription.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Subscription").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Subscription)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Subscription | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Subscription")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Subscription | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Subscription")]: 
                        {
                            return 
                            {
                                Subscription instance;
                                instance = new Subscription();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Amount>k__BackingField = dataReader.GetDecimal(1);
                                instance.<CancelReason>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                instance.<CancelledAt>k__BackingField = dataReader.IsDBNull(3) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(3);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(4);
                                instance.<Currency>k__BackingField = dataReader.GetString(5);
                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(6) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(6);
                                instance.<EndDate>k__BackingField = dataReader.GetDateTime(7);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(8);
                                instance.<IsPaid>k__BackingField = dataReader.GetBoolean(9);
                                instance.<Notes>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                instance.<PaidAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<PaymentMethod>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                instance.<PaymentReference>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                instance.<PlanName>k__BackingField = dataReader.GetString(14);
                                instance.<StartDate>k__BackingField = dataReader.GetDateTime(15);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<SubscriptionStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Subscription.Status (SubscriptionStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Subscription").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(16));
                                instance.<TenantId>k__BackingField = dataReader.GetGuid(17);
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(18);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Subscription | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Subscription")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Subscription)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Tenant instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Tenant);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Tenant.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(19) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Tenant)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]: 
                        {
                            return 
                            {
                                Tenant instance;
                                instance = new Tenant();
                                instance.<Id>k__BackingField = dataReader.GetGuid(19);
                                instance.<Address>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                instance.<ContactPhone>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(22);
                                instance.<DeletedAt>k__BackingField = dataReader.IsDBNull(23) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(23);
                                instance.<IsDeleted>k__BackingField = dataReader.GetBoolean(24);
                                instance.<LogoUrl>k__BackingField = dataReader.IsDBNull(25) ? default(string) : dataReader.GetString(25);
                                instance.<Name>k__BackingField = dataReader.GetString(26);
                                instance.<Slug>k__BackingField = dataReader.GetString(27);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<TenantStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Tenant.Status (TenantStatus) Required | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(28));
                                instance.<UpdatedAt>k__BackingField = dataReader.GetDateTime(29);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Tenant | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Tenant)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Subscription, Subscription, Tenant>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Subscription.Tenant (Tenant) ToPrincipal Tenant Inverse: Subscriptions | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Subscription").FindNavigation("Tenant")], 
            inverseNavigation: [LIFTABLE Constant: Navigation: Tenant.Subscriptions (ICollection<Subscription>) Collection ToDependent Subscription Inverse: Tenant | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindNavigation("Subscriptions")], 
            fixup: (namelessParameter{10}, namelessParameter{11}) => 
            {
                namelessParameter{10}.<Tenant>k__BackingField = namelessParameter{11};
                return [LIFTABLE Constant: ClrICollectionAccessor<Tenant, ICollection<Subscription>, Subscription> | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.Tenant").FindNavigation("Subscriptions").GetCollectionAccessor()].Add(
                    entity: namelessParameter{11}, 
                    value: namelessParameter{10}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-02-07 09:24:22.863 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.863 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:22.864 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:22.865 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:22.866 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:22.866 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[Amount], [s0].[CancelReason], [s0].[CancelledAt], [s0].[CreatedAt], [s0].[Currency], [s0].[DeletedAt], [s0].[EndDate], [s0].[IsDeleted], [s0].[IsPaid], [s0].[Notes], [s0].[PaidAt], [s0].[PaymentMethod], [s0].[PaymentReference], [s0].[PlanName], [s0].[StartDate], [s0].[Status], [s0].[TenantId], [s0].[UpdatedAt], [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM (
    SELECT [s].[Id], [s].[Amount], [s].[CancelReason], [s].[CancelledAt], [s].[CreatedAt], [s].[Currency], [s].[DeletedAt], [s].[EndDate], [s].[IsDeleted], [s].[IsPaid], [s].[Notes], [s].[PaidAt], [s].[PaymentMethod], [s].[PaymentReference], [s].[PlanName], [s].[StartDate], [s].[Status], [s].[TenantId], [s].[UpdatedAt]
    FROM [Subscriptions] AS [s]
    WHERE [s].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [s].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Tenants] AS [t] ON [s0].[TenantId] = [t].[Id]
ORDER BY [s0].[CreatedAt] DESC
2026-02-07 09:24:23.000 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[Amount], [s0].[CancelReason], [s0].[CancelledAt], [s0].[CreatedAt], [s0].[Currency], [s0].[DeletedAt], [s0].[EndDate], [s0].[IsDeleted], [s0].[IsPaid], [s0].[Notes], [s0].[PaidAt], [s0].[PaymentMethod], [s0].[PaymentReference], [s0].[PlanName], [s0].[StartDate], [s0].[Status], [s0].[TenantId], [s0].[UpdatedAt], [t].[Id], [t].[Address], [t].[ContactPhone], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[LogoUrl], [t].[Name], [t].[Slug], [t].[Status], [t].[UpdatedAt]
FROM (
    SELECT [s].[Id], [s].[Amount], [s].[CancelReason], [s].[CancelledAt], [s].[CreatedAt], [s].[Currency], [s].[DeletedAt], [s].[EndDate], [s].[IsDeleted], [s].[IsPaid], [s].[Notes], [s].[PaidAt], [s].[PaymentMethod], [s].[PaymentReference], [s].[PlanName], [s].[StartDate], [s].[Status], [s].[TenantId], [s].[UpdatedAt]
    FROM [Subscriptions] AS [s]
    WHERE [s].[IsDeleted] = CAST(0 AS bit)
    ORDER BY [s].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s0]
INNER JOIN [Tenants] AS [t] ON [s0].[TenantId] = [t].[Id]
ORDER BY [s0].[CreatedAt] DESC
2026-02-07 09:24:23.004 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Subscription' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.007 +02:00 [DBG] The navigation 'Subscription.Tenant' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.008 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.009 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Subscription' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.010 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Subscription' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.011 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Subscription' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.012 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Subscription' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.013 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Subscription' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.014 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Subscription' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.015 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Subscription' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.016 +02:00 [DBG] The navigation 'Subscription.Tenant' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.016 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.017 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Subscription' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.018 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'Subscription' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.019 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.019 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 16ms reading results.
2026-02-07 09:24:23.020 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.021 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:23.022 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:23.023 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:23.023 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:23.024 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:23.025 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:23.026 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Common.Models.PagedResult`1[[EliteClinic.Application.Features.Platform.Subscriptions.DTOs.SubscriptionDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:23.029 +02:00 [INF] Executed action EliteClinic.Api.Controllers.SubscriptionsController.GetAllSubscriptions (EliteClinic.Api) in 347.778ms
2026-02-07 09:24:23.030 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.SubscriptionsController.GetAllSubscriptions (EliteClinic.Api)'
2026-02-07 09:24:23.030 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:23.031 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:23.032 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.032 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:23.033 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/platform/subscriptions - 200 null application/json; charset=utf-8 370.4175ms
2026-02-07 09:24:23.045 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/health - application/json null
2026-02-07 09:24:23.047 +02:00 [DBG] 1 candidate(s) found for the request path '/api/health'
2026-02-07 09:24:23.048 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.HealthController.GetHealth (EliteClinic.Api)' with route pattern 'api/Health' is valid for the request path '/api/health'
2026-02-07 09:24:23.049 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.HealthController.GetHealth (EliteClinic.Api)'
2026-02-07 09:24:23.051 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:23.052 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:24:23.054 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.HealthController.GetHealth (EliteClinic.Api)'
2026-02-07 09:24:23.055 +02:00 [INF] Route matched with {action = "GetHealth", controller = "Health"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.HealthDto]]] GetHealth(EliteClinic.Infrastructure.Data.EliteClinicDbContext) on controller EliteClinic.Api.Controllers.HealthController (EliteClinic.Api).
2026-02-07 09:24:23.057 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:23.058 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:23.058 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:23.059 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:23.060 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:23.060 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.HealthController (EliteClinic.Api)
2026-02-07 09:24:23.061 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.HealthController (EliteClinic.Api)
2026-02-07 09:24:23.061 +02:00 [DBG] Attempting to bind parameter 'dbContext' of type 'EliteClinic.Infrastructure.Data.EliteClinicDbContext' ...
2026-02-07 09:24:23.062 +02:00 [DBG] Done attempting to bind parameter 'dbContext' of type 'EliteClinic.Infrastructure.Data.EliteClinicDbContext'.
2026-02-07 09:24:23.063 +02:00 [DBG] Attempting to validate the bound parameter 'dbContext' of type 'EliteClinic.Infrastructure.Data.EliteClinicDbContext' ...
2026-02-07 09:24:23.063 +02:00 [DBG] Done attempting to validate the bound parameter 'dbContext' of type 'EliteClinic.Infrastructure.Data.EliteClinicDbContext'.
2026-02-07 09:24:23.064 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:23.070 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:23.071 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:23.071 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.072 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.072 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2026-02-07 09:24:23.073 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2026-02-07 09:24:23.073 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2026-02-07 09:24:23.074 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:24:23.190 +02:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-02-07 09:24:23.191 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.191 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:23.192 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:23.194 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:23.195 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:23.195 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:23.196 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:23.197 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.HealthDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:23.197 +02:00 [INF] Executed action EliteClinic.Api.Controllers.HealthController.GetHealth (EliteClinic.Api) in 137.0362ms
2026-02-07 09:24:23.198 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.HealthController.GetHealth (EliteClinic.Api)'
2026-02-07 09:24:23.199 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:23.199 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:23.200 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.203 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2026-02-07 09:24:23.205 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/health - 200 null application/json; charset=utf-8 159.5598ms
2026-02-07 09:24:23.214 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/auth/login - application/json 51
2026-02-07 09:24:23.216 +02:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2026-02-07 09:24:23.216 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)' with route pattern 'api/Auth/login' is valid for the request path '/api/auth/login'
2026-02-07 09:24:23.217 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:24:23.218 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:23.218 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:24:23.219 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:24:23.219 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.LoginResponse]]] Login(EliteClinic.Application.Features.Auth.DTOs.LoginRequest, System.String) on controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api).
2026-02-07 09:24:23.221 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:23.221 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:23.222 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:23.223 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:23.224 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:23.225 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:23.226 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:23.227 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:23.228 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' using the name '' in request data ...
2026-02-07 09:24:23.229 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:23.229 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000003E": started reading request body.
2026-02-07 09:24:23.230 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000003E": done reading request body.
2026-02-07 09:24:23.231 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'
2026-02-07 09:24:23.231 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:23.232 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:23.233 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest' ...
2026-02-07 09:24:23.234 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.LoginRequest'.
2026-02-07 09:24:23.235 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:23.235 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:23.236 +02:00 [DBG] Could not find a value in the request with name 'X-Tenant' for binding parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:23.237 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:23.237 +02:00 [DBG] Could not find a value in the request with name 'X-Tenant' for binding parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:23.238 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:23.239 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:23.239 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:23.240 +02:00 [DBG] Attempting to validate the bound parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:23.241 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:23.242 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:23.244 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:23.244 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:23.244 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.246 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.246 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:23.247 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:23.248 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:23.249 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:23.383 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:23.384 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.385 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.386 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:23.386 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.387 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:23.448 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.450 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.451 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:23.452 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:23.453 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:23.454 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:23.592 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:23.593 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.594 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:23.594 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.595 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:23.597 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.599 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.600 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:23.600 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:23.601 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:23.603 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:23.730 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:23.731 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.732 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:23.732 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.733 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:23.734 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.734 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:23.735 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:23.735 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:23.736 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:23.736 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:23.737 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.737 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.738 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:23.739 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:23.739 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:23.740 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:24:23.860 +02:00 [INF] Executed DbCommand (120ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:24:23.861 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.862 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:23.863 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.863 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:23.864 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:23.865 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:24:23.866 +02:00 [INF] Successful login for user: superadmin
2026-02-07 09:24:23.866 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:23.868 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:23.868 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:23.869 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:23.869 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:23.870 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.LoginResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:23.871 +02:00 [INF] Executed action EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api) in 645.4914ms
2026-02-07 09:24:23.871 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.AuthController.Login (EliteClinic.Api)'
2026-02-07 09:24:23.872 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:23.873 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:23.873 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.874 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:23.875 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/auth/login - 200 null application/json; charset=utf-8 660.4043ms
2026-02-07 09:24:23.882 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5094/api/auth/refresh - application/json 63
2026-02-07 09:24:23.884 +02:00 [DBG] 1 candidate(s) found for the request path '/api/auth/refresh'
2026-02-07 09:24:23.885 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.AuthController.Refresh (EliteClinic.Api)' with route pattern 'api/Auth/refresh' is valid for the request path '/api/auth/refresh'
2026-02-07 09:24:23.886 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.AuthController.Refresh (EliteClinic.Api)'
2026-02-07 09:24:23.886 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:23.887 +02:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-07 09:24:23.888 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.AuthController.Refresh (EliteClinic.Api)'
2026-02-07 09:24:23.890 +02:00 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.LoginResponse]]] Refresh(EliteClinic.Application.Features.Auth.DTOs.RefreshTokenRequest) on controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api).
2026-02-07 09:24:23.891 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:23.892 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:23.893 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:23.895 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:23.896 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:23.897 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:23.898 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:23.898 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.RefreshTokenRequest' ...
2026-02-07 09:24:23.899 +02:00 [DBG] Attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.RefreshTokenRequest' using the name '' in request data ...
2026-02-07 09:24:23.900 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2026-02-07 09:24:23.901 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000003F": started reading request body.
2026-02-07 09:24:23.902 +02:00 [DBG] Connection id "0HNJ63753892B", Request id "0HNJ63753892B:0000003F": done reading request body.
2026-02-07 09:24:23.904 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'EliteClinic.Application.Features.Auth.DTOs.RefreshTokenRequest'
2026-02-07 09:24:23.905 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.RefreshTokenRequest'.
2026-02-07 09:24:23.906 +02:00 [DBG] Done attempting to bind parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.RefreshTokenRequest'.
2026-02-07 09:24:23.907 +02:00 [DBG] Attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.RefreshTokenRequest' ...
2026-02-07 09:24:23.909 +02:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'EliteClinic.Application.Features.Auth.DTOs.RefreshTokenRequest'.
2026-02-07 09:24:23.912 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:23.913 +02:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.RefreshToken == __refreshToken_0 && u.RefreshTokenExpiry > (DateTime?)DateTime.UtcNow)'
2026-02-07 09:24:23.918 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApplicationUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.CreatedAt (DateTime) Required, 3], [Property: ApplicationUser.DisplayName (string) Required, 4], [Property: ApplicationUser.Email (string) MaxLength(256), 5], [Property: ApplicationUser.EmailConfirmed (bool) Required, 6], [Property: ApplicationUser.IsActive (bool) Required, 7], [Property: ApplicationUser.LastLoginAt (DateTime?), 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.RefreshToken (string), 16], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 17], [Property: ApplicationUser.SecurityStamp (string), 18], [Property: ApplicationUser.TenantId (Guid?) FK Index, 19], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 20], [Property: ApplicationUser.UserName (string) MaxLength(256), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE (a.RefreshToken == @__refreshToken_0) && (a.RefreshTokenExpiry > GETUTCDATE())) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.CreatedAt (DateTime) Required, 3], [Property: ApplicationUser.DisplayName (string) Required, 4], [Property: ApplicationUser.Email (string) MaxLength(256), 5], [Property: ApplicationUser.EmailConfirmed (bool) Required, 6], [Property: ApplicationUser.IsActive (bool) Required, 7], [Property: ApplicationUser.LastLoginAt (DateTime?), 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.RefreshToken (string), 16], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 17], [Property: ApplicationUser.SecurityStamp (string), 18], [Property: ApplicationUser.TenantId (Guid?) FK Index, 19], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 20], [Property: ApplicationUser.UserName (string) MaxLength(256), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE (a.RefreshToken == @__refreshToken_0) && (a.RefreshTokenExpiry > GETUTCDATE()), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApplicationUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApplicationUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApplicationUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApplicationUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApplicationUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]: 
                            {
                                return 
                                {
                                    ApplicationUser instance;
                                    instance = new ApplicationUser();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<DisplayName>k__BackingField = dataReader.GetString(4);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(6);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(7);
                                    instance.<LastLoginAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(9);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(10) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(10);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(15);
                                    instance.<RefreshToken>k__BackingField = dataReader.IsDBNull(16) ? default(string) : dataReader.GetString(16);
                                    instance.<RefreshTokenExpiry>k__BackingField = dataReader.IsDBNull(17) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(17);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                    instance.<TenantId>k__BackingField = dataReader.IsDBNull(19) ? default(Guid?) : (Guid?)dataReader.GetGuid(19);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(20);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApplicationUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:24:23.923 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:23.923 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:23.924 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.925 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:23.926 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:23.926 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:23.926 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:23.927 +02:00 [DBG] Executing DbCommand [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[RefreshToken] = @__refreshToken_0 AND [a].[RefreshTokenExpiry] > GETUTCDATE()
2026-02-07 09:24:24.062 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[RefreshToken] = @__refreshToken_0 AND [a].[RefreshTokenExpiry] > GETUTCDATE()
2026-02-07 09:24:24.063 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:24.064 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.064 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 1ms reading results.
2026-02-07 09:24:24.066 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.067 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:24.069 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.069 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.070 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:24.071 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:24.072 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:24.073 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:24.189 +02:00 [INF] Executed DbCommand (117ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:24.191 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.191 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:24.192 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.193 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:24.194 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.195 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.195 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:24.196 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:24.197 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:24.197 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:24.314 +02:00 [INF] Executed DbCommand (117ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2026-02-07 09:24:24.316 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.316 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:24.317 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.318 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:24.318 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:24.319 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:24.320 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:24.320 +02:00 [DBG] SaveChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:24.321 +02:00 [DBG] DetectChanges starting for 'EliteClinicDbContext'.
2026-02-07 09:24:24.321 +02:00 [DBG] DetectChanges completed for 'EliteClinicDbContext'.
2026-02-07 09:24:24.322 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.323 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.323 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:24.324 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:24.325 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:24.325 +02:00 [DBG] Executing DbCommand [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:24:24.462 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@p21='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p22='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedAt] = @p2, [DisplayName] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastLoginAt] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [RefreshToken] = @p15, [RefreshTokenExpiry] = @p16, [SecurityStamp] = @p17, [TenantId] = @p18, [TwoFactorEnabled] = @p19, [UserName] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2026-02-07 09:24:24.464 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.465 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:24.466 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.467 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:24.468 +02:00 [DBG] An entity of type 'ApplicationUser' tracked by 'EliteClinicDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:24.469 +02:00 [DBG] SaveChanges completed for 'EliteClinicDbContext' with 1 entities written to the database.
2026-02-07 09:24:24.470 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:24.471 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:24.472 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:24.472 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:24.473 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:24.474 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.LoginResponse, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:24.476 +02:00 [INF] Executed action EliteClinic.Api.Controllers.AuthController.Refresh (EliteClinic.Api) in 578.8407ms
2026-02-07 09:24:24.476 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.AuthController.Refresh (EliteClinic.Api)'
2026-02-07 09:24:24.477 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:24.478 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:24.479 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.481 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2026-02-07 09:24:24.483 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5094/api/auth/refresh - 200 null application/json; charset=utf-8 600.1733ms
2026-02-07 09:24:24.489 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5094/api/auth/me - application/json null
2026-02-07 09:24:24.490 +02:00 [DBG] 1 candidate(s) found for the request path '/api/auth/me'
2026-02-07 09:24:24.491 +02:00 [DBG] Endpoint 'EliteClinic.Api.Controllers.AuthController.GetMe (EliteClinic.Api)' with route pattern 'api/Auth/me' is valid for the request path '/api/auth/me'
2026-02-07 09:24:24.492 +02:00 [DBG] Request matched endpoint 'EliteClinic.Api.Controllers.AuthController.GetMe (EliteClinic.Api)'
2026-02-07 09:24:24.492 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-07 09:24:24.493 +02:00 [DBG] Successfully validated the token.
2026-02-07 09:24:24.493 +02:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-07 09:24:24.494 +02:00 [DBG] Authorization was successful.
2026-02-07 09:24:24.494 +02:00 [INF] Executing endpoint 'EliteClinic.Api.Controllers.AuthController.GetMe (EliteClinic.Api)'
2026-02-07 09:24:24.498 +02:00 [INF] Route matched with {action = "GetMe", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[EliteClinic.Application.Common.Models.ApiResponse`1[EliteClinic.Application.Features.Auth.DTOs.UserInfoDto]]] GetMe(System.String) on controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api).
2026-02-07 09:24:24.499 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2026-02-07 09:24:24.500 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2026-02-07 09:24:24.502 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2026-02-07 09:24:24.503 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2026-02-07 09:24:24.504 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2026-02-07 09:24:24.505 +02:00 [DBG] Executing controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:24.506 +02:00 [DBG] Executed controller factory for controller EliteClinic.Api.Controllers.AuthController (EliteClinic.Api)
2026-02-07 09:24:24.507 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:24.508 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:24.509 +02:00 [DBG] Could not find a value in the request with name 'X-Tenant' for binding parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:24.509 +02:00 [DBG] Attempting to bind parameter 'tenantSlug' of type 'System.String' using the name 'X-Tenant' in request data ...
2026-02-07 09:24:24.510 +02:00 [DBG] Could not find a value in the request with name 'X-Tenant' for binding parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:24.511 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:24.512 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:24.513 +02:00 [DBG] Done attempting to bind parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:24.514 +02:00 [DBG] Attempting to validate the bound parameter 'tenantSlug' of type 'System.String' ...
2026-02-07 09:24:24.515 +02:00 [DBG] Done attempting to validate the bound parameter 'tenantSlug' of type 'System.String'.
2026-02-07 09:24:24.518 +02:00 [DBG] Entity Framework Core 9.0.0 initialized 'EliteClinicDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0' with options: EngineType=SqlServer 
2026-02-07 09:24:24.519 +02:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __p_0))'
2026-02-07 09:24:24.522 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApplicationUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.CreatedAt (DateTime) Required, 3], [Property: ApplicationUser.DisplayName (string) Required, 4], [Property: ApplicationUser.Email (string) MaxLength(256), 5], [Property: ApplicationUser.EmailConfirmed (bool) Required, 6], [Property: ApplicationUser.IsActive (bool) Required, 7], [Property: ApplicationUser.LastLoginAt (DateTime?), 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.RefreshToken (string), 16], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 17], [Property: ApplicationUser.SecurityStamp (string), 18], [Property: ApplicationUser.TenantId (Guid?) FK Index, 19], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 20], [Property: ApplicationUser.UserName (string) MaxLength(256), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.Id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.CreatedAt (DateTime) Required, 3], [Property: ApplicationUser.DisplayName (string) Required, 4], [Property: ApplicationUser.Email (string) MaxLength(256), 5], [Property: ApplicationUser.EmailConfirmed (bool) Required, 6], [Property: ApplicationUser.IsActive (bool) Required, 7], [Property: ApplicationUser.LastLoginAt (DateTime?), 8], [Property: ApplicationUser.LockoutEnabled (bool) Required, 9], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 10], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 11], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 12], [Property: ApplicationUser.PasswordHash (string), 13], [Property: ApplicationUser.PhoneNumber (string), 14], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 15], [Property: ApplicationUser.RefreshToken (string), 16], [Property: ApplicationUser.RefreshTokenExpiry (DateTime?), 17], [Property: ApplicationUser.SecurityStamp (string), 18], [Property: ApplicationUser.TenantId (Guid?) FK Index, 19], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 20], [Property: ApplicationUser.UserName (string) MaxLength(256), 21] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.CreatedAt, a.DisplayName, a.Email, a.EmailConfirmed, a.IsActive, a.LastLoginAt, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.RefreshToken, a.RefreshTokenExpiry, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.Id == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApplicationUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApplicationUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApplicationUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApplicationUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApplicationUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]: 
                            {
                                return 
                                {
                                    ApplicationUser instance;
                                    instance = new ApplicationUser();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(3);
                                    instance.<DisplayName>k__BackingField = dataReader.GetString(4);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(6);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(7);
                                    instance.<LastLoginAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(9);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(10) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(10);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(14) ? default(string) : dataReader.GetString(14);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(15);
                                    instance.<RefreshToken>k__BackingField = dataReader.IsDBNull(16) ? default(string) : dataReader.GetString(16);
                                    instance.<RefreshTokenExpiry>k__BackingField = dataReader.IsDBNull(17) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(17);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                    instance.<TenantId>k__BackingField = dataReader.IsDBNull(19) ? default(Guid?) : (Guid?)dataReader.GetGuid(19);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(20);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApplicationUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("EliteClinic.Domain.Entities.ApplicationUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApplicationUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: EliteClinic.Infrastructure.Data.EliteClinicDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-07 09:24:24.527 +02:00 [DBG] Creating DbConnection.
2026-02-07 09:24:24.528 +02:00 [DBG] Created DbConnection. (0ms).
2026-02-07 09:24:24.528 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.529 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.529 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:24.530 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:24.530 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:24.531 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2026-02-07 09:24:24.665 +02:00 [INF] Executed DbCommand (134ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastLoginAt], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiry], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2026-02-07 09:24:24.667 +02:00 [DBG] Context 'EliteClinicDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-07 09:24:24.668 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.669 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 2ms reading results.
2026-02-07 09:24:24.670 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.671 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:24.672 +02:00 [DBG] Opening connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.673 +02:00 [DBG] Opened connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.673 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-07 09:24:24.674 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-07 09:24:24.675 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-02-07 09:24:24.675 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:24.812 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2026-02-07 09:24:24.814 +02:00 [DBG] Closing data reader to 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.815 +02:00 [DBG] A data reader for 'db40278' on server 'db40278.public.databaseasp.net' is being disposed after spending 0ms reading results.
2026-02-07 09:24:24.815 +02:00 [DBG] Closing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.816 +02:00 [DBG] Closed connection to database 'db40278' on server 'db40278.public.databaseasp.net' (0ms).
2026-02-07 09:24:24.817 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2026-02-07 09:24:24.818 +02:00 [DBG] No information found on request to perform content negotiation.
2026-02-07 09:24:24.818 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2026-02-07 09:24:24.819 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2026-02-07 09:24:24.820 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2026-02-07 09:24:24.820 +02:00 [INF] Executing OkObjectResult, writing value of type 'EliteClinic.Application.Common.Models.ApiResponse`1[[EliteClinic.Application.Features.Auth.DTOs.UserInfoDto, EliteClinic.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-02-07 09:24:24.822 +02:00 [INF] Executed action EliteClinic.Api.Controllers.AuthController.GetMe (EliteClinic.Api) in 316.7875ms
2026-02-07 09:24:24.823 +02:00 [INF] Executed endpoint 'EliteClinic.Api.Controllers.AuthController.GetMe (EliteClinic.Api)'
2026-02-07 09:24:24.824 +02:00 [DBG] Connection id "0HNJ63753892B" completed keep alive response.
2026-02-07 09:24:24.825 +02:00 [DBG] 'EliteClinicDbContext' disposed.
2026-02-07 09:24:24.825 +02:00 [DBG] Disposing connection to database 'db40278' on server 'db40278.public.databaseasp.net'.
2026-02-07 09:24:24.826 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2026-02-07 09:24:24.827 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5094/api/auth/me - 200 null application/json; charset=utf-8 338.3846ms
2026-02-07 09:24:24.846 +02:00 [DBG] Connection id "0HNJ63753892B" reset.
2026-02-07 09:24:24.848 +02:00 [DBG] Connection id "0HNJ63753892B" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-02-07 09:24:24.850 +02:00 [DBG] Connection id "0HNJ63753892B" disconnecting.
2026-02-07 09:24:24.854 +02:00 [DBG] Connection id "0HNJ63753892B" stopped.
2026-02-07 09:25:09.115 +02:00 [DBG] Connection id "0HNJ63753892A" received FIN.
2026-02-07 09:25:09.117 +02:00 [DBG] Connection id "0HNJ63753892A" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-02-07 09:25:09.118 +02:00 [DBG] Connection id "0HNJ63753892A" disconnecting.
2026-02-07 09:25:09.118 +02:00 [DBG] Connection id "0HNJ63753892A" stopped.
2026-02-07 10:12:56.082 +02:00 [INF] Application is shutting down...
2026-02-07 10:12:56.103 +02:00 [DBG] Hosting stopping
2026-02-07 10:12:56.237 +02:00 [DBG] Hosting stopped
